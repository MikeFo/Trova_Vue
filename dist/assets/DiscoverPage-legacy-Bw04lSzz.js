!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function c(n,a,r,i){var c=a&&a.prototype instanceof s?a:s,u=Object.create(c.prototype);return o(u,"_invoke",function(n,a,r){var o,i,c,s=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,i=0,c=e,f.n=n,l}};function p(n,a){for(i=n,c=a,t=0;!d&&s&&!r&&t<u.length;t++){var r,o=u[t],p=f.p,m=o[2];n>3?(r=m===a)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=n<2&&p<o[1])?(i=0,f.v=a,f.n=o[1]):p<m&&(r=n<3||o[0]>a||a>m)&&(o[4]=n,o[5]=a,f.n=m,i=0))}if(r||n>1)return l;throw d=!0,a}return function(r,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,c=m;(t=i<2?e:c)||!d;){o||(i?i<3?(i>1&&(f.n=-1),p(i,c)):f.n=c:f.v=c);try{if(s=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(d=f.n<0)?c:n.call(a,f))!==l)break}catch(t){o=e,i=1,c=t}finally{s=1}}return{value:t,done:d}}}(n,r,i),!0),u}var l={};function s(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(o(t={},a,function(){return this}),t),p=d.prototype=s.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,o(p,"constructor",d),o(d,"constructor",u),u.displayName="GeneratorFunction",o(d,i,"GeneratorFunction"),o(p),o(p,i,"Generator"),o(p,a,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:m}})()}function o(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}o=function(e,t,n,a){function i(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},o(e,t,n,a)}function i(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function c(e){i(o,a,r,c,l,"next",e)}function l(e){i(o,a,r,c,l,"throw",e)}c(void 0)})}}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,s(a.key),a)}}function s(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}System.register(["./index-legacy-D3_iwoP0.js","./profile.service-legacy-D-F1sSvx.js"],function(e,a){"use strict";var o,i,s,u,d,f,p,m,v,h,b,g,y,x,w,k,C,S,j,P,z,I,L,U,N,O,_,A,E,T,D,G,M,F,Y;return{setters:[function(e){o=e.x,i=e.F,s=e.v,u=e.a1,d=e.r,f=e.a2,p=e.a4,m=e.G,v=e.I,h=e.J,b=e.L,g=e.M,y=e.N,x=e.O,w=e.Y,k=e.ag,C=e.af,S=e.Z,j=e.a6,P=e.an,z=e.aa,I=e.ab,L=e.a8,U=e.a5,N=e.Q,O=e.H,_=e.R,A=e.aN,E=e.X,T=e.ap,D=e.W,G=e.aE,M=e.aP,F=e.a0},function(e){Y=e.profileService}],execute:function(){var a=document.createElement("style");a.textContent=".discover-content[data-v-e8107c99]{--background: #f8fafc}.discover-container[data-v-e8107c99]{padding:16px;max-width:1400px;margin:0 auto}.mobile-toggle-container[data-v-e8107c99]{display:flex;position:relative;background:#e2e8f0;border-radius:12px;padding:4px;margin-bottom:24px}.toggle-background[data-v-e8107c99]{position:absolute;top:4px;left:4px;width:calc(50% - 4px);height:calc(100% - 8px);background:#fff;border-radius:8px;transition:transform .3s ease;box-shadow:0 2px 4px rgba(0,0,0,.1)}.toggle-background.right[data-v-e8107c99]{transform:translate(100%)}.toggle-button[data-v-e8107c99]{flex:1;text-align:center;padding:12px;font-weight:600;font-size:15px;color:#64748b;cursor:pointer;position:relative;z-index:1;transition:color .3s ease}.toggle-button.active[data-v-e8107c99]{color:#1a1a1a}.desktop-layout[data-v-e8107c99]{display:flex;gap:24px}.intros-section[data-v-e8107c99]{flex:0 0 400px}.all-members-section[data-v-e8107c99]{flex:1}.all-members-section.full-width[data-v-e8107c99]{flex:1 1 100%}.section-header[data-v-e8107c99]{margin-bottom:16px}.section-title[data-v-e8107c99]{font-size:22px;font-weight:700;color:#1a1a1a;margin:0;letter-spacing:-.5px}.search-container[data-v-e8107c99]{margin-bottom:24px}.members-search[data-v-e8107c99]{--background: #ffffff;--border-radius: 12px;--box-shadow: 0 2px 8px rgba(0, 0, 0, .04)}.matches-list[data-v-e8107c99]{display:flex;flex-direction:column;gap:12px}.match-card[data-v-e8107c99]{background:#fff;border-radius:12px;padding:16px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px rgba(0,0,0,.1)}.match-card[data-v-e8107c99]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.match-avatar[data-v-e8107c99],.member-avatar[data-v-e8107c99]{width:56px;height:56px;border-radius:50%;object-fit:cover;flex-shrink:0}.match-avatar-placeholder[data-v-e8107c99],.member-avatar-placeholder[data-v-e8107c99]{width:56px;height:56px;border-radius:50%;background:#e2e8f0;display:flex;align-items:center;justify-content:center;flex-shrink:0}.match-avatar-placeholder ion-icon[data-v-e8107c99],.member-avatar-placeholder ion-icon[data-v-e8107c99]{font-size:28px;color:#94a3b8}.match-info[data-v-e8107c99],.member-info[data-v-e8107c99]{flex:1;min-width:0}.match-name[data-v-e8107c99],.member-name[data-v-e8107c99]{font-size:16px;font-weight:600;color:#1a1a1a;margin:0 0 4px}.match-bio[data-v-e8107c99],.member-bio[data-v-e8107c99]{font-size:14px;color:#64748b;margin:0 0 8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.match-reasons[data-v-e8107c99]{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}.match-reason-tag[data-v-e8107c99]{font-size:12px;padding:4px 8px;background:#f1f5f9;border-radius:6px;color:#475569}.say-hi-button[data-v-e8107c99]{--border-color: var(--color-primary);--color: var(--color-primary);--border-radius: 8px;flex-shrink:0}.members-list[data-v-e8107c99]{display:flex;flex-direction:column;gap:12px}.member-card[data-v-e8107c99]{background:#fff;border-radius:12px;padding:16px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px rgba(0,0,0,.1)}.member-card[data-v-e8107c99]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.member-interests[data-v-e8107c99]{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}.interest-tag[data-v-e8107c99]{font-size:12px;padding:4px 8px;background:#f1f5f9;border-radius:6px;color:#475569}.more-interests[data-v-e8107c99]{font-size:12px;color:#94a3b8;padding:4px 0}.member-location[data-v-e8107c99]{display:flex;align-items:center;gap:4px;font-size:13px;color:#64748b;margin-top:6px}.view-profile-button[data-v-e8107c99]{--color: #94a3b8;flex-shrink:0}.loading-container[data-v-e8107c99]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 16px;gap:16px}.empty-state[data-v-e8107c99]{text-align:center;padding:64px 16px;display:flex;flex-direction:column;align-items:center;justify-content:center}.empty-icon[data-v-e8107c99]{width:100px;height:100px;margin:0 auto 32px;background:linear-gradient(135deg,rgba(45,122,78,.1),rgba(29,185,138,.1));border-radius:24px;display:flex;align-items:center;justify-content:center}.empty-icon ion-icon[data-v-e8107c99]{font-size:48px;color:var(--color-primary)}.empty-title[data-v-e8107c99]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0 0 12px}.empty-description[data-v-e8107c99]{font-size:16px;color:#64748b;margin:0;line-height:1.6;max-width:400px}@media (max-width: 767px){.desktop-layout[data-v-e8107c99]{flex-direction:column}.intros-section[data-v-e8107c99]{display:none}.intros-section.mobile-visible[data-v-e8107c99]{display:block}.all-members-section.mobile-hidden[data-v-e8107c99]{display:none}.all-members-section.mobile-visible[data-v-e8107c99]{display:block}}@media (min-width: 768px){.mobile-toggle-container[data-v-e8107c99]{display:none}.discover-container[data-v-e8107c99]{padding:24px}}\n",document.head.appendChild(a);var H=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"getMatches",value:(a=c(r().m(function e(){var t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,o.get("/matches");case 1:return t=e.v,e.a(2,t||[]);case 2:return e.p=2,n=e.v,console.error("[MatchService] Failed to fetch matches:",n),e.a(2,[])}},e,null,[[0,2]])})),function(){return a.apply(this,arguments)})}],t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,a}(),V=new H,J={class:"discover-container"},Q={key:0,class:"mobile-toggle-container"},R={class:"desktop-layout"},W={key:0,class:"loading-container"},X={key:1,class:"empty-state"},Z={class:"empty-icon"},$={key:2,class:"matches-list"},q=["onClick"],B=["src","alt"],K={key:1,class:"match-avatar-placeholder"},ee={class:"match-info"},te={class:"match-name"},ne={key:0,class:"match-bio"},ae={key:1,class:"match-reasons"},re={class:"section-header"},oe={class:"section-title"},ie={class:"search-container"},ce={key:0,class:"loading-container"},le={key:1,class:"empty-state"},se={class:"empty-icon"},ue={class:"empty-description"},de={key:2,class:"members-list"},fe=["onClick"],pe=["src","alt"],me={key:1,class:"member-avatar-placeholder"},ve={class:"member-info"},he={class:"member-name"},be={key:0,class:"member-bio"},ge={key:1,class:"member-interests"},ye={key:0,class:"more-interests"},xe={key:2,class:"member-location"},we=i({__name:"DiscoverPage",setup:function(e){var a=O();s();var o=u(),i=d(!0),l=d(!0),F=d(!1),H=d(!1),we=d(""),ke=d([]),Ce=d([]),Se=f(function(){if(!we.value.trim())return Ce.value;var e,t=we.value.toLowerCase(),a=[],r=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==a.return||a.return()}finally{if(l)throw i}}}}(Ce.value);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=0,c=!1;if("".concat(o.fname," ").concat(o.lname).toLowerCase().includes(t)?(i+=100,c=!0):(o.fname.toLowerCase().includes(t)||o.lname.toLowerCase().includes(t))&&(i+=80,c=!0),o.interests){var l=o.interests.filter(function(e){return e.toLowerCase().includes(t)});l.length>0&&(i+=10*l.length,c=!0)}if(o.locations){var s=o.locations.filter(function(e){var n;return e.primaryName.toLowerCase().includes(t)||(null===(n=e.secondaryName)||void 0===n?void 0:n.toLowerCase().includes(t))});s.length>0&&(i+=5*s.length,c=!0)}if(o.education){var u=o.education.filter(function(e){return e.toLowerCase().includes(t)});u.length>0&&(i+=5*u.length,c=!0)}if(o.organizations){var d=o.organizations.filter(function(e){return e.toLowerCase().includes(t)});d.length>0&&(i+=5*d.length,c=!0)}o.bio&&o.bio.toLowerCase().includes(t)&&(i+=3,c=!0),c&&a.push({profile:o,score:i})}}catch(f){r.e(f)}finally{r.f()}return a.sort(function(e,t){if(t.score!==e.score)return t.score-e.score;var n="".concat(e.profile.fname," ").concat(e.profile.lname).toLowerCase(),a="".concat(t.profile.fname," ").concat(t.profile.lname).toLowerCase();return n.localeCompare(a)}),a.map(function(e){return e.profile})});function je(){return Pe.apply(this,arguments)}function Pe(){return(Pe=c(r().m(function e(){var t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.value){e.n=1;break}return e.a(2);case 1:return F.value=!0,e.p=2,e.n=3,V.getMatches();case 3:t=e.v,ke.value=t,console.log("[DiscoverPage] Loaded matches:",t.length),e.n=5;break;case 4:e.p=4,n=e.v,console.error("[DiscoverPage] Error loading matches:",n);case 5:return e.p=5,F.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function ze(){return Ie.apply(this,arguments)}function Ie(){return(Ie=c(r().m(function e(){var t,n,a;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=o.currentCommunityId){e.n=1;break}return console.warn("[DiscoverPage] No community selected"),e.a(2);case 1:return H.value=!0,e.p=2,e.n=3,Y.getProfilesForUserAndCommunity(t);case 3:n=e.v,Ce.value=n,console.log("[DiscoverPage] Loaded profiles:",n.length),e.n=5;break;case 4:e.p=4,a=e.v,console.error("[DiscoverPage] Error loading profiles:",a);case 5:return e.p=5,H.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function Le(e){we.value=e.target.value||""}function Ue(e){a.push("/tabs/profile/".concat(e))}function Ne(){return(Ne=c(r().m(function e(t){var n;return r().w(function(e){for(;;)switch(e.n){case 0:console.log("[DiscoverPage] Say Hi to:",(null===(n=t.matchedUser)||void 0===n?void 0:n.fullName)||t.matchedUserId);case 1:return e.a(2)}},e)}))).apply(this,arguments)}return p(function(){return o.currentCommunityId},function(e){e&&(ze(),je())}),m(function(){ze(),je()}),function(e,n){return _(),v(b(g),null,{default:h(function(){return[y(b(N),{fullscreen:!0,class:"discover-content"},{default:h(function(){return[x("div",J,[i.value?(_(),w("div",Q,[x("div",{class:C(["toggle-background",{right:!l.value}])},null,2),x("div",{class:C(["toggle-button",{active:l.value}]),onClick:n[0]||(n[0]=function(e){return l.value=!0})}," Intros ",2),x("div",{class:C(["toggle-button",{active:!l.value}]),onClick:n[1]||(n[1]=function(e){return l.value=!1})}," All Members ",2)])):k("",!0),x("div",R,[i.value?(_(),w("div",{key:0,class:C(["intros-section",{"mobile-visible":l.value,"mobile-hidden":!l.value}])},[n[7]||(n[7]=x("h2",{class:"section-title"},"Intros",-1)),F.value?(_(),w("div",W,[y(b(S)),n[3]||(n[3]=x("p",null,"Loading matches...",-1))])):0===ke.value.length?(_(),w("div",X,[x("div",Z,[y(b(j),{icon:b(P)},null,8,["icon"])]),n[4]||(n[4]=x("h3",{class:"empty-title"},"No matches yet",-1)),n[5]||(n[5]=x("p",{class:"empty-description"}," Complete your profile to get personalized recommendations! ",-1))])):(_(),w("div",$,[(_(!0),w(z,null,I(ke.value,function(e){var a,r,o,i,c;return _(),w("div",{key:e.id,class:"match-card",onClick:function(t){var n;return Ue((null===(n=e.matchedUser)||void 0===n?void 0:n.id)||e.matchedUserId)}},[null!==(a=e.matchedUser)&&void 0!==a&&a.profilePicture?(_(),w("img",{key:0,src:e.matchedUser.profilePicture,alt:e.matchedUser.fullName||"".concat(e.matchedUser.fname," ").concat(e.matchedUser.lname),class:"match-avatar"},null,8,B)):(_(),w("div",K,[y(b(j),{icon:b(A)},null,8,["icon"])])),x("div",ee,[x("h4",te,L((null===(r=e.matchedUser)||void 0===r?void 0:r.fullName)||"".concat(null===(o=e.matchedUser)||void 0===o?void 0:o.fname," ").concat(null===(i=e.matchedUser)||void 0===i?void 0:i.lname)),1),null!==(c=e.matchedUser)&&void 0!==c&&c.bio?(_(),w("p",ne,L(e.matchedUser.bio),1)):k("",!0),e.reasons&&e.reasons.length>0?(_(),w("div",ae,[(_(!0),w(z,null,I(e.reasons.slice(0,3),function(e,t){return _(),w("span",{key:t,class:"match-reason-tag"},L(e),1)}),128))])):k("",!0)]),y(b(E),{fill:"outline",size:"small",class:"say-hi-button",onClick:T(function(t){return function(e){return Ne.apply(this,arguments)}(e)},["stop"])},{default:h(function(){return t(n[6]||(n[6]=[D(" Say Hi ",-1)]))}),_:1},8,["onClick"])],8,q)}),128))]))],2)):k("",!0),x("div",{class:C(["all-members-section",{"full-width":!i.value,"mobile-visible":!l.value||!i.value,"mobile-hidden":l.value&&i.value}])},[x("div",re,[x("h2",oe,L(i.value?"All Members":"Discover Your Community"),1)]),x("div",ie,[y(b(U),{modelValue:we.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return we.value=e}),placeholder:"Search by name, interest, location...",class:"members-search",debounce:100,onIonInput:Le},null,8,["modelValue"])]),H.value?(_(),w("div",ce,[y(b(S)),n[8]||(n[8]=x("p",null,"Loading members...",-1))])):0===Se.value.length?(_(),w("div",le,[x("div",se,[y(b(j),{icon:b(P)},null,8,["icon"])]),n[9]||(n[9]=x("h3",{class:"empty-title"},"No members found",-1)),x("p",ue,L(we.value?"Try a different search term":"No members in this community yet"),1)])):(_(),w("div",de,[(_(!0),w(z,null,I(Se.value,function(e){return _(),w("div",{key:e.id,class:"member-card",onClick:function(t){return Ue(e.userId)}},[e.profilePicture?(_(),w("img",{key:0,src:e.profilePicture,alt:e.fullName||"".concat(e.fname," ").concat(e.lname),class:"member-avatar"},null,8,pe)):(_(),w("div",me,[y(b(j),{icon:b(A)},null,8,["icon"])])),x("div",ve,[x("h4",he,L(e.fullName||"".concat(e.fname," ").concat(e.lname)),1),e.bio?(_(),w("p",be,L(e.bio),1)):k("",!0),e.interests&&e.interests.length>0?(_(),w("div",ge,[(_(!0),w(z,null,I(e.interests.slice(0,3),function(e,t){return _(),w("span",{key:t,class:"interest-tag"},L(e),1)}),128)),e.interests.length>3?(_(),w("span",ye," +"+L(e.interests.length-3),1)):k("",!0)])):k("",!0),e.locations&&e.locations.length>0?(_(),w("div",xe,[y(b(j),{icon:b(G)},null,8,["icon"]),x("span",null,L(e.locations[0].primaryName),1)])):k("",!0)]),y(b(E),{fill:"clear",size:"small",class:"view-profile-button",onClick:T(function(t){return Ue(e.userId)},["stop"])},{default:h(function(){return[y(b(j),{icon:b(M)},null,8,["icon"])]}),_:1},8,["onClick"])],8,fe)}),128))]))],2)])])]}),_:1})]}),_:1})}}});e("default",F(we,[["__scopeId","data-v-e8107c99"]]))}}})}();
