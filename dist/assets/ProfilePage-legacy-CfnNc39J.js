!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,a,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function c(e,r,o,i){var c=r&&r.prototype instanceof u?r:u,s=Object.create(c.prototype);return t(s,"_invoke",function(e,t,r){var o,i,c,u=0,s=r||[],d=!1,p={p:0,n:0,v:n,a:f,f:f.bind(n,4),d:function(e,t){return o=e,i=0,c=n,p.n=t,l}};function f(e,t){for(i=e,c=t,a=0;!d&&u&&!r&&a<s.length;a++){var r,o=s[a],f=p.p,v=o[2];e>3?(r=v===t)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=n):o[0]<=f&&((r=e<2&&f<o[1])?(i=0,p.v=t,p.n=o[1]):f<v&&(r=e<3||o[0]>t||t>v)&&(o[4]=e,o[5]=t,p.n=v,i=0))}if(r||e>1)return l;throw d=!0,t}return function(r,s,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&f(s,v),i=s,c=v;(a=i<2?n:c)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,c)):p.n=c:p.v=c);try{if(u=2,o){if(i||(r="next"),a=o[r]){if(!(a=a.call(o,c)))throw TypeError("iterator result is not an object");if(!a.done)return a;c=a.value,i<2&&(i=0)}else 1===i&&(a=o.return)&&a.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=n}else if((a=(d=p.n<0)?c:e.call(t,p))!==l)break}catch(a){o=n,i=1,c=a}finally{u=1}}return{value:a,done:d}}}(e,o,i),!0),s}var l={};function u(){}function s(){}function d(){}a=Object.getPrototypeOf;var p=[][o]?a(a([][o]())):(t(a={},o,function(){return this}),a),f=d.prototype=u.prototype=Object.create(p);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=d,t(f,"constructor",d),t(d,"constructor",s),s.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(f),t(f,i,"Generator"),t(f,o,function(){return this}),t(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m:v}})()}function t(e,n,a,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,a,r){function i(n,a){t(e,n,function(e){return this._invoke(n,a,e)})}n?o?o(e,n,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[n]=a:(i("next",0),i("throw",1),i("return",2))},t(e,n,a,r)}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,l,"next",e)}function l(e){r(i,a,o,c,l,"throw",e)}c(void 0)})}}System.register(["./index-legacy-D3_iwoP0.js"],function(t,a){"use strict";var r,i,c,l,u,s,d,p,f,v,b,m,g,x,h,y,w,k,_,j,z,O,P,S,C,A,N,G,T,E,U,F,I;return{setters:[function(e){r=e.F,i=e.v,c=e.r,l=e.a2,u=e.a3,s=e.G,d=e.a4,p=e.I,f=e.J,v=e.L,b=e.M,m=e.x,g=e.N,x=e.O,h=e.ag,y=e.Y,w=e.a6,k=e.aN,_=e.aJ,j=e.a8,z=e.aO,O=e.ac,P=e.ae,S=e.aP,C=e.an,A=e.aQ,N=e.aR,G=e.aS,T=e.Q,E=e.H,U=e.S,F=e.R,I=e.a0}],execute:function(){var a=document.createElement("style");a.textContent=".profile-content[data-v-89bc2ee6]{--background: #f8fafc}.profile-container[data-v-89bc2ee6]{padding:16px;max-width:100%;margin:0 auto}.profile-header-card[data-v-89bc2ee6]{text-align:center;padding:32px 24px;background:linear-gradient(135deg,rgba(45,122,78,.05),rgba(29,185,138,.05));border-radius:20px;margin-bottom:24px;box-shadow:0 4px 16px rgba(0,0,0,.06);border:1px solid rgba(45,122,78,.1)}.avatar-wrapper[data-v-89bc2ee6]{position:relative;display:inline-block;margin-bottom:20px}.profile-avatar[data-v-89bc2ee6]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid #ffffff;box-shadow:0 4px 16px rgba(0,0,0,.1)}.avatar-placeholder[data-v-89bc2ee6]{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 4px 16px rgba(45,122,78,.3)}.avatar-placeholder ion-icon[data-v-89bc2ee6]{font-size:56px}.avatar-edit-overlay[data-v-89bc2ee6]{position:absolute;bottom:0;right:0;width:36px;height:36px;background:var(--color-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 2px 8px rgba(45,122,78,.4);cursor:pointer;transition:all .2s ease;border:3px solid #ffffff}.avatar-edit-overlay[data-v-89bc2ee6]:hover{transform:scale(1.1);box-shadow:0 4px 12px rgba(45,122,78,.5)}.avatar-edit-overlay ion-icon[data-v-89bc2ee6]{font-size:18px}.profile-name[data-v-89bc2ee6]{font-size:26px;font-weight:700;color:#1a1a1a;margin:0 0 8px;letter-spacing:-.5px}.profile-email[data-v-89bc2ee6]{font-size:15px;color:#64748b;margin:0;font-weight:500}.profile-menu-section[data-v-89bc2ee6]{display:flex;flex-direction:column;gap:16px}.menu-card[data-v-89bc2ee6]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.04);border:1px solid rgba(0,0,0,.05)}.menu-item[data-v-89bc2ee6]{--padding-start: 20px;--inner-padding-end: 20px;--padding-top: 16px;--padding-bottom: 16px;--min-height: 72px;transition:background-color .2s ease}.menu-item[data-v-89bc2ee6]:hover{--background: #f8fafc}.menu-item[data-v-89bc2ee6]:active{--background: #f1f5f9}.menu-icon-wrapper[data-v-89bc2ee6]{width:44px;height:44px;border-radius:12px;background:transparent;border:2px solid var(--color-primary);display:flex;align-items:center;justify-content:center;margin-right:16px}.menu-icon[data-v-89bc2ee6]{font-size:22px;color:var(--color-primary)}.menu-title[data-v-89bc2ee6]{font-size:16px;font-weight:600;color:#1a1a1a;margin:0;letter-spacing:-.2px}.menu-subtitle[data-v-89bc2ee6]{font-size:14px;color:#64748b;margin:4px 0 0;font-weight:400}.menu-arrow[data-v-89bc2ee6]{font-size:20px;color:#cbd5e1;margin-left:8px}.logout-card[data-v-89bc2ee6]{border:1px solid rgba(239,68,68,.2)}.logout-item[data-v-89bc2ee6]{--background: transparent}.logout-item[data-v-89bc2ee6]:hover{--background: rgba(239, 68, 68, .05)}.logout-icon-wrapper[data-v-89bc2ee6]{background:transparent;border:2px solid #ef4444}.logout-icon[data-v-89bc2ee6],.logout-title[data-v-89bc2ee6]{color:#ef4444}@media (min-width: 768px){.profile-container[data-v-89bc2ee6]{max-width:700px;padding:24px}.profile-header-card[data-v-89bc2ee6]{padding:48px 32px}.profile-avatar[data-v-89bc2ee6],.avatar-placeholder[data-v-89bc2ee6]{width:140px;height:140px}.avatar-placeholder ion-icon[data-v-89bc2ee6]{font-size:64px}.avatar-edit-overlay[data-v-89bc2ee6]{width:40px;height:40px}.avatar-edit-overlay ion-icon[data-v-89bc2ee6]{font-size:20px}.profile-name[data-v-89bc2ee6]{font-size:32px}.profile-email[data-v-89bc2ee6]{font-size:16px}.header-title[data-v-89bc2ee6]{font-size:28px}.menu-item[data-v-89bc2ee6]{--padding-start: 24px;--inner-padding-end: 24px;--padding-top: 20px;--padding-bottom: 20px}.menu-icon-wrapper[data-v-89bc2ee6]{width:48px;height:48px;border-width:2.5px}.menu-icon[data-v-89bc2ee6]{font-size:24px}.menu-title[data-v-89bc2ee6]{font-size:17px}.menu-subtitle[data-v-89bc2ee6]{font-size:15px}}@media (min-width: 1024px){.profile-container[data-v-89bc2ee6]{max-width:800px;padding:32px}.profile-header-card[data-v-89bc2ee6]{padding:56px 40px}}\n",document.head.appendChild(a);var M={class:"profile-container"},L={class:"profile-header-card"},J={class:"avatar-wrapper"},Q=["src","alt"],R={key:1,class:"avatar-placeholder"},H={class:"profile-name"},V={class:"profile-email"},Y={key:1,class:"profile-menu-section"},$={class:"menu-card"},q={class:"menu-icon-wrapper",slot:"start"},B={class:"menu-icon-wrapper",slot:"start"},D={class:"menu-icon-wrapper",slot:"start"},K={class:"menu-icon-wrapper",slot:"start"},W={class:"menu-card logout-card"},X={class:"menu-icon-wrapper logout-icon-wrapper",slot:"start"},Z=r({__name:"ProfilePage",setup:function(t){var a=E(),r=u(),I=i(),Z=c(null),ee=l(function(){var e,t=r.params.id?Number(r.params.id):null;return!t||(null===(e=I.user)||void 0===e?void 0:e.id)===t}),te=l(function(){return ee.value?I.user:Z.value}),ne=c(!1);function ae(e){a.push(e)}function re(){ne.value=!0}function oe(e){console.log("Profile photo updated:",e)}function ie(){return ce.apply(this,arguments)}function ce(){return(ce=o(e().m(function t(){var n,a,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if((n=r.params.id?Number(r.params.id):null)&&!ee.value){e.n=1;break}return Z.value=null,e.a(2);case 1:return e.p=1,e.n=2,m.get("/users/".concat(n));case 2:a=e.v,Z.value=a,e.n=4;break;case 3:e.p=3,o=e.v,console.error("Failed to load selected user profile",o);case 4:return e.a(2)}},t,null,[[1,3]])}))).apply(this,arguments)}function le(){return ue.apply(this,arguments)}function ue(){return(ue=o(e().m(function t(){var n;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,U.logout();case 1:a.push("/login"),e.n=3;break;case 2:e.p=2,n=e.v,console.error("Logout error:",n);case 3:return e.a(2)}},t,null,[[0,2]])}))).apply(this,arguments)}return s(ie),d(function(){return r.params.id},ie),function(e,t){return F(),p(v(b),null,{default:f(function(){return[g(v(T),{fullscreen:!0,class:"profile-content"},{default:f(function(){var e,a,r,o,i;return[x("div",M,[x("div",L,[x("div",J,[null!==(e=te.value)&&void 0!==e&&e.profilePicture?(F(),y("img",{key:0,src:te.value.profilePicture,alt:(null===(a=te.value)||void 0===a?void 0:a.fullName)||"User",class:"profile-avatar"},null,8,Q)):(F(),y("div",R,[g(v(w),{icon:v(k)},null,8,["icon"])])),ee.value?(F(),y("div",{key:2,class:"avatar-edit-overlay",onClick:re},[g(v(w),{icon:v(_)},null,8,["icon"])])):h("",!0)]),x("h2",H,j((null===(r=te.value)||void 0===r?void 0:r.fullName)||(null===(o=te.value)||void 0===o?void 0:o.fname)||"User"),1),x("p",V,j((null===(i=te.value)||void 0===i?void 0:i.email)||""),1)]),ee.value?(F(),p(z,{key:0,"is-open":ne.value,"onUpdate:isOpen":t[0]||(t[0]=function(e){return ne.value=e}),onPhotoUpdated:oe},null,8,["is-open"])):h("",!0),ee.value?(F(),y("div",Y,[x("div",$,[g(v(O),{button:"",lines:"none",class:"menu-item",onClick:t[1]||(t[1]=function(e){return ae("/setup")})},{default:f(function(){return[x("div",q,[g(v(w),{icon:v(_),class:"menu-icon"},null,8,["icon"])]),g(v(P),null,{default:f(function(){return n(t[4]||(t[4]=[x("h3",{class:"menu-title"},"Edit Profile",-1),x("p",{class:"menu-subtitle"},"Update your information",-1)]))}),_:1}),g(v(w),{icon:v(S),slot:"end",class:"menu-arrow"},null,8,["icon"])]}),_:1}),g(v(O),{button:"",lines:"none",class:"menu-item",onClick:t[2]||(t[2]=function(e){return ae("/tabs/communities")})},{default:f(function(){return[x("div",B,[g(v(w),{icon:v(C),class:"menu-icon"},null,8,["icon"])]),g(v(P),null,{default:f(function(){return n(t[5]||(t[5]=[x("h3",{class:"menu-title"},"My Communities",-1),x("p",{class:"menu-subtitle"},"View your communities",-1)]))}),_:1}),g(v(w),{icon:v(S),slot:"end",class:"menu-arrow"},null,8,["icon"])]}),_:1}),g(v(O),{button:"",lines:"none",class:"menu-item"},{default:f(function(){return[x("div",D,[g(v(w),{icon:v(A),class:"menu-icon"},null,8,["icon"])]),g(v(P),null,{default:f(function(){return n(t[6]||(t[6]=[x("h3",{class:"menu-title"},"Notifications",-1),x("p",{class:"menu-subtitle"},"Manage your notifications",-1)]))}),_:1}),g(v(w),{icon:v(S),slot:"end",class:"menu-arrow"},null,8,["icon"])]}),_:1}),g(v(O),{button:"",lines:"none",class:"menu-item",onClick:t[3]||(t[3]=function(e){return ae("/settings")})},{default:f(function(){return[x("div",K,[g(v(w),{icon:v(N),class:"menu-icon"},null,8,["icon"])]),g(v(P),null,{default:f(function(){return n(t[7]||(t[7]=[x("h3",{class:"menu-title"},"Settings",-1),x("p",{class:"menu-subtitle"},"App preferences",-1)]))}),_:1}),g(v(w),{icon:v(S),slot:"end",class:"menu-arrow"},null,8,["icon"])]}),_:1})]),x("div",W,[g(v(O),{button:"",lines:"none",class:"menu-item logout-item",onClick:le},{default:f(function(){return[x("div",X,[g(v(w),{icon:v(G),class:"menu-icon logout-icon"},null,8,["icon"])]),g(v(P),null,{default:f(function(){return n(t[8]||(t[8]=[x("h3",{class:"menu-title logout-title"},"Logout",-1)]))}),_:1})]}),_:1})])])):h("",!0)])]}),_:1})]}),_:1})}}});t("default",I(Z,[["__scopeId","data-v-89bc2ee6"]]))}}})}();
