import{F as $,v as F,r as N,a2 as S,a3 as A,G as D,a4 as E,I as V,J as a,L as e,M as J,x as Q,N as o,O as t,ag as w,Y as f,a6 as l,aN as G,aJ as x,a8 as L,aO as H,ac as d,ae as p,aP as v,an as T,aQ as Y,aR as j,aS as q,Q as z,H as K,S as W,R as u,a0 as X}from"./index-CkJ7yJ3n.js";const Z={class:"profile-container"},ee={class:"profile-header-card"},se={class:"avatar-wrapper"},oe=["src","alt"],te={key:1,class:"avatar-placeholder"},ne={class:"profile-name"},ae={class:"profile-email"},le={key:1,class:"profile-menu-section"},ie={class:"menu-card"},ue={class:"menu-icon-wrapper",slot:"start"},re={class:"menu-icon-wrapper",slot:"start"},ce={class:"menu-icon-wrapper",slot:"start"},de={class:"menu-icon-wrapper",slot:"start"},pe={class:"menu-card logout-card"},me={class:"menu-icon-wrapper logout-icon-wrapper",slot:"start"},fe=$({__name:"ProfilePage",setup(ve){const y=K(),r=A(),P=F(),_=N(null),c=S(()=>{var s;const n=r.params.id?Number(r.params.id):null;return n?((s=P.user)==null?void 0:s.id)===n:!0}),i=S(()=>c.value?P.user:_.value),g=N(!1);function h(n){y.push(n)}function M(){g.value=!0}function B(n){console.log("Profile photo updated:",n)}async function b(){const n=r.params.id?Number(r.params.id):null;if(!n||c.value){_.value=null;return}try{const s=await Q.get("/users/".concat(n));_.value=s}catch(s){console.error("Failed to load selected user profile",s)}}D(b),E(()=>r.params.id,b);async function R(){try{await W.logout(),y.push("/login")}catch(n){console.error("Logout error:",n)}}return(n,s)=>(u(),V(e(J),null,{default:a(()=>[o(e(z),{fullscreen:!0,class:"profile-content"},{default:a(()=>{var k,O,U,I,C;return[t("div",Z,[t("div",ee,[t("div",se,[(k=i.value)!=null&&k.profilePicture?(u(),f("img",{key:0,src:i.value.profilePicture,alt:((O=i.value)==null?void 0:O.fullName)||"User",class:"profile-avatar"},null,8,oe)):(u(),f("div",te,[o(e(l),{icon:e(G)},null,8,["icon"])])),c.value?(u(),f("div",{key:2,class:"avatar-edit-overlay",onClick:M},[o(e(l),{icon:e(x)},null,8,["icon"])])):w("",!0)]),t("h2",ne,L(((U=i.value)==null?void 0:U.fullName)||((I=i.value)==null?void 0:I.fname)||"User"),1),t("p",ae,L(((C=i.value)==null?void 0:C.email)||""),1)]),c.value?(u(),V(H,{key:0,"is-open":g.value,"onUpdate:isOpen":s[0]||(s[0]=m=>g.value=m),onPhotoUpdated:B},null,8,["is-open"])):w("",!0),c.value?(u(),f("div",le,[t("div",ie,[o(e(d),{button:"",lines:"none",class:"menu-item",onClick:s[1]||(s[1]=m=>h("/setup"))},{default:a(()=>[t("div",ue,[o(e(l),{icon:e(x),class:"menu-icon"},null,8,["icon"])]),o(e(p),null,{default:a(()=>[...s[4]||(s[4]=[t("h3",{class:"menu-title"},"Edit Profile",-1),t("p",{class:"menu-subtitle"},"Update your information",-1)])]),_:1}),o(e(l),{icon:e(v),slot:"end",class:"menu-arrow"},null,8,["icon"])]),_:1}),o(e(d),{button:"",lines:"none",class:"menu-item",onClick:s[2]||(s[2]=m=>h("/tabs/communities"))},{default:a(()=>[t("div",re,[o(e(l),{icon:e(T),class:"menu-icon"},null,8,["icon"])]),o(e(p),null,{default:a(()=>[...s[5]||(s[5]=[t("h3",{class:"menu-title"},"My Communities",-1),t("p",{class:"menu-subtitle"},"View your communities",-1)])]),_:1}),o(e(l),{icon:e(v),slot:"end",class:"menu-arrow"},null,8,["icon"])]),_:1}),o(e(d),{button:"",lines:"none",class:"menu-item"},{default:a(()=>[t("div",ce,[o(e(l),{icon:e(Y),class:"menu-icon"},null,8,["icon"])]),o(e(p),null,{default:a(()=>[...s[6]||(s[6]=[t("h3",{class:"menu-title"},"Notifications",-1),t("p",{class:"menu-subtitle"},"Manage your notifications",-1)])]),_:1}),o(e(l),{icon:e(v),slot:"end",class:"menu-arrow"},null,8,["icon"])]),_:1}),o(e(d),{button:"",lines:"none",class:"menu-item",onClick:s[3]||(s[3]=m=>h("/settings"))},{default:a(()=>[t("div",de,[o(e(l),{icon:e(j),class:"menu-icon"},null,8,["icon"])]),o(e(p),null,{default:a(()=>[...s[7]||(s[7]=[t("h3",{class:"menu-title"},"Settings",-1),t("p",{class:"menu-subtitle"},"App preferences",-1)])]),_:1}),o(e(l),{icon:e(v),slot:"end",class:"menu-arrow"},null,8,["icon"])]),_:1})]),t("div",pe,[o(e(d),{button:"",lines:"none",class:"menu-item logout-item",onClick:R},{default:a(()=>[t("div",me,[o(e(l),{icon:e(q),class:"menu-icon logout-icon"},null,8,["icon"])]),o(e(p),null,{default:a(()=>[...s[8]||(s[8]=[t("h3",{class:"menu-title logout-title"},"Logout",-1)])]),_:1})]),_:1})])])):w("",!0)])]}),_:1})]),_:1}))}}),ge=X(fe,[["__scopeId","data-v-89bc2ee6"]]);export{ge as default};
