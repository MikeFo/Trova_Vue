import{F as x,Y as h,O as c,aU as ne,a8 as P,R as r,a0 as L,x as K,r as _,a2 as J,a4 as ae,ag as $,I as E,aa as A,ab as B,L as l,ac as F,J as y,N as i,U as q,V as le,X as z,W as T,P as ie,a6 as R,bk as G,bl as Q,ae as U,as as re,G as se,bc as X,az as te,aA as oe,v as ue,M as de,ak as ce,al as pe,am as me,Q as ve,$ as O,a_ as Y,H as fe}from"./index-CkJ7yJ3n.js";import{profileService as j}from"./profile.service-CDoO2DLV.js";import{u as Z}from"./useGooglePlaces-CgJ8nW3r.js";const ge={class:"progress-container"},ye={class:"progress-bar"},he={class:"step-indicator"},ke={class:"step-text"},we=x({__name:"StepProgress",props:{currentStep:{},totalSteps:{}},setup(n){return(k,o)=>(r(),h("div",ge,[c("div",ye,[c("div",{class:"progress-fill",style:ne({width:"".concat(n.currentStep/n.totalSteps*100,"%")})},null,4)]),c("div",he,[c("span",ke,"Step "+P(n.currentStep)+" of "+P(n.totalSteps),1)])]))}}),Se=L(we,[["__scopeId","data-v-7e9487e4"]]);class be{async getThings(k){try{const o="/data/things/".concat(k);console.log("DataService: Fetching from ".concat(o));const a=await K.get(o);return console.log("DataService: Received ".concat((a==null?void 0:a.length)||0," things"),a),a||[]}catch(o){throw console.error('DataService: Error fetching things of type "'.concat(k,'":'),o),o}}async addThing(k,o){return K.post("/data/things",{name:k,altNames:"",type:o})}async searchOrganizations(k){return K.get("/data/organizations/search/".concat(k))}async searchEducation(k){return K.get("/data/edu/search/".concat(k))}async getSportsTeams(){return K.get("/data/teams")}}const Te=new be,$e={class:"thing-selector"},Ce={key:0,class:"selected-things"},Ie={key:2,class:"suggestions-dropdown"},_e=["onClick"],Ee={key:3,class:"available-things"},Pe={class:"things-list"},De={class:"warning-text"},xe=x({__name:"ThingSelector",props:{selectedThings:{},type:{},inputPlaceholder:{default:"Search..."},minRequired:{default:0},showWarning:{type:Boolean,default:!1},showInput:{type:Boolean,default:!0}},emits:["update:selectedThings","add","remove"],setup(n,{emit:k}){const o=n,a=k,u=_(""),t=_([]),v=_([]);let w=null;async function b(){var s,m,d;try{console.log("[ThingSelector] Loading things of type: ".concat(o.type));const e=await Te.getThings(o.type);console.log("[ThingSelector] Successfully loaded ".concat((e==null?void 0:e.length)||0," things:"),e),e&&Array.isArray(e)?(v.value=e,console.log("[ThingSelector] Set allThings.value to ".concat(v.value.length," items"))):(console.warn("[ThingSelector] Received invalid response:",e),v.value=[])}catch(e){console.error("[ThingSelector] Failed to load ".concat(o.type,":"),e),console.error("[ThingSelector] Error details:",{message:e.message,response:(s=e.response)==null?void 0:s.data,status:(m=e.response)==null?void 0:m.status,url:(d=e.config)==null?void 0:d.url}),v.value=[]}}const f=J(()=>{const s=new Set(o.selectedThings.map(e=>D(e))),m=new Set(o.selectedThings.map(e=>V(e).toLowerCase()));let d=v.value;if(u.value.trim().length>=2){const e=u.value.trim().toLowerCase();d=v.value.filter(g=>{var N;return g.name.toLowerCase().includes(e)||((N=g.altNames)==null?void 0:N.toLowerCase().includes(e))})}return d.filter(e=>!s.has(e.id.toString())&&!m.has(e.name.toLowerCase()))});function C(){const s=u.value.trim().toLowerCase();if(w&&clearTimeout(w),s.length<2){t.value=[];return}w=setTimeout(()=>{const m=new Set(o.selectedThings.map(e=>D(e))),d=new Set(o.selectedThings.map(e=>V(e).toLowerCase()));t.value=v.value.filter(e=>e.name.toLowerCase().includes(s)&&!m.has(e.id.toString())&&!d.has(e.name.toLowerCase())).slice(0,10)},200)}function p(s){const m=s.id.toString();if(!o.selectedThings.find(d=>D(d)===m)){a("add",s);const d=[...o.selectedThings,s];a("update:selectedThings",d)}u.value="",t.value=[]}async function S(){const s=u.value.trim();if(!s)return;const m=v.value.find(g=>g.name.toLowerCase()===s.toLowerCase());if(m){p(m);return}if(o.selectedThings.map(g=>V(g).toLowerCase()).includes(s.toLowerCase())){u.value="";return}a("add",s);const e=[...o.selectedThings,s];a("update:selectedThings",e),u.value="",t.value=[]}function I(s){const m=o.selectedThings.filter(d=>D(d)!==D(s));a("update:selectedThings",m),a("remove",s)}function D(s){return typeof s=="string"?s:s.id.toString()}function V(s){return typeof s=="string"?s:s.name}const W=J(()=>{const s=o.minRequired-o.selectedThings.length;return s===1?"Add at least 1 more":"Add at least ".concat(s," more")});return ae(()=>o.type,b,{immediate:!0}),(s,m)=>(r(),h("div",$e,[n.selectedThings.length>0?(r(),h("div",Ce,[(r(!0),h(A,null,B(n.selectedThings,d=>(r(),E(l(Q),{key:D(d),color:"primary",onClick:e=>I(d),class:"thing-chip removable"},{default:y(()=>[T(P(V(d))+" ",1),i(l(R),{icon:l(G),slot:"end"},null,8,["icon"])]),_:2},1032,["onClick"]))),128))])):$("",!0),n.showInput?(r(),E(l(F),{key:1,class:"setup-item",lines:"full"},{default:y(()=>[i(l(q),{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=d=>u.value=d),placeholder:n.inputPlaceholder,onKeyup:le(S,["enter"]),onInput:C},null,8,["modelValue","placeholder"]),i(l(z),{slot:"end",onClick:S,disabled:!u.value.trim()},{default:y(()=>[...m[1]||(m[1]=[T(" Add ",-1)])]),_:1},8,["disabled"])]),_:1})):$("",!0),t.value.length>0&&n.showInput&&u.value.length>=2?(r(),h("div",Ie,[(r(!0),h(A,null,B(t.value,d=>(r(),h("div",{key:d.id,class:"suggestion-item",onClick:e=>p(d)},P(d.name),9,_e))),128))])):$("",!0),f.value.length>0?(r(),h("div",Ee,[c("div",Pe,[(r(!0),h(A,null,B(f.value,d=>(r(),E(l(Q),{key:d.id,outline:!0,color:"medium",onClick:e=>p(d),class:"thing-chip available"},{default:y(()=>[T(P(d.name),1)]),_:2},1032,["onClick"]))),128))])])):$("",!0),n.showWarning&&n.selectedThings.length<n.minRequired?(r(),E(l(ie),{key:4,color:"warning"},{default:y(()=>[c("p",De,P(W.value),1)]),_:1})):$("",!0)]))}}),ee=L(xe,[["__scopeId","data-v-688bab11"]]),Le={class:"step-panel"},Ne={class:"passions-container"},Ve=x({__name:"DeetsStep",props:{profileData:{}},emits:["update"],setup(n,{emit:k}){const o=k;function a(u,t){o("update",u,t)}return(u,t)=>(r(),h("div",Le,[t[6]||(t[6]=c("h2",{class:"step-title"},"What are you passionate about?",-1)),t[7]||(t[7]=c("p",{class:"step-description"},"We'll dive deeper on the next page.",-1)),i(l(F),{class:"setup-item",lines:"full"},{default:y(()=>[i(l(U),{position:"stacked"},{default:y(()=>[...t[3]||(t[3]=[T("First Name",-1)])]),_:1}),i(l(q),{"model-value":n.profileData.firstName,"onUpdate:modelValue":t[0]||(t[0]=v=>a("firstName",v)),placeholder:"Enter your first name",autocomplete:"given-name"},null,8,["model-value"])]),_:1}),i(l(F),{class:"setup-item",lines:"full"},{default:y(()=>[i(l(U),{position:"stacked"},{default:y(()=>[...t[4]||(t[4]=[T("Last Name",-1)])]),_:1}),i(l(q),{"model-value":n.profileData.lastName,"onUpdate:modelValue":t[1]||(t[1]=v=>a("lastName",v)),placeholder:"Enter your last name",autocomplete:"family-name"},null,8,["model-value"])]),_:1}),c("div",Ne,[i(l(U),{class:"passions-label"},{default:y(()=>[...t[5]||(t[5]=[T("I like to...",-1)])]),_:1}),i(ee,{"selected-things":n.profileData.passions,type:"activityOrInterest","input-placeholder":"Search passions...","min-required":1,"show-warning":!1,"onUpdate:selectedThings":t[2]||(t[2]=v=>a("passions",v))},null,8,["selected-things"])])]))}}),Ue=L(Ve,[["__scopeId","data-v-66e5cb3f"]]),ze={class:"step-panel"},Re=x({__name:"InterestsStep",props:{profileData:{}},emits:["update"],setup(n,{emit:k}){const o=k;function a(u,t){o("update",u,t)}return(u,t)=>(r(),h("div",ze,[t[1]||(t[1]=c("h2",{class:"step-title"},"What are your favorite interests and activities?",-1)),t[2]||(t[2]=c("p",{class:"step-description"},"Add at least 5 activities you enjoy",-1)),i(ee,{"selected-things":n.profileData.interests,type:"activityOrInterest","input-placeholder":"Search activities...","min-required":5,"show-warning":!0,"onUpdate:selectedThings":t[0]||(t[0]=v=>a("interests",v))},null,8,["selected-things"])]))}}),Ae=L(Re,[["__scopeId","data-v-d3cd6513"]]),Be={class:"step-panel"},We={class:"photo-upload-container"},Fe={key:0,class:"photo-preview"},qe=["src"],Me=x({__name:"PhotoStep",props:{photo:{}},emits:["update"],setup(n,{emit:k}){const o=k,a=_(null);function u(){var w;(w=a.value)==null||w.click()}function t(w){var C;const f=(C=w.target.files)==null?void 0:C[0];if(f){const p=new FileReader;p.onload=S=>{var I;o("update",(I=S.target)==null?void 0:I.result)},p.readAsDataURL(f)}}function v(){o("update",null)}return(w,b)=>(r(),h("div",Be,[b[2]||(b[2]=c("h2",{class:"step-title"},"Add a photo",-1)),b[3]||(b[3]=c("p",{class:"step-description"},"Show your best self!",-1)),c("div",We,[n.photo?(r(),h("div",Fe,[c("img",{src:n.photo,alt:"Profile photo"},null,8,qe),i(l(z),{fill:"clear",size:"small",onClick:v,class:"remove-photo"},{default:y(()=>[...b[0]||(b[0]=[T(" Remove ",-1)])]),_:1})])):(r(),h("div",{key:1,class:"photo-placeholder",onClick:u},[i(l(R),{icon:l(re),size:"large"},null,8,["icon"]),b[1]||(b[1]=c("p",null,"Tap to add photo",-1))])),c("input",{ref_key:"fileInput",ref:a,type:"file",accept:"image/*",onChange:t,style:{display:"none"}},null,544)])]))}}),Ke=L(Me,[["__scopeId","data-v-8a6fd181"]]),Oe={class:"step-panel skip-step"},Qe={class:"skip-actions"},je=x({__name:"SkipStep",emits:["continue","skip"],setup(n){return(k,o)=>(r(),h("div",Oe,[o[5]||(o[5]=c("h2",{class:"step-title"},"Want to continue on to section 2?",-1)),o[6]||(o[6]=c("p",{class:"step-description"},"You can add more details later:",-1)),o[7]||(o[7]=c("ul",{class:"addition-steps-list"},[c("li",null,"Work experience"),c("li",null,"Education"),c("li",null,"Places Lived")],-1)),c("div",Qe,[i(l(z),{expand:"block",onClick:o[0]||(o[0]=a=>k.$emit("continue")),class:"continue-button"},{default:y(()=>[...o[2]||(o[2]=[T(" Yes, Keep Building! ",-1)])]),_:1}),o[4]||(o[4]=c("p",{class:"or-text"},"or",-1)),i(l(z),{fill:"clear",onClick:o[1]||(o[1]=a=>k.$emit("skip")),class:"skip-button"},{default:y(()=>[...o[3]||(o[3]=[T(" Continue to the app ",-1)])]),_:1})])]))}}),Ge=L(je,[["__scopeId","data-v-d07f6ff4"]]),Ye={class:"location-field"},He={class:"autocomplete-container"},Je=["placeholder","disabled","value"],Xe={key:0,class:"location-chips"},Ze=x({__name:"LocationAutocomplete",props:{label:{},placeholder:{},modelValue:{},disabled:{type:Boolean},selectedLocations:{},locationType:{}},emits:["update:modelValue","select","remove"],setup(n,{emit:k}){const o=n,a=k,u=_(null),{loadGoogleMapsScript:t,createAutocomplete:v}=Z();async function w(){if(!(!u.value||o.disabled))try{await t(),await new Promise(f=>setTimeout(f,100)),v(u.value,f=>{a("select",f),a("update:modelValue","")},["locality","sublocality","sublocality_level_1","neighborhood"])}catch(f){console.error("Failed to initialize autocomplete:",f)}}function b(f){const C=f.target;a("update:modelValue",C.value)}return se(()=>{o.disabled||w()}),ae(()=>o.disabled,f=>{!f&&u.value&&w()}),(f,C)=>(r(),h("div",Ye,[i(l(U),{class:"location-label"},{default:y(()=>[T(P(n.label),1)]),_:1}),c("div",He,[c("input",{ref_key:"inputRef",ref:u,type:"text",class:"autocomplete-input",placeholder:n.placeholder,disabled:n.disabled,value:n.modelValue,onInput:b,autocomplete:"off"},null,40,Je),i(l(R),{icon:l(X),class:"input-icon"},null,8,["icon"])]),n.selectedLocations.length>0?(r(),h("div",Xe,[(r(!0),h(A,null,B(n.selectedLocations,p=>(r(),E(l(Q),{key:p.googlePlaceId,color:"primary",onClick:S=>f.$emit("remove",p),class:"location-chip removable"},{default:y(()=>[T(P(p.primaryName)+", "+P(p.secondaryName)+" ",1),i(l(R),{icon:l(G),slot:"end"},null,8,["icon"])]),_:2},1032,["onClick"]))),128))])):$("",!0)]))}}),H=L(Ze,[["__scopeId","data-v-b93f84b9"]]),et={class:"step-panel"},tt=x({__name:"LocationStep",props:{locations:{}},emits:["update:locations"],setup(n,{emit:k}){const o=n,a=k,u=_(""),t=_(""),v=_("");function w(C){return o.locations.filter(p=>p.type===C)}function b(C,p){const S={...C,type:p},I=[...o.locations,S];a("update:locations",I)}function f(C){const p=o.locations.filter(S=>!(S.googlePlaceId===C.googlePlaceId&&S.type===C.type));a("update:locations",p)}return(C,p)=>(r(),h("div",et,[p[6]||(p[6]=c("h2",{class:"step-title"},"Where are you from?",-1)),p[7]||(p[7]=c("p",{class:"step-description"},"There's no place like home! Meet people who may have followed the same journey as you.",-1)),i(H,{label:"Hometown",placeholder:"Search for your hometown",modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=S=>u.value=S),disabled:w("hometown").length>0,"selected-locations":w("hometown"),"location-type":"hometown",onSelect:p[1]||(p[1]=S=>b(S,"hometown")),onRemove:f},null,8,["modelValue","disabled","selected-locations"]),i(H,{label:"Current City",placeholder:"Search for your current city",modelValue:t.value,"onUpdate:modelValue":p[2]||(p[2]=S=>t.value=S),disabled:w("current").length>0,"selected-locations":w("current"),"location-type":"current",onSelect:p[3]||(p[3]=S=>b(S,"current")),onRemove:f},null,8,["modelValue","disabled","selected-locations"]),i(H,{label:"Places You've Lived",placeholder:"Search for places you have lived",modelValue:v.value,"onUpdate:modelValue":p[4]||(p[4]=S=>v.value=S),"selected-locations":w("past"),"location-type":"past",onSelect:p[5]||(p[5]=S=>b(S,"past")),onRemove:f},null,8,["modelValue","selected-locations"])]))}}),ot=L(tt,[["__scopeId","data-v-89a60bcd"]]),at={class:"step-panel"},lt={class:"organization-field"},st={class:"autocomplete-container"},nt=["disabled"],it={key:0,class:"suggestions-dropdown"},rt=["onClick"],ut={key:1,class:"organization-chips"},dt={class:"organization-field"},ct={class:"autocomplete-container"},pt={key:0,class:"suggestions-dropdown"},mt=["onClick"],vt={key:1,class:"organization-chips"},ft=x({__name:"BackgroundStep",props:{profileData:{}},emits:["update"],setup(n,{emit:k}){const o=n,a=k,u=_(null),t=_(null),v=_(""),w=_(""),b=_([]),f=_([]),{loadGoogleMapsScript:C,searchOrganizations:p}=Z();let S=null;function I(d,e){a("update",d,e)}function D(d,e){const N=d.target.value;S&&clearTimeout(S),S=setTimeout(async()=>{if(N.length>=3)try{await p(N,M=>{e==="current"?b.value=M:f.value=M})}catch(M){console.error("Failed to search organizations:",M)}else e==="current"?b.value=[]:f.value=[]},200)}function V(d,e){if(e==="current")I("currentEmployer",d),v.value="",b.value=[];else{if(!o.profileData.pastEmployers.includes(d)){const g=[...o.profileData.pastEmployers,d];I("pastEmployers",g)}w.value="",f.value=[]}}function W(d){I("currentEmployer",null)}function s(d){const e=[...o.profileData.pastEmployers];e.splice(d,1),I("pastEmployers",e)}function m(){if(w.value.trim()&&!o.profileData.pastEmployers.includes(w.value.trim())){const d=[...o.profileData.pastEmployers,w.value.trim()];I("pastEmployers",d),w.value="",f.value=[]}}return se(async()=>{await C()}),(d,e)=>(r(),h("div",at,[e[13]||(e[13]=c("h2",{class:"step-title"},"Share your background",-1)),e[14]||(e[14]=c("p",{class:"step-description"},"Want to meet a colleague or a fellow alum? The world is smaller than you think.",-1)),c("div",lt,[i(l(U),{class:"organization-label"},{default:y(()=>[...e[8]||(e[8]=[T("Current Employer",-1)])]),_:1}),c("div",st,[te(c("input",{ref_key:"currentEmployerInput",ref:u,type:"text",class:"autocomplete-input",placeholder:"Search for your current employer",disabled:!!n.profileData.currentEmployer,"onUpdate:modelValue":e[0]||(e[0]=g=>v.value=g),onInput:e[1]||(e[1]=g=>D(g,"current")),autocomplete:"off"},null,40,nt),[[oe,v.value]]),i(l(R),{icon:l(X),class:"input-icon"},null,8,["icon"])]),b.value.length>0&&!n.profileData.currentEmployer?(r(),h("div",it,[(r(!0),h(A,null,B(b.value,g=>(r(),h("div",{key:g.name,class:"suggestion-item",onClick:N=>V(g.name,"current")},P(g.name),9,rt))),128))])):$("",!0),n.profileData.currentEmployer?(r(),h("div",ut,[i(l(Q),{color:"primary",onClick:e[2]||(e[2]=g=>W()),class:"organization-chip removable"},{default:y(()=>[T(P(n.profileData.currentEmployer)+" ",1),i(l(R),{icon:l(G),slot:"end"},null,8,["icon"])]),_:1})])):$("",!0)]),c("div",dt,[i(l(U),{class:"organization-label"},{default:y(()=>[...e[9]||(e[9]=[T("Past Employers",-1)])]),_:1}),c("div",ct,[te(c("input",{ref_key:"pastEmployerInput",ref:t,type:"text",class:"autocomplete-input",placeholder:"Search for past employers","onUpdate:modelValue":e[3]||(e[3]=g=>w.value=g),onInput:e[4]||(e[4]=g=>D(g,"past")),onKeyup:le(m,["enter"]),autocomplete:"off"},null,544),[[oe,w.value]]),i(l(R),{icon:l(X),class:"input-icon"},null,8,["icon"])]),f.value.length>0?(r(),h("div",pt,[(r(!0),h(A,null,B(f.value,g=>(r(),h("div",{key:g.name,class:"suggestion-item",onClick:N=>V(g.name,"past")},P(g.name),9,mt))),128))])):$("",!0),n.profileData.pastEmployers.length>0?(r(),h("div",vt,[(r(!0),h(A,null,B(n.profileData.pastEmployers,(g,N)=>(r(),E(l(Q),{key:N,color:"primary",onClick:M=>s(N),class:"organization-chip removable"},{default:y(()=>[T(P(g)+" ",1),i(l(R),{icon:l(G),slot:"end"},null,8,["icon"])]),_:2},1032,["onClick"]))),128))])):$("",!0)]),i(l(F),{class:"setup-item",lines:"full"},{default:y(()=>[i(l(U),{position:"stacked"},{default:y(()=>[...e[10]||(e[10]=[T("Job Title",-1)])]),_:1}),i(l(q),{"model-value":n.profileData.jobTitle,"onUpdate:modelValue":e[5]||(e[5]=g=>I("jobTitle",g)),placeholder:"What's your role?",autocomplete:"organization-title"},null,8,["model-value"])]),_:1}),i(l(F),{class:"setup-item",lines:"full"},{default:y(()=>[i(l(U),{position:"stacked"},{default:y(()=>[...e[11]||(e[11]=[T("School / University",-1)])]),_:1}),i(l(q),{"model-value":n.profileData.school,"onUpdate:modelValue":e[6]||(e[6]=g=>I("school",g)),placeholder:"Where did you study?",autocomplete:"organization"},null,8,["model-value"])]),_:1}),i(l(F),{class:"setup-item",lines:"full"},{default:y(()=>[i(l(U),{position:"stacked"},{default:y(()=>[...e[12]||(e[12]=[T("Degree / Major",-1)])]),_:1}),i(l(q),{"model-value":n.profileData.degree,"onUpdate:modelValue":e[7]||(e[7]=g=>I("degree",g)),placeholder:"What did you study?"},null,8,["model-value"])]),_:1})]))}}),gt=L(ft,[["__scopeId","data-v-1a554092"]]),yt={class:"step-panel"},ht=x({__name:"IntentionStep",props:{profileData:{}},emits:["update"],setup(n,{emit:k}){const o=k;function a(u,t){o("update",u,t)}return(u,t)=>(r(),h("div",yt,[t[1]||(t[1]=c("h2",{class:"step-title"},"Last one, promise.",-1)),t[2]||(t[2]=c("p",{class:"step-description"},"How do you want to engage with people in your community? List'em all!",-1)),i(ee,{"selected-things":n.profileData.intentions,type:"intention","input-placeholder":"I'm looking for someone to...","min-required":1,"show-warning":!0,"onUpdate:selectedThings":t[0]||(t[0]=v=>a("intentions",v))},null,8,["selected-things"])]))}}),kt=L(ht,[["__scopeId","data-v-f6903640"]]),wt={class:"setup-container"},St={class:"step-content"},bt={key:0,class:"step-navigation"},Tt={key:1,class:"step-navigation"},$t=7,Ct=x({__name:"SetupPage",setup(n){const k=fe();ue();const{loadGoogleMapsScript:o}=Z(),a=_(2),u=_(0),t=_({firstName:"",lastName:"",passions:[],interests:[],photo:null,locations:[],currentEmployer:null,pastEmployers:[],jobTitle:"",school:"",degree:"",intentions:[]});function v(s){return s.length}const w=J(()=>{switch(a.value){case 2:return t.value.firstName&&t.value.lastName&&v(t.value.passions)>0;case 3:return v(t.value.interests)>=5;case 4:return!0;case 5:return!0;case 6:return u.value===0,!0;case 7:return v(t.value.intentions)>0;default:return!0}});function b(){return a.value===6&&u.value===0?"Next":a.value===7?"Complete Setup":"Next"}function f(s,m){t.value[s]=m}function C(s){t.value.photo=s}async function p(){if(!w.value){await(await O.create({message:V(),duration:2e3,color:"warning"})).present();return}a.value===6&&u.value===0?(u.value=1,await o(),await Y()):a.value===7?await W():(a.value++,a.value===6&&(u.value=0,await Y(),await o()))}function S(){a.value===6&&u.value===1?u.value=0:a.value>2&&(a.value--,a.value===6&&(u.value=0))}async function I(){a.value=6,u.value=0,await Y(),await o()}async function D(){try{try{(t.value.firstName||t.value.lastName)&&await j.saveProfile(t.value)}catch(m){console.warn("Failed to save profile data when skipping:",m)}await j.completeSetup(),await(await O.create({message:"Welcome to Trova!",duration:2e3,color:"success"})).present(),setTimeout(()=>{k.push("/tabs/home")},500)}catch(s){console.error("Skip to complete error:",s),await(await O.create({message:s.message||"Failed to complete setup. Please try again.",duration:3e3,color:"danger"})).present()}}function V(){switch(a.value){case 2:return"Please enter your name and select at least one passion";case 3:const s=5-v(t.value.interests);return"Please add at least ".concat(s," more ").concat(s===1?"activity":"activities");case 7:return"Please add at least one intention";default:return"Please complete all required fields"}}async function W(){try{await j.saveProfile(t.value),await j.completeSetup(),await(await O.create({message:"Profile setup complete!",duration:2e3,color:"success"})).present(),setTimeout(()=>{k.push("/tabs/home")},500)}catch(s){console.error("Setup completion error:",s),await(await O.create({message:s.message||"Failed to save profile. Please try again.",duration:3e3,color:"danger"})).present()}}return(s,m)=>(r(),E(l(de),null,{default:y(()=>[i(l(me),null,{default:y(()=>[i(l(ce),null,{default:y(()=>[i(l(pe),null,{default:y(()=>[...m[1]||(m[1]=[T("Complete Your Profile",-1)])]),_:1})]),_:1})]),_:1}),i(l(ve),{fullscreen:!0,class:"setup-content"},{default:y(()=>[c("div",wt,[i(Se,{"current-step":a.value,"total-steps":$t},null,8,["current-step"]),c("div",St,[a.value===2?(r(),E(Ue,{key:0,"profile-data":t.value,onUpdate:f},null,8,["profile-data"])):$("",!0),a.value===3?(r(),E(Ae,{key:1,"profile-data":t.value,onUpdate:f},null,8,["profile-data"])):$("",!0),a.value===4?(r(),E(Ke,{key:2,photo:t.value.photo,onUpdate:C},null,8,["photo"])):$("",!0),a.value===5?(r(),E(Ge,{key:3,onContinue:I,onSkip:D})):$("",!0),a.value===6&&u.value===0?(r(),E(ot,{key:4,locations:t.value.locations,"onUpdate:locations":m[0]||(m[0]=d=>f("locations",d))},null,8,["locations"])):$("",!0),a.value===6&&u.value===1?(r(),E(gt,{key:5,"profile-data":t.value,onUpdate:f},null,8,["profile-data"])):$("",!0),a.value===7?(r(),E(kt,{key:6,"profile-data":t.value,onUpdate:f},null,8,["profile-data"])):$("",!0)]),a.value<7&&a.value!==5?(r(),h("div",bt,[a.value>2||a.value===6&&u.value>0?(r(),E(l(z),{key:0,fill:"outline",onClick:S,class:"nav-button"},{default:y(()=>[...m[2]||(m[2]=[T(" Back ",-1)])]),_:1})):$("",!0),i(l(z),{expand:"block",onClick:p,disabled:!w.value,class:"nav-button primary"},{default:y(()=>[T(P(b()),1)]),_:1},8,["disabled"])])):$("",!0),a.value===7?(r(),h("div",Tt,[i(l(z),{fill:"outline",onClick:S,class:"nav-button"},{default:y(()=>[...m[3]||(m[3]=[T(" Back ",-1)])]),_:1}),i(l(z),{expand:"block",onClick:W,disabled:!w.value,class:"nav-button primary"},{default:y(()=>[...m[4]||(m[4]=[T(" Complete Setup ",-1)])]),_:1},8,["disabled"])])):$("",!0)])]),_:1})]),_:1}))}}),Pt=L(Ct,[["__scopeId","data-v-ae2c3264"]]);export{Pt as default};
