!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function n(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",u=r.toStringTag||"@@toStringTag";function c(r,n,o,u){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return i(l,"_invoke",function(r,n,o){var i,u,c,s=0,l=o||[],p=!1,f={p:0,n:0,v:e,a:y,f:y.bind(e,4),d:function(t,r){return i=t,u=0,c=e,f.n=r,a}};function y(r,n){for(u=r,c=n,t=0;!p&&s&&!o&&t<l.length;t++){var o,i=l[t],y=f.p,m=i[2];r>3?(o=m===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=y&&((o=r<2&&y<i[1])?(u=0,f.v=n,f.n=i[1]):y<m&&(o=r<3||i[0]>n||n>m)&&(i[4]=r,i[5]=n,f.n=m,u=0))}if(o||r>1)return a;throw p=!0,n}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&y(l,m),u=l,c=m;(t=u<2?e:c)||!p;){i||(u?u<3?(u>1&&(f.n=-1),y(u,c)):f.n=c:f.v=c);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(p=f.n<0)?c:r.call(n,f))!==a)break}catch(t){i=e,u=1,c=t}finally{s=1}}return{value:t,done:p}}}(r,o,u),!0),l}var a={};function s(){}function l(){}function p(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(i(t={},n,function(){return this}),t),y=p.prototype=s.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,u,"GeneratorFunction")),e.prototype=Object.create(y),e}return l.prototype=p,i(y,"constructor",p),i(p,"constructor",l),l.displayName="GeneratorFunction",i(p,u,"GeneratorFunction"),i(y),i(y,u,"Generator"),i(y,n,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:m}})()}function i(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,r,n){function u(t,r){i(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(u("next",0),u("throw",1),u("return",2))},i(e,t,r,n)}function u(e,t,r,n,o,i,u){try{var c=e[i](u),a=c.value}catch(e){return void r(e)}c.done?t(a):Promise.resolve(a).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function c(e){u(i,n,o,c,a,"next",e)}function a(e){u(i,n,o,c,a,"throw",e)}c(void 0)})}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}System.register(["./index-legacy-D3_iwoP0.js"],function(e,t){"use strict";var n,i;return{setters:[function(e){n=e.v,i=e.x}],execute:function(){function t(e){return"string"==typeof e?e:e.name}var u=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},u=[{key:"saveProfile",value:(f=c(o().m(function e(r){var u,c,a;return o().w(function(e){for(;;)switch(e.n){case 0:if(c=n(),null===(u=c.user)||void 0===u?void 0:u.id){e.n=1;break}throw new Error("User not authenticated");case 1:return a={},r.firstName&&(a.fname=r.firstName),r.lastName&&(a.lname=r.lastName),r.passions&&r.passions.length>0&&(a.passions=r.passions.map(t),a.passionIds=r.passions.map(function(e){return"string"==typeof e?null:e.id}).filter(function(e){return null!==e})),r.interests&&r.interests.length>0&&(a.interests=r.interests.map(t),a.interestIds=r.interests.map(function(e){return"string"==typeof e?null:e.id}).filter(function(e){return null!==e})),r.photo&&(a.photo=r.photo),r.locations&&r.locations.length>0&&(a.locations=r.locations),r.currentEmployer&&(a.currentEmployer=r.currentEmployer),r.pastEmployers&&r.pastEmployers.length>0&&(a.pastEmployers=r.pastEmployers),r.jobTitle&&(a.jobTitle=r.jobTitle),r.school&&(a.school=r.school),r.degree&&(a.degree=r.degree),r.intentions&&r.intentions.length>0&&(a.intentions=r.intentions.map(t),a.intentionIds=r.intentions.map(function(e){return"string"==typeof e?null:e.id}).filter(function(e){return null!==e})),e.a(2,i.patch("/profile/edit",a))}},e)})),function(e){return f.apply(this,arguments)})},{key:"completeSetup",value:(p=c(o().m(function e(){var t,u,c,a,s;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=n(),(u=t.user)&&u.id){e.n=1;break}throw console.error("completeSetup: User not authenticated. User object:",u),new Error("User not authenticated. Please log in again.");case 1:return console.log("completeSetup: Updating setup step for user ".concat(u.id)),e.p=2,delete(c=r(r({},u),{},{setupStep:"complete"})).isOnline,delete c.profilePictureThumbnail,delete c.profilePicture175x175,e.n=3,i.patch("/users/".concat(u.id,"/edit?background=false"),c);case 3:return a=e.v,console.log("completeSetup: Setup step updated successfully",a),a?t.setUser(a):t.updateSetupStep("complete"),e.a(2,a);case 4:throw e.p=4,s=e.v,console.error("completeSetup: Error updating setup step:",s),t.updateSetupStep("complete"),s;case 5:return e.a(2)}},e,null,[[2,4]])})),function(){return p.apply(this,arguments)})},{key:"getProfilesForUserAndCommunity",value:(l=c(o().m(function e(t,r){var n,u,c;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n={communityId:t},r&&(n.s=r),e.n=1,i.post("/communities/getProfilesForUserAndCommunity",n);case 1:return u=e.v,e.a(2,u||[]);case 2:throw e.p=2,c=e.v,console.error("[ProfileService] Failed to fetch profiles:",c),c;case 3:return e.a(2)}},e,null,[[0,2]])})),function(e,t){return l.apply(this,arguments)})}],u&&a(e.prototype,u),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,u,s,l,p,f}();e("ProfileService",u);e("profileService",new u)}}})}();
