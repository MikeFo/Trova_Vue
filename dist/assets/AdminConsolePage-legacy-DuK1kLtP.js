!function(){function e(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function a(a){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e(Object(r),!0).forEach(function(e){n(a,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})}return a}function n(e,a,n){return(a=function(e){var a=function(e,a){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,a||"default");if("object"!=r(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==r(a)?a:a+""}(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function t(e,a){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||a&&e&&"number"==typeof e.length){n&&(e=n);var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,r,o,l,i=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===a){if(Object(n)!==n)return;s=!1}else for(;!(s=(t=o.call(n)).done)&&(i.push(t.value),i.length!==a);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return i}}(e,a)||d(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,a,n="function"==typeof Symbol?Symbol:{},t=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,t,r,o){var l=t&&t.prototype instanceof c?t:c,u=Object.create(l.prototype);return i(u,"_invoke",function(n,t,r){var o,l,i,c=0,u=r||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(a,n){return o=a,l=0,i=e,f.n=n,s}};function p(n,t){for(l=n,i=t,a=0;!d&&c&&!r&&a<u.length;a++){var r,o=u[a],p=f.p,v=o[2];n>3?(r=v===t)&&(i=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=p&&((r=n<2&&p<o[1])?(l=0,f.v=t,f.n=o[1]):p<v&&(r=n<3||o[0]>t||t>v)&&(o[4]=n,o[5]=t,f.n=v,l=0))}if(r||n>1)return s;throw d=!0,t}return function(r,u,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,v),l=u,i=v;(a=l<2?e:i)||!d;){o||(l?l<3?(l>1&&(f.n=-1),p(l,i)):f.n=i:f.v=i);try{if(c=2,o){if(l||(r="next"),a=o[r]){if(!(a=a.call(o,i)))throw TypeError("iterator result is not an object");if(!a.done)return a;i=a.value,l<2&&(l=0)}else 1===l&&(a=o.return)&&a.call(o),l<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),l=1);o=e}else if((a=(d=f.n<0)?i:n.call(t,f))!==s)break}catch(a){o=e,l=1,i=a}finally{c=1}}return{value:a,done:d}}}(n,r,o),!0),u}var s={};function c(){}function u(){}function d(){}a=Object.getPrototypeOf;var f=[][t]?a(a([][t]())):(i(a={},t,function(){return this}),a),p=d.prototype=c.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,r,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,i(p,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,r,"GeneratorFunction"),i(p),i(p,r,"Generator"),i(p,t,function(){return this}),i(p,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:v}})()}function i(e,a,n,t){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}i=function(e,a,n,t){function o(a,n){i(e,a,function(e){return this._invoke(a,n,e)})}a?r?r(e,a,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[a]=n:(o("next",0),o("throw",1),o("return",2))},i(e,a,n,t)}function s(e,a,n,t,r,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?a(s):Promise.resolve(s).then(t,r)}function c(e){return function(){var a=this,n=arguments;return new Promise(function(t,r){var o=e.apply(a,n);function l(e){s(o,t,r,l,i,"next",e)}function i(e){s(o,t,r,l,i,"throw",e)}l(void 0)})}}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,a){if(e){if("string"==typeof e)return f(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,a):void 0}}function f(e,a){(null==a||a>e.length)&&(a=e.length);for(var n=0,t=Array(a);n<a;n++)t[n]=e[n];return t}System.register(["./index-legacy-D3_iwoP0.js","./admin.service-legacy-CFS9KZc4.js","./profile.service-legacy-D-F1sSvx.js"],function(e,n){"use strict";var i,s,d,f,p,v,m,g,b,h,y,x,k,w,C,_,I,S,D,M,U,N,P,T,A,z,E,j,L,O,F,V,R,W,B,Y,q,G,J,H,Z,$,K,Q,X,ee,ae,ne,te,re,oe,le,ie,se,ce,ue,de,fe,pe,ve,me,ge,be,he,ye,xe,ke,we,Ce,_e,Ie,Se,De,Me,Ue,Ne,Pe,Te,Ae,ze,Ee,je,Le,Oe,Fe,Ve;return{setters:[function(e){i=e.F,s=e.r,d=e.a2,f=e.G,p=e.Y,v=e.O,m=e.N,g=e.L,b=e.X,h=e.J,y=e.W,x=e.a6,k=e.bv,w=e.a5,C=e.ac,_=e.ae,I=e.bw,S=e.bx,D=e.Z,M=e.by,U=e.aa,N=e.ab,P=e.H,T=e.$,A=e.R,z=e.a8,E=e.bl,j=e.I,L=e.ap,O=e.bz,F=e.aF,V=e.bA,R=e.bB,W=e.a0,B=e.bC,Y=e.ag,q=e.bD,G=e.an,J=e.bE,H=e.a4,Z=e.az,$=e.bj,K=e.bi,Q=e.bF,X=e.bG,ee=e.aA,ae=e.bH,ne=e.am,te=e.ak,re=e.al,oe=e.aq,le=e.ar,ie=e.Q,se=e.b1,ce=e.af,ue=e.aU,de=e.aP,fe=e.bI,pe=e.bJ,ve=e.a7,me=e.bK,ge=e.aW,be=e.bL,he=e.bM,ye=e.bN,xe=e.bO,ke=e.bP,we=e._,Ce=e.aB,_e=e.bb,Ie=e.bQ,Se=e.a9,De=e.bR,Me=e.bS,Ue=e.aX,Ne=e.ad,Pe=e.v,Te=e.a1,Ae=e.a3,ze=e.a$,Ee=e.M,je=e.aK,Le=e.b3,Oe=e.b4},function(e){Fe=e.adminService},function(e){Ve=e.profileService}],execute:function(){var Re=document.createElement("style");Re.textContent=".user-management-section[data-v-9626e3d5]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.section-header[data-v-9626e3d5]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.section-title[data-v-9626e3d5]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0}.filters-section[data-v-9626e3d5]{margin-bottom:24px}.filter-controls[data-v-9626e3d5]{display:flex;gap:16px;margin-top:16px}.filter-controls ion-item[data-v-9626e3d5]{flex:1;--padding-start: 0;--inner-padding-end: 0}.users-table-container[data-v-9626e3d5]{overflow-x:auto}.loading-state[data-v-9626e3d5],.empty-state[data-v-9626e3d5]{text-align:center;padding:48px 16px;color:#64748b}.users-table[data-v-9626e3d5]{display:flex;flex-direction:column;min-width:800px}.table-header[data-v-9626e3d5]{display:grid;grid-template-columns:2fr 2fr 1.5fr 1fr 1fr 1.5fr;gap:16px;padding:12px 16px;background:#f9fafb;border-radius:8px;font-weight:600;font-size:14px;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.table-row[data-v-9626e3d5]{display:grid;grid-template-columns:2fr 2fr 1.5fr 1fr 1fr 1.5fr;gap:16px;padding:16px;border-bottom:1px solid #e5e7eb;cursor:pointer;transition:background .2s ease}.table-row[data-v-9626e3d5]:hover{background:#f9fafb}.table-row[data-v-9626e3d5]:last-child{border-bottom:none}.user-info[data-v-9626e3d5]{display:flex;align-items:center;gap:12px}.user-avatar[data-v-9626e3d5],.user-avatar-placeholder[data-v-9626e3d5]{width:40px;height:40px;border-radius:50%;flex-shrink:0}.user-avatar[data-v-9626e3d5]{object-fit:cover}.user-avatar-placeholder[data-v-9626e3d5]{background:linear-gradient(135deg,rgba(45,122,78,.1),rgba(29,185,138,.1));display:flex;align-items:center;justify-content:center;font-weight:600;color:var(--color-primary);font-size:14px}.col-actions[data-v-9626e3d5]{display:flex;gap:8px;align-items:center}.role-text[data-v-9626e3d5]{color:#64748b;font-size:14px}@media (max-width: 768px){.users-table[data-v-9626e3d5]{min-width:100%}.table-header[data-v-9626e3d5],.table-row[data-v-9626e3d5]{grid-template-columns:1fr;gap:8px}.table-header[data-v-9626e3d5]{display:none}.table-row[data-v-9626e3d5]{padding:16px;border:1px solid #e5e7eb;border-radius:8px;margin-bottom:12px}}.data-upload-section[data-v-2962b52f]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.section-title[data-v-2962b52f]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0 0 8px}.section-description[data-v-2962b52f]{font-size:14px;color:#64748b;margin:0 0 24px}.upload-cards[data-v-2962b52f]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}.upload-card[data-v-2962b52f]{padding:24px;background:#f9fafb;border-radius:12px;border:1px solid #e5e7eb;display:flex;flex-direction:column;gap:16px}.card-header[data-v-2962b52f]{display:flex;align-items:center;gap:12px}.card-icon[data-v-2962b52f]{font-size:32px;color:var(--color-primary)}.card-title[data-v-2962b52f]{font-size:18px;font-weight:600;color:#1a1a1a;margin:0}.card-description[data-v-2962b52f]{font-size:14px;color:#64748b;margin:0}.file-input-container[data-v-2962b52f]{display:flex;flex-direction:column;gap:12px}.file-name[data-v-2962b52f]{font-size:14px;color:#1a1a1a;padding:8px 12px;background:#fff;border-radius:8px;border:1px solid #e5e7eb}.upload-card ion-button[data-v-2962b52f]{margin-top:auto;--border-radius: 8px}.analytics-dashboard-section[data-v-feae6a48]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.section-header[data-v-feae6a48]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.section-title[data-v-feae6a48]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0}.dashboard-selector[data-v-feae6a48]{margin-bottom:24px;padding:20px;background:#f9fafb;border-radius:12px;border:1px solid #e5e7eb}.dashboard-selector-header[data-v-feae6a48]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;user-select:none;padding:4px 0;transition:opacity .2s}.dashboard-selector-header[data-v-feae6a48]:hover{opacity:.7}.subsection-title[data-v-feae6a48]{font-size:18px;font-weight:600;color:#1a1a1a;margin:0}.collapse-icon[data-v-feae6a48]{font-size:20px;color:#64748b;transition:transform .2s}.dashboard-selector-content[data-v-feae6a48]{margin-top:16px}.dashboard-group[data-v-feae6a48]{margin-bottom:20px}.dashboard-group[data-v-feae6a48]:last-child{margin-bottom:0}.group-title[data-v-feae6a48]{font-size:14px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin:0 0 12px}.dashboard-checkboxes[data-v-feae6a48]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}.dashboard-checkbox-item[data-v-feae6a48]{display:flex;align-items:center;gap:8px}.loading-state[data-v-feae6a48]{text-align:center;padding:48px 16px;color:#64748b}.loading-mini[data-v-feae6a48]{text-align:center;padding:24px;color:#64748b}.dashboards-grid[data-v-feae6a48]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:24px}.dashboard-card[data-v-feae6a48]{padding:20px;background:#f9fafb;border-radius:12px;border:1px solid #e5e7eb}.dashboard-header[data-v-feae6a48]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.dashboard-title[data-v-feae6a48]{font-size:18px;font-weight:600;color:#1a1a1a;margin:0}.dashboard-chart[data-v-feae6a48]{display:flex;flex-direction:column}.chart-items-container[data-v-feae6a48]{display:flex;flex-direction:column;gap:12px}.chart-items-container.chart-scrollable[data-v-feae6a48]{max-height:400px;overflow-y:auto;padding-right:8px}.chart-items-container.chart-scrollable[data-v-feae6a48]::-webkit-scrollbar{width:6px}.chart-items-container.chart-scrollable[data-v-feae6a48]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.chart-items-container.chart-scrollable[data-v-feae6a48]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.chart-items-container.chart-scrollable[data-v-feae6a48]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.chart-item[data-v-feae6a48]{display:grid;grid-template-columns:1fr auto auto;gap:12px;align-items:center;cursor:pointer;padding:8px;border-radius:8px;transition:background-color .2s}.chart-item[data-v-feae6a48]:hover{background-color:#f1f5f9}.chart-bar-container[data-v-feae6a48]{width:100%;height:24px;background:#e5e7eb;border-radius:12px;overflow:hidden}.chart-bar[data-v-feae6a48]{height:100%;background:linear-gradient(90deg,var(--color-primary) 0%,var(--color-secondary) 100%);border-radius:12px;transition:width .3s ease}.chart-label[data-v-feae6a48]{font-size:14px;color:#1a1a1a;font-weight:500;min-width:120px}.chart-value[data-v-feae6a48]{font-size:14px;color:#64748b;font-weight:600;min-width:40px;text-align:right}.no-data[data-v-feae6a48]{text-align:center;padding:32px;color:#64748b}.user-modal-content[data-v-feae6a48]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0}.users-list[data-v-feae6a48]{padding:16px}.user-item[data-v-feae6a48]{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px solid #e5e7eb;cursor:pointer;transition:background-color .2s}.user-item[data-v-feae6a48]:hover{background-color:#f9fafb}.user-item[data-v-feae6a48]:last-child{border-bottom:none}.user-avatar[data-v-feae6a48]{width:48px;height:48px;border-radius:50%;overflow:hidden;flex-shrink:0;background:#e5e7eb;display:flex;align-items:center;justify-content:center}.user-avatar img[data-v-feae6a48]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[data-v-feae6a48]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);color:#fff;font-weight:600;font-size:18px}.user-info[data-v-feae6a48]{flex:1;min-width:0}.user-name[data-v-feae6a48]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:4px}.user-email[data-v-feae6a48]{font-size:14px;color:#64748b;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chevron-icon[data-v-feae6a48]{font-size:20px;color:#cbd5e1;flex-shrink:0}.no-users[data-v-feae6a48]{text-align:center;padding:48px 16px;color:#64748b}.no-users-icon[data-v-feae6a48]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.no-users-hint[data-v-feae6a48]{font-size:12px;color:#94a3b8;margin-top:8px}.user-stats-table-section[data-v-feae6a48]{margin-top:32px;background:#fff;border-radius:16px;padding:24px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.section-header.secondary[data-v-feae6a48]{margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #e5e7eb}.section-title-small[data-v-feae6a48]{font-size:20px;font-weight:600;color:#1a1a1a;margin:0}.user-table-actions[data-v-feae6a48]{display:flex;gap:8px;align-items:center}.user-table-controls[data-v-feae6a48]{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-bottom:20px;padding:16px;background:#f9fafb;border-radius:8px}.control-field[data-v-feae6a48]{display:flex;flex-direction:column;gap:4px}.control-field label[data-v-feae6a48]{font-size:12px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.control-field input[type=date][data-v-feae6a48],.control-field input[type=search][data-v-feae6a48],.control-field select[data-v-feae6a48]{padding:8px 12px;border:1px solid #e5e7eb;border-radius:8px;font-size:14px;background:#fff}.control-field.search[data-v-feae6a48]{flex:1;min-width:200px}.control-field.search input[data-v-feae6a48]{width:100%}.control-summary[data-v-feae6a48]{margin-left:auto;font-size:13px;color:#475569;font-weight:500}.user-table-wrapper[data-v-feae6a48]{overflow-x:auto}.table-scroll[data-v-feae6a48]{overflow-x:auto;border:1px solid #e5e7eb;border-radius:8px}.user-table[data-v-feae6a48]{width:100%;border-collapse:collapse;background:#fff}.user-table thead[data-v-feae6a48]{background:#f9fafb}.user-table th[data-v-feae6a48]{padding:12px 16px;text-align:left;font-size:12px;font-weight:700;color:#475569;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #e5e7eb;white-space:nowrap}.user-table th.sortable[data-v-feae6a48]{cursor:pointer;user-select:none;transition:background-color .2s}.user-table th.sortable[data-v-feae6a48]:hover{background-color:#f1f5f9}.user-table th.active[data-v-feae6a48]{color:var(--color-primary)}.user-table th span[data-v-feae6a48]{margin-left:4px;font-size:10px}.user-table td[data-v-feae6a48]{padding:12px 16px;border-bottom:1px solid #e5e7eb;font-size:14px;color:#1a1a1a}.user-table tbody tr[data-v-feae6a48]:hover{background-color:#f9fafb}.user-table tbody tr:last-child td[data-v-feae6a48]{border-bottom:none}.pagination-row[data-v-feae6a48]{display:flex;justify-content:flex-end;align-items:center;gap:12px;padding:16px 0 0;margin-top:16px;border-top:1px solid #e5e7eb}.pager[data-v-feae6a48]{padding:8px 12px;border:1px solid #e5e7eb;background:#fff;border-radius:8px;cursor:pointer;font-size:13px;transition:all .2s}.pager[data-v-feae6a48]:hover:not(:disabled){background:#f9fafb;border-color:#cbd5e1}.pager[data-v-feae6a48]:disabled{cursor:not-allowed;opacity:.5}.pager-status[data-v-feae6a48]{font-size:13px;color:#475569}@media (max-width: 768px){.dashboards-grid[data-v-feae6a48]{grid-template-columns:1fr}.user-table-controls[data-v-feae6a48]{flex-direction:column;align-items:stretch}.control-field.search[data-v-feae6a48]{min-width:100%}.control-summary[data-v-feae6a48]{margin-left:0}}.user-stats-section[data-v-ef2fb31c]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.section-header[data-v-ef2fb31c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header-actions[data-v-ef2fb31c]{display:flex;gap:12px}.section-title[data-v-ef2fb31c]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0}.section-subtitle[data-v-ef2fb31c]{font-size:18px;font-weight:600;color:#1a1a1a;margin:0 0 16px}.dashboard-content[data-v-ef2fb31c]{display:flex;flex-direction:column;gap:32px}.primary-metrics-section[data-v-ef2fb31c]{margin-bottom:8px}.primary-metrics-grid[data-v-ef2fb31c]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.primary-metric-card[data-v-ef2fb31c]{display:flex;align-items:center;gap:20px;padding:24px;background:#fff;border-radius:16px;border:1px solid #e5e7eb;transition:transform .2s,box-shadow .2s}.primary-metric-card[data-v-ef2fb31c]:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.08)}.primary-metric-card.clickable[data-v-ef2fb31c]{cursor:pointer;background:linear-gradient(135deg,rgba(45,122,78,.12),rgba(29,185,138,.12));border-color:rgba(45,122,78,.35);box-shadow:0 4px 10px rgba(45,122,78,.12)}.primary-metric-card.clickable[data-v-ef2fb31c]:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(45,122,78,.16);background:linear-gradient(135deg,rgba(45,122,78,.16),rgba(29,185,138,.16))}.primary-metric-card.clickable .metric-label[data-v-ef2fb31c]{color:#1a1a1a}.primary-metric-card-highlight[data-v-ef2fb31c]{background:#fff;border-color:rgba(45,122,78,.25)}.metric-icon[data-v-ef2fb31c]{font-size:48px;color:var(--color-primary);flex-shrink:0}.metric-content[data-v-ef2fb31c]{flex:1}.metric-value[data-v-ef2fb31c]{font-size:42px;font-weight:700;color:var(--color-primary);margin-bottom:4px;line-height:1.2}.metric-label[data-v-ef2fb31c]{font-size:13px;color:#64748b;font-weight:500}.metric-trend[data-v-ef2fb31c]{display:flex;align-items:center;gap:4px;margin-top:8px;font-size:12px;font-weight:600}.metric-trend ion-icon[data-v-ef2fb31c]{font-size:16px}.metric-trend.trend-up[data-v-ef2fb31c]{color:#10b981}.metric-trend.trend-down[data-v-ef2fb31c]{color:#ef4444}.metric-trend.trend-neutral[data-v-ef2fb31c]{color:#64748b}.engagement-metrics-section[data-v-ef2fb31c]{margin-bottom:8px}.engagement-metrics-grid[data-v-ef2fb31c]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.engagement-metric-card[data-v-ef2fb31c]{display:flex;align-items:center;gap:12px;padding:20px;background:#fff;border-radius:12px;border:1px solid #e5e7eb;transition:transform .2s,box-shadow .2s}.engagement-metric-card[data-v-ef2fb31c]:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.08);border-color:var(--color-primary)}.metric-icon-small[data-v-ef2fb31c]{font-size:32px;color:var(--color-primary);flex-shrink:0;opacity:.8}.metric-content-small[data-v-ef2fb31c]{flex:1}.metric-value-small[data-v-ef2fb31c]{font-size:28px;font-weight:700;color:#1a1a1a;margin-bottom:4px;line-height:1.2}.engagement-metric-header[data-v-ef2fb31c]{font-size:24px;font-weight:600;color:#1a1a1a;line-height:1.4}.engagement-metric-header .metric-number[data-v-ef2fb31c]{font-weight:700;color:var(--color-primary);font-size:26px}.metric-label-small[data-v-ef2fb31c]{font-size:13px;color:#64748b;font-weight:500}.legacy-stats-section[data-v-ef2fb31c]{margin-bottom:8px}.legacy-stats-grid[data-v-ef2fb31c]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.stat-card[data-v-ef2fb31c]{padding:24px;background:linear-gradient(135deg,rgba(45,122,78,.1),rgba(29,185,138,.1));border-radius:12px;text-align:center;border:1px solid rgba(45,122,78,.2)}.stat-value[data-v-ef2fb31c]{font-size:36px;font-weight:700;color:var(--color-primary);margin-bottom:8px}.stat-label[data-v-ef2fb31c]{font-size:14px;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.subsection-title[data-v-ef2fb31c]{font-size:18px;font-weight:600;color:#1a1a1a;margin:0 0 16px}.skills-stats-section[data-v-ef2fb31c]{margin-top:24px}.skills-table[data-v-ef2fb31c]{border:1px solid #e5e7eb;border-radius:8px;overflow:hidden}.table-header[data-v-ef2fb31c]{display:grid;grid-template-columns:1fr auto;gap:16px;padding:12px 16px;background:#f9fafb;font-weight:600;font-size:14px;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.table-row[data-v-ef2fb31c]{display:grid;grid-template-columns:1fr auto;gap:16px;padding:12px 16px;border-bottom:1px solid #e5e7eb}.table-row[data-v-ef2fb31c]:last-child{border-bottom:none}.col-skill[data-v-ef2fb31c]{font-weight:500;color:#1a1a1a}.col-count[data-v-ef2fb31c]{font-weight:600;color:var(--color-primary)}.loading-state[data-v-ef2fb31c],.no-stats[data-v-ef2fb31c]{text-align:center;padding:48px 16px;color:#64748b}.no-stats-icon[data-v-ef2fb31c]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.no-stats-hint[data-v-ef2fb31c]{font-size:12px;color:#94a3b8;margin-top:8px}.engagement-metric-card.clickable[data-v-ef2fb31c]{cursor:pointer;background:linear-gradient(135deg,rgba(45,122,78,.12),rgba(29,185,138,.12));border-color:rgba(45,122,78,.35);box-shadow:0 4px 10px rgba(45,122,78,.12);transition:all .2s ease}.engagement-metric-card.clickable[data-v-ef2fb31c]:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(45,122,78,.16);background:linear-gradient(135deg,rgba(45,122,78,.16),rgba(29,185,138,.16))}.engagement-metric-card.clickable .metric-value-small[data-v-ef2fb31c]{color:var(--color-primary)}.engagement-metric-card.clickable .metric-label-small[data-v-ef2fb31c]{color:#1a1a1a}.profile-modal-content[data-v-ef2fb31c]{--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 24px}.profile-modal-controls[data-v-ef2fb31c]{display:flex;gap:12px;align-items:center;margin-bottom:12px}.profiles-table[data-v-ef2fb31c]{border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}.profiles-table-header[data-v-ef2fb31c],.profiles-table-row[data-v-ef2fb31c]{display:grid;grid-template-columns:1.5fr .5fr;align-items:center;gap:12px}.profiles-table-header[data-v-ef2fb31c]{background:#f9fafb;font-weight:700;color:#475569;padding:12px 16px;text-transform:uppercase;font-size:12px;letter-spacing:.4px}.profiles-table-header .sortable[data-v-ef2fb31c]{cursor:pointer;user-select:none;display:flex;align-items:center;gap:6px;transition:color .2s}.profiles-table-header .sortable[data-v-ef2fb31c]:hover{color:var(--color-primary)}.sort-icon[data-v-ef2fb31c]{font-size:14px;color:var(--color-primary);font-weight:700}.profiles-table-row[data-v-ef2fb31c]{padding:12px 16px;border-top:1px solid #e5e7eb}.name-cell[data-v-ef2fb31c]{display:flex;align-items:center;gap:10px}.avatar[data-v-ef2fb31c]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0;background:#e5e7eb;display:flex;align-items:center;justify-content:center;font-weight:700;color:#475569}.avatar img[data-v-ef2fb31c]{width:100%;height:100%;object-fit:cover}.avatar.placeholder[data-v-ef2fb31c]{background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);color:#fff}.name-meta[data-v-ef2fb31c]{display:flex;flex-direction:column;gap:2px}.name-text[data-v-ef2fb31c]{font-weight:600;color:#0f172a}.email-text[data-v-ef2fb31c]{font-size:12px;color:#64748b}.col-completion[data-v-ef2fb31c]{font-weight:600;color:var(--color-primary)}.onboarding-intros-table .onboarding-intro-date[data-v-ef2fb31c]{color:#0f172a;display:flex;flex-direction:column;gap:2px;font-family:inherit}.onboarding-intros-table .intro-date[data-v-ef2fb31c],.onboarding-intros-table .intro-time[data-v-ef2fb31c]{font-family:inherit;font-weight:600;color:#0f172a}.onboarding-intros-table .intro-time[data-v-ef2fb31c]{font-size:12px;color:#64748b}.conversations-started-table .profiles-table-header[data-v-ef2fb31c]{display:grid;grid-template-columns:1fr 2fr 1fr auto;gap:16px}.conversations-started-table .profiles-table-row[data-v-ef2fb31c]{display:grid;grid-template-columns:1fr 2fr 1fr auto;gap:16px;align-items:center}.conversations-started-table .col-name[data-v-ef2fb31c],.conversations-started-table .col-messages[data-v-ef2fb31c],.conversations-started-table .col-participants[data-v-ef2fb31c],.conversations-started-table .col-date[data-v-ef2fb31c]{font-weight:600;color:#0f172a;font-family:inherit;font-size:14px}.conversations-started-table .col-participants[data-v-ef2fb31c]{word-break:break-word}.conversations-started-table .col-name .name-text[data-v-ef2fb31c]{font-weight:600;color:#0f172a;font-size:14px}.self-introduced-table .profiles-table-header[data-v-ef2fb31c]{display:grid;grid-template-columns:1.5fr 1fr 1fr;gap:16px}.self-introduced-table .profiles-table-row[data-v-ef2fb31c]{display:grid;grid-template-columns:1.5fr 1fr 1fr;gap:16px;align-items:center}.self-introduced-table .col-name[data-v-ef2fb31c],.self-introduced-table .col-date[data-v-ef2fb31c],.self-introduced-table .col-channel[data-v-ef2fb31c]{font-weight:600;color:#0f172a;font-family:inherit;font-size:14px}.self-introduced-table .col-channel[data-v-ef2fb31c]{word-break:break-word}@media (max-width: 768px){.profile-modal-controls[data-v-ef2fb31c]{flex-direction:column}.profiles-table-header[data-v-ef2fb31c],.profiles-table-row[data-v-ef2fb31c],.self-introduced-table .profiles-table-header[data-v-ef2fb31c],.self-introduced-table .profiles-table-row[data-v-ef2fb31c]{grid-template-columns:1fr;gap:8px}}@media (max-width: 768px){.primary-metrics-grid[data-v-ef2fb31c]{grid-template-columns:1fr}.engagement-metrics-grid[data-v-ef2fb31c]{grid-template-columns:repeat(2,1fr)}.legacy-stats-grid[data-v-ef2fb31c]{grid-template-columns:1fr}.section-header[data-v-ef2fb31c]{flex-direction:column;align-items:flex-start;gap:16px}.header-actions[data-v-ef2fb31c]{width:100%}}.magic-intros-content[data-v-579d9f04]{--background: #f9fafb}.date-range-section[data-v-579d9f04]{display:flex;gap:16px;padding:16px;background:#fff;border-bottom:1px solid #e5e7eb}.date-range-item[data-v-579d9f04]{flex:1;--padding-start: 0;--padding-end: 0;--inner-padding-end: 0}.date-input[data-v-579d9f04]{width:100%;padding:8px 12px;border:1px solid #e5e7eb;border-radius:8px;font-size:14px;color:#1a1a1a;background:#fff}.date-input[data-v-579d9f04]:focus{outline:none;border-color:var(--ion-color-primary);box-shadow:0 0 0 3px rgba(45,122,78,.1)}.loading-state[data-v-579d9f04]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;color:#64748b}.loading-state ion-spinner[data-v-579d9f04]{margin-bottom:16px}.list-header[data-v-579d9f04]{padding:16px;background:#fff;border-bottom:1px solid #e5e7eb}.list-header h2[data-v-579d9f04]{margin:0 0 4px;font-size:20px;font-weight:600;color:#1a1a1a}.list-header .subtitle[data-v-579d9f04]{margin:0;font-size:14px;color:#64748b}.magic-intros-list[data-v-579d9f04]{background:#fff}.magic-intro-item[data-v-579d9f04]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #f3f4f6}.magic-intro-item[data-v-579d9f04]:last-child{border-bottom:none}.magic-icon[data-v-579d9f04]{color:var(--ion-color-primary);font-size:24px;margin-right:12px}.magic-intro-item ion-label h2[data-v-579d9f04]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px}.magic-intro-item ion-label p[data-v-579d9f04]{font-size:14px;color:#64748b;margin:0;display:flex;align-items:center;flex-wrap:wrap;gap:4px;line-height:1.5}.magic-intro-item ion-label p .stat-value[data-v-579d9f04]{min-width:20px;display:inline-block}.stat-label[data-v-579d9f04]{font-weight:500;color:#64748b}.stat-value[data-v-579d9f04]{font-weight:600;color:#2d7a4e!important}.stat-value.engaged[data-v-579d9f04]{color:#10b981!important}.stat-separator[data-v-579d9f04]{color:#cbd5e1;margin:0 4px}.empty-state[data-v-579d9f04]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 32px;text-align:center}.empty-icon[data-v-579d9f04]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.empty-state h2[data-v-579d9f04]{margin:0 0 8px;font-size:20px;font-weight:600;color:#1a1a1a}.empty-state p[data-v-579d9f04]{margin:0;font-size:14px;color:#64748b}.pairings-container[data-v-579d9f04]{background:transparent;padding:0 16px 16px}.pairings-list[data-v-579d9f04]{background:transparent;padding:0}.pairings-list ion-item[data-v-579d9f04]{margin-bottom:8px;border-radius:8px;overflow:hidden}.header-section[data-v-579d9f04]{padding:24px 20px;margin:16px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.08)}.header-section h2[data-v-579d9f04]{margin:0 0 20px;font-size:24px;font-weight:600;color:#1a1a1a}.stats-summary[data-v-579d9f04]{display:flex;gap:32px;flex-wrap:wrap}.stat-item[data-v-579d9f04]{display:flex;flex-direction:column;gap:6px}.stat-label[data-v-579d9f04]{font-size:12px;font-weight:500;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.stat-value[data-v-579d9f04]{font-size:28px;font-weight:700;color:#2d7a4e;line-height:1.2}.stat-value.engaged[data-v-579d9f04]{color:#10b981}.pairing-item[data-v-579d9f04]{--padding-start: 16px;--padding-end: 16px;--min-height: 88px;border-bottom:1px solid #f3f4f6;background:#fff}.pairing-item[data-v-579d9f04]:last-child{border-bottom:none}.pairing-item.engaged[data-v-579d9f04]{background:#f0fdf4}.icon-default[data-v-579d9f04]{color:#94a3b8;font-size:32px}.icon-engaged[data-v-579d9f04]{color:#10b981;font-size:32px}.pairing-item ion-label h2[data-v-579d9f04]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px;display:flex;align-items:center;flex-wrap:wrap;gap:8px}.separator[data-v-579d9f04]{color:#cbd5e1;font-weight:300}.pairing-item ion-label p[data-v-579d9f04]{font-size:14px;color:#64748b;margin:4px 0}.reasons-label[data-v-579d9f04],.score-label[data-v-579d9f04]{font-weight:500;color:#475569}.score-value[data-v-579d9f04]{font-weight:600;color:var(--ion-color-primary)}.engaged-badge[data-v-579d9f04]{display:flex;align-items:center;gap:4px;color:#10b981;font-weight:500;margin-top:8px}.engaged-badge ion-icon[data-v-579d9f04]{font-size:16px}.search-container[data-v-579d9f04]{padding:12px 16px;background:#fff;border-bottom:1px solid #e5e7eb}.pairings-searchbar[data-v-579d9f04]{--box-shadow: none;--border-radius: 8px;--background: #f5f5f5;padding:0}.no-results[data-v-579d9f04]{padding:32px 16px;text-align:center;color:#64748b;font-size:14px}#magic-intros-list-modal{--width: 90%;--max-width: 900px;--height: 85%;--max-height: 800px;--border-radius: 16px}#magic-intros-list-modal::part(content){width:90%;max-width:900px;height:85%;max-height:800px;border-radius:16px}ion-modal#magic-intros-list-modal .modal-wrapper{width:90%!important;max-width:900px!important;height:85%!important;max-height:800px!important;border-radius:16px!important;margin:auto}.skills-content[data-v-e72e9bf4]{--background: #f9fafb}.loading-state[data-v-e72e9bf4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;color:#64748b}.loading-state ion-spinner[data-v-e72e9bf4]{margin-bottom:16px}.list-header[data-v-e72e9bf4]{padding:16px;background:#fff;border-bottom:1px solid #e5e7eb}.list-header h2[data-v-e72e9bf4]{margin:0 0 4px;font-size:20px;font-weight:600;color:#1a1a1a}.subtitle[data-v-e72e9bf4]{margin:0;font-size:14px;color:#64748b}.skills-list[data-v-e72e9bf4]{background:#fff}.skill-item[data-v-e72e9bf4]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #f3f4f6}.skill-item[data-v-e72e9bf4]:last-child{border-bottom:none}.skill-icon[data-v-e72e9bf4]{color:var(--ion-color-primary);font-size:24px;margin-right:12px}.skill-item ion-label h2[data-v-e72e9bf4]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px}.skill-item ion-label p[data-v-e72e9bf4]{font-size:14px;color:#64748b;margin:0;display:flex;align-items:center;flex-wrap:wrap;gap:4px}.stat-label[data-v-e72e9bf4]{font-weight:500;color:#64748b}.stat-value[data-v-e72e9bf4]{font-weight:600;color:var(--ion-color-primary)}.users-list[data-v-e72e9bf4]{background:#fff}.user-item[data-v-e72e9bf4]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #f3f4f6}.user-item[data-v-e72e9bf4]:last-child{border-bottom:none}.avatar-icon[data-v-e72e9bf4]{font-size:40px;color:#94a3b8;margin-right:12px}ion-avatar[data-v-e72e9bf4]{width:40px;height:40px;margin-right:12px}.user-item ion-label h2[data-v-e72e9bf4]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:4px}.user-item ion-label p[data-v-e72e9bf4]{font-size:14px;color:#64748b;margin:0}.user-skills[data-v-e72e9bf4]{margin-top:8px!important;font-size:13px!important;color:#64748b!important}.skills-label[data-v-e72e9bf4]{font-weight:500;color:#475569}.empty-state[data-v-e72e9bf4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 32px;text-align:center}.empty-icon[data-v-e72e9bf4]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.empty-state h2[data-v-e72e9bf4]{margin:0 0 8px;font-size:20px;font-weight:600;color:#1a1a1a}.empty-state p[data-v-e72e9bf4]{margin:0 0 8px;font-size:14px;color:#64748b}.search-container[data-v-e72e9bf4]{padding:12px 16px;background:#fff;border-bottom:1px solid #e5e7eb}.user-searchbar[data-v-e72e9bf4]{--box-shadow: none;--border-radius: 8px;--background: #f5f5f5;padding:0}.no-results[data-v-e72e9bf4]{padding:32px 16px;text-align:center;color:#64748b;font-size:14px}.empty-hint[data-v-e72e9bf4]{margin-top:8px;font-size:12px;color:#94a3b8;font-style:italic}#skills-list-modal{--width: 90%;--max-width: 900px;--height: 85%;--max-height: 800px;--border-radius: 16px}#skills-list-modal::part(content){width:90%;max-width:900px;height:85%;max-height:800px;border-radius:16px}ion-modal#skills-list-modal .modal-wrapper{width:90%!important;max-width:900px!important;height:85%!important;max-height:800px!important;border-radius:16px!important;margin:auto}[data-v-b03142b4] #mentor-list-modal{--width: 90%;--max-width: 600px;--height: 80%;--border-radius: 16px}.mentor-list-content[data-v-b03142b4]{--background: #f5f5f5}.loading-state[data-v-b03142b4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;color:#64748b}.loading-state ion-spinner[data-v-b03142b4]{margin-bottom:16px}.list-header[data-v-b03142b4]{padding:24px 16px 16px;background:#fff;border-bottom:1px solid #e5e7eb}.list-header h2[data-v-b03142b4]{margin:0 0 4px;font-size:20px;font-weight:600;color:#1a1a1a}.subtitle[data-v-b03142b4]{margin:0;font-size:14px;color:#64748b}.count-warning[data-v-b03142b4]{color:#f59e0b;font-weight:500}.users-list[data-v-b03142b4]{background:#fff}.user-item[data-v-b03142b4]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #e5e7eb}.user-item[data-v-b03142b4]:last-child{border-bottom:none}.avatar-icon[data-v-b03142b4]{font-size:40px;color:var(--color-primary);margin-right:16px}ion-avatar[data-v-b03142b4]{width:40px;height:40px;margin-right:16px}.user-item ion-label h2[data-v-b03142b4]{font-size:16px;font-weight:500;color:#1a1a1a;margin-bottom:4px}.user-item ion-label p[data-v-b03142b4]{font-size:14px;color:#64748b;margin:0}.user-skills[data-v-b03142b4]{margin-top:8px;display:flex;flex-wrap:wrap;gap:4px}.skill-chip[data-v-b03142b4]{--background: #e0f2fe;--color: #0369a1;font-size:12px;height:24px;margin:0}.search-container[data-v-b03142b4]{padding:12px 16px;background:#fff;border-bottom:1px solid #e5e7eb}.user-searchbar[data-v-b03142b4]{--box-shadow: none;--border-radius: 8px;--background: #f5f5f5;padding:0}.no-results[data-v-b03142b4]{padding:32px 16px;text-align:center;color:#64748b;font-size:14px}.empty-state[data-v-b03142b4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 32px;text-align:center}.empty-icon[data-v-b03142b4]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.empty-state h2[data-v-b03142b4]{margin:0 0 8px;font-size:20px;font-weight:600;color:#1a1a1a}.empty-state p[data-v-b03142b4]{margin:0;font-size:14px;color:#64748b}.channel-pairings-content[data-v-01142676]{--background: #f9fafb}.loading-state[data-v-01142676]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;color:#64748b}.loading-state ion-spinner[data-v-01142676]{margin-bottom:16px}.list-header[data-v-01142676]{padding:16px;background:#fff;border-bottom:1px solid #e5e7eb}.list-header h2[data-v-01142676]{margin:0 0 4px;font-size:20px;font-weight:600;color:#1a1a1a}.list-header .subtitle[data-v-01142676]{margin:0;font-size:14px;color:#64748b}.channel-pairings-list[data-v-01142676]{background:#fff}.channel-pairing-item[data-v-01142676]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #f3f4f6}.channel-pairing-item[data-v-01142676]:last-child{border-bottom:none}.channel-icon[data-v-01142676]{color:var(--ion-color-primary);font-size:24px;margin-right:12px}.channel-pairing-item ion-label h2[data-v-01142676]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px}.channel-pairing-item ion-label p[data-v-01142676]{font-size:14px;color:#64748b;margin:0;display:flex;align-items:center;flex-wrap:wrap;gap:4px;line-height:1.5}.channel-pairing-item ion-label p .stat-value[data-v-01142676]{min-width:20px;display:inline-block}.stat-label[data-v-01142676]{font-weight:500;color:#64748b}.stat-value[data-v-01142676]{font-weight:600;color:#2d7a4e!important}.stat-value.engaged[data-v-01142676]{color:#10b981!important}.stat-separator[data-v-01142676]{color:#cbd5e1;margin:0 4px}.empty-state[data-v-01142676]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 32px;text-align:center}.empty-icon[data-v-01142676]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.empty-state h2[data-v-01142676]{margin:0 0 8px;font-size:20px;font-weight:600;color:#1a1a1a}.empty-state p[data-v-01142676]{margin:0;font-size:14px;color:#64748b}.pairings-container[data-v-01142676]{background:transparent;padding:0 16px 16px}.pairings-list[data-v-01142676]{background:transparent;padding:0}.pairings-list ion-item[data-v-01142676]{margin-bottom:8px;border-radius:8px;overflow:hidden}.header-section[data-v-01142676]{padding:24px 20px;margin:16px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.08)}.header-section h2[data-v-01142676]{margin:0 0 20px;font-size:24px;font-weight:600;color:#1a1a1a}.stats-summary[data-v-01142676]{display:flex;gap:32px;flex-wrap:wrap}.stat-item[data-v-01142676]{display:flex;flex-direction:column;gap:6px}.stat-label[data-v-01142676]{font-size:12px;font-weight:500;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.stat-value[data-v-01142676]{font-size:28px;font-weight:700;color:#2d7a4e;line-height:1.2}.stat-value.engaged[data-v-01142676]{color:#10b981}.pairing-item[data-v-01142676]{--padding-start: 16px;--padding-end: 16px;--min-height: 88px;border-bottom:1px solid #f3f4f6;background:#fff}.pairing-item[data-v-01142676]:last-child{border-bottom:none}.pairing-item.engaged[data-v-01142676]{background:#f0fdf4}.icon-default[data-v-01142676]{color:#94a3b8;font-size:32px}.icon-engaged[data-v-01142676]{color:#10b981;font-size:32px}.pairing-item ion-label h2[data-v-01142676]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px;display:flex;align-items:center;flex-wrap:wrap;gap:8px}.separator[data-v-01142676]{color:#cbd5e1;font-weight:300}.pairing-item ion-label p[data-v-01142676]{font-size:14px;color:#64748b;margin:4px 0}.reasons-label[data-v-01142676],.score-label[data-v-01142676]{font-weight:500;color:#475569}.score-value[data-v-01142676]{font-weight:600;color:var(--ion-color-primary)}.engaged-badge[data-v-01142676]{display:flex;align-items:center;gap:4px;color:#10b981;font-weight:500;margin-top:8px}.engaged-badge ion-icon[data-v-01142676]{font-size:16px}.search-container[data-v-01142676]{padding:12px 16px;background:#fff;border-bottom:1px solid #e5e7eb}.pairings-searchbar[data-v-01142676]{--box-shadow: none;--border-radius: 8px;--background: #f5f5f5;padding:0}.no-results[data-v-01142676]{padding:32px 16px;text-align:center;color:#64748b;font-size:14px}#channel-pairings-list-modal{--width: 90%;--max-width: 900px;--height: 85%;--max-height: 800px;--border-radius: 16px}#channel-pairings-list-modal::part(content){width:90%;max-width:900px;height:85%;max-height:800px;border-radius:16px}ion-modal#channel-pairings-list-modal .modal-wrapper{width:90%!important;max-width:900px!important;height:85%!important;max-height:800px!important;border-radius:16px!important;margin:auto}.mentor-mentee-matches-content[data-v-a6dec1ce]{--background: #f9fafb}.loading-state[data-v-a6dec1ce]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;color:#64748b}.loading-state ion-spinner[data-v-a6dec1ce]{margin-bottom:16px}.list-header[data-v-a6dec1ce]{padding:16px;background:#fff;border-bottom:1px solid #e5e7eb}.list-header h2[data-v-a6dec1ce]{margin:0 0 4px;font-size:20px;font-weight:600;color:#1a1a1a}.list-header .subtitle[data-v-a6dec1ce]{margin:0;font-size:14px;color:#64748b}.matches-list[data-v-a6dec1ce]{background:#fff}.match-item[data-v-a6dec1ce]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #f3f4f6}.match-item[data-v-a6dec1ce]:last-child{border-bottom:none}.match-icon[data-v-a6dec1ce]{color:var(--ion-color-primary);font-size:24px;margin-right:12px}.match-item ion-label h2[data-v-a6dec1ce]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px}.match-item ion-label p[data-v-a6dec1ce]{font-size:14px;color:#64748b;margin:0;display:flex;align-items:center;flex-wrap:wrap;gap:4px;line-height:1.5}.match-item ion-label p .stat-value[data-v-a6dec1ce]{min-width:20px;display:inline-block}.stat-label[data-v-a6dec1ce]{font-weight:500;color:#64748b}.stat-value[data-v-a6dec1ce]{font-weight:600;color:#2d7a4e!important}.stat-value.engaged[data-v-a6dec1ce]{color:#10b981!important}.stat-separator[data-v-a6dec1ce]{color:#cbd5e1;margin:0 4px}.role-info[data-v-a6dec1ce]{margin-top:8px;display:flex;align-items:center;gap:8px;flex-wrap:wrap}.role-badge[data-v-a6dec1ce]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500}.role-badge ion-icon[data-v-a6dec1ce]{font-size:14px}.mentor-badge[data-v-a6dec1ce]{background-color:#f0f9ff;color:#0369a1;border:1px solid #bae6fd}.mentor-badge ion-icon[data-v-a6dec1ce]{color:#0369a1}.mentee-badge[data-v-a6dec1ce]{background-color:#fef3c7;color:#92400e;border:1px solid #fde68a}.mentee-badge ion-icon[data-v-a6dec1ce]{color:#92400e}.role-separator[data-v-a6dec1ce]{color:#94a3b8;font-weight:600;margin:0 4px}.empty-state[data-v-a6dec1ce]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 32px;text-align:center}.empty-icon[data-v-a6dec1ce]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.empty-state h2[data-v-a6dec1ce]{margin:0 0 8px;font-size:20px;font-weight:600;color:#1a1a1a}.empty-state p[data-v-a6dec1ce]{margin:0;font-size:14px;color:#64748b}.pairings-container[data-v-a6dec1ce]{background:transparent;padding:0 16px 16px}.pairings-list[data-v-a6dec1ce]{background:transparent;padding:0}.pairings-list ion-item[data-v-a6dec1ce]{margin-bottom:8px;border-radius:8px;overflow:hidden}.header-section[data-v-a6dec1ce]{padding:24px 20px;margin:16px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.08)}.header-section h2[data-v-a6dec1ce]{margin:0 0 20px;font-size:24px;font-weight:600;color:#1a1a1a}.stats-summary[data-v-a6dec1ce]{display:flex;gap:32px;flex-wrap:wrap}.stat-item[data-v-a6dec1ce]{display:flex;flex-direction:column;gap:6px}.stat-label[data-v-a6dec1ce]{font-size:12px;font-weight:500;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.stat-value[data-v-a6dec1ce]{font-size:28px;font-weight:700;color:#2d7a4e;line-height:1.2}.stat-value.engaged[data-v-a6dec1ce]{color:#10b981}.pairing-item[data-v-a6dec1ce]{--padding-start: 16px;--padding-end: 16px;--min-height: 88px;border-bottom:1px solid #f3f4f6;background:#fff}.pairing-item[data-v-a6dec1ce]:last-child{border-bottom:none}.pairing-item.engaged[data-v-a6dec1ce]{background:#f0fdf4}.icon-default[data-v-a6dec1ce]{color:#94a3b8;font-size:32px}.icon-engaged[data-v-a6dec1ce]{color:#10b981;font-size:32px}.pairing-item ion-label h2[data-v-a6dec1ce]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px;display:flex;align-items:center;flex-wrap:wrap;gap:8px}.separator[data-v-a6dec1ce]{color:#cbd5e1;font-weight:300}.pairing-item ion-label p[data-v-a6dec1ce]{font-size:14px;color:#64748b;margin:4px 0}.engaged-badge[data-v-a6dec1ce]{display:flex;align-items:center;gap:4px;color:#10b981;font-weight:500;margin-top:8px}.engaged-badge ion-icon[data-v-a6dec1ce]{font-size:16px}.search-container[data-v-a6dec1ce]{padding:12px 16px;background:#fff;border-bottom:1px solid #e5e7eb}.pairings-searchbar[data-v-a6dec1ce]{--box-shadow: none;--border-radius: 8px;--background: #f5f5f5;padding:0}.no-results[data-v-a6dec1ce]{padding:32px 16px;text-align:center;color:#64748b;font-size:14px}#mentor-mentee-matches-list-modal{--width: 90%;--max-width: 900px;--height: 85%;--max-height: 800px;--border-radius: 16px}#mentor-mentee-matches-list-modal::part(content){width:90%;max-width:900px;height:85%;max-height:800px;border-radius:16px}ion-modal#mentor-mentee-matches-list-modal .modal-wrapper{width:90%!important;max-width:900px!important;height:85%!important;max-height:800px!important;border-radius:16px!important;margin:auto}.connections-content[data-v-635d2dd4]{--background: #f9fafb}.loading-state[data-v-635d2dd4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;color:#64748b}.loading-state ion-spinner[data-v-635d2dd4]{margin-bottom:16px}.list-header[data-v-635d2dd4]{padding:16px;background:#fff;border-bottom:1px solid #e5e7eb}.list-header h2[data-v-635d2dd4]{margin:0 0 4px;font-size:20px;font-weight:600;color:#1a1a1a}.list-header .subtitle[data-v-635d2dd4]{margin:0;font-size:14px;color:#64748b}.connections-list[data-v-635d2dd4]{background:#fff}.connection-item[data-v-635d2dd4]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #f3f4f6}.connection-item[data-v-635d2dd4]:last-child{border-bottom:none}.icon-default[data-v-635d2dd4]{color:#94a3b8;font-size:32px}.connection-item ion-label h2[data-v-635d2dd4]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:8px}.connection-item ion-label p[data-v-635d2dd4]{font-size:14px;color:#64748b;margin:4px 0;display:flex;align-items:center;gap:4px}.match-type[data-v-635d2dd4]{margin-top:4px}.stat-label[data-v-635d2dd4]{font-weight:500;color:#64748b}.stat-value[data-v-635d2dd4]{font-weight:600;color:#2d7a4e!important}.empty-state[data-v-635d2dd4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 32px;text-align:center}.empty-icon[data-v-635d2dd4]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.empty-state h2[data-v-635d2dd4]{margin:0 0 8px;font-size:20px;font-weight:600;color:#1a1a1a}.empty-state p[data-v-635d2dd4]{margin:0;font-size:14px;color:#64748b}.header-section[data-v-635d2dd4]{padding:24px 20px;margin:16px;border-radius:12px;border:1px solid #e5e7eb;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.08)}.header-section h2[data-v-635d2dd4]{margin:0 0 20px;font-size:24px;font-weight:600;color:#1a1a1a}.stats-summary[data-v-635d2dd4]{display:flex;gap:32px;flex-wrap:wrap}.stat-item[data-v-635d2dd4]{display:flex;flex-direction:column;gap:6px}.stat-label[data-v-635d2dd4]{font-size:12px;font-weight:500;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.stat-value[data-v-635d2dd4]{font-size:28px;font-weight:700;color:#2d7a4e;line-height:1.2}.search-container[data-v-635d2dd4]{padding:12px 16px;background:#fff;border-bottom:1px solid #e5e7eb}.connections-searchbar[data-v-635d2dd4],.users-searchbar[data-v-635d2dd4]{--box-shadow: none;--border-radius: 8px;--background: #f5f5f5;padding:0}.no-results[data-v-635d2dd4]{padding:32px 16px;text-align:center;color:#64748b;font-size:14px}.user-item[data-v-635d2dd4]{--padding-start: 16px;--padding-end: 16px;--min-height: 72px;border-bottom:1px solid #f3f4f6}.user-item[data-v-635d2dd4]:last-child{border-bottom:none}.user-icon[data-v-635d2dd4]{color:#6366f1;font-size:32px}.user-item ion-label h2[data-v-635d2dd4]{font-size:16px;font-weight:600;color:#1a1a1a;margin-bottom:4px}.user-item ion-label p[data-v-635d2dd4]{font-size:14px;color:#64748b;margin:0;display:flex;align-items:center;gap:4px}.connections-container[data-v-635d2dd4]{background:transparent;padding:0}#connections-list-modal{--width: 90%;--max-width: 900px;--height: 85%;--max-height: 800px;--border-radius: 16px}#connections-list-modal::part(content){width:90%;max-width:900px;height:85%;max-height:800px;border-radius:16px}ion-modal#connections-list-modal .modal-wrapper{width:90%!important;max-width:900px!important;height:85%!important;max-height:800px!important;border-radius:16px!important;margin:auto}.admin-console-content[data-v-ede2b30e]{--background: #f8fafc}.access-denied[data-v-ede2b30e]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 16px;text-align:center}.lock-icon[data-v-ede2b30e]{font-size:64px;color:#ef4444;margin-bottom:16px}.access-denied h2[data-v-ede2b30e]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0 0 8px}.access-denied p[data-v-ede2b30e]{font-size:16px;color:#64748b;margin:0 0 8px}.redirect-message[data-v-ede2b30e]{font-size:14px;font-style:italic;margin-bottom:24px!important}.loading-container[data-v-ede2b30e]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 16px;color:#64748b}.admin-console-container[data-v-ede2b30e]{max-width:1400px;margin:0 auto;padding:16px}.community-selector-section[data-v-ede2b30e]{background:#fff;border-radius:12px;padding:16px;margin-bottom:16px;box-shadow:0 2px 8px rgba(0,0,0,.04)}ion-segment[data-v-ede2b30e]{margin-bottom:24px;--background: white;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.04);padding:4px}.tab-content[data-v-ede2b30e]{min-height:400px}.tab-panel[data-v-ede2b30e]{animation:fadeIn-ede2b30e .3s ease}@keyframes fadeIn-ede2b30e{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (min-width: 768px){.admin-console-container[data-v-ede2b30e]{padding:24px}}\n",document.head.appendChild(Re);var We={class:"user-management-section"},Be={class:"section-header"},Ye={class:"filters-section"},qe={class:"filter-controls"},Ge={class:"users-table-container"},Je={key:0,class:"loading-state"},He={key:1,class:"empty-state"},Ze={key:2,class:"users-table"},$e=["onClick"],Ke={class:"col-name"},Qe={class:"user-info"},Xe=["src","alt"],ea={key:1,class:"user-avatar-placeholder"},aa={class:"col-email"},na={class:"col-join-date"},ta={class:"col-status"},ra={class:"col-role"},oa={key:1,class:"role-text"},la=i({__name:"UserManagementSection",props:{communityId:{}},emits:["refresh"],setup:function(e,a){var n=a.emit,t=e,r=n,o=P(),i=s(!1),W=s([]),B=s(""),Y=s("name"),q=s("all"),G=d(function(){var e=u(W.value);if(B.value.trim()){var a=B.value.toLowerCase();e=e.filter(function(e){return e.fullName.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)})}return"managers"===q.value?e=e.filter(function(e){return e.isManager}):"enabled"===q.value?e=e.filter(function(e){return!1!==e.enabled}):"disabled"===q.value&&(e=e.filter(function(e){return!1===e.enabled})),e.sort(function(e,a){if("name"===Y.value)return e.fullName.localeCompare(a.fullName);if("email"===Y.value)return e.email.localeCompare(a.email);if("joinDate"===Y.value){var n=new Date(e.joinDate||0).getTime();return new Date(a.joinDate||0).getTime()-n}return 0}),e});function J(){return(J=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.communityId){e.n=1;break}return e.a(2);case 1:return i.value=!0,e.p=2,e.n=3,Fe.getCommunityMembers(t.communityId);case 3:a=e.v,W.value=a,a.length,e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading members:",n),W.value=[];case 5:return e.p=5,i.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function H(){}function Z(){}function $(){return($=c(l().m(function e(a){var n,o,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.communityId){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,Fe.toggleUserStatus(a.id,!1===a.enabled);case 2:return a.enabled=!1===a.enabled,e.n=3,T.create({message:"User ".concat(a.enabled?"enabled":"disabled"),duration:2e3,color:"success"});case 3:return n=e.v,e.n=4,n.present();case 4:r("refresh"),e.n=7;break;case 5:return e.p=5,i=e.v,console.error("Error toggling user status:",i),e.n=6,T.create({message:"Failed to update user status",duration:2e3,color:"danger"});case 6:return o=e.v,e.n=7,o.present();case 7:return e.a(2)}},e,null,[[1,5]])}))).apply(this,arguments)}function K(){return(K=c(l().m(function e(a){var n,o,i,s;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.communityId){e.n=1;break}return e.a(2);case 1:return e.p=1,n=!a.isManager,e.n=2,Fe.toggleManager(t.communityId,a.id,n);case 2:return a.isManager=n,e.n=3,T.create({message:"User ".concat(n?"added as":"removed from"," manager"),duration:2e3,color:"success"});case 3:return o=e.v,e.n=4,o.present();case 4:r("refresh"),e.n=7;break;case 5:return e.p=5,s=e.v,console.error("Error toggling manager:",s),e.n=6,T.create({message:"Failed to update manager status",duration:2e3,color:"danger"});case 6:return i=e.v,e.n=7,i.present();case 7:return e.a(2)}},e,null,[[1,5]])}))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=c(l().m(function e(){var a,n,r,o;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.communityId){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,Fe.exportData(t.communityId,"users");case 2:return a=e.v,Fe.downloadCSV(a,"users_".concat(t.communityId,"_").concat(Date.now(),".csv")),e.n=3,T.create({message:"Users exported successfully",duration:2e3,color:"success"});case 3:return n=e.v,e.n=4,n.present();case 4:e.n=7;break;case 5:return e.p=5,o=e.v,console.error("Error exporting users:",o),e.n=6,T.create({message:"Failed to export users",duration:2e3,color:"danger"});case 6:return r=e.v,e.n=7,r.present();case 7:return e.a(2)}},e,null,[[1,5]])}))).apply(this,arguments)}return f(function(){!function(){J.apply(this,arguments)}()}),function(e,a){return A(),p("div",We,[v("div",Be,[a[5]||(a[5]=v("h2",{class:"section-title"},"User Management",-1)),m(g(b),{fill:"outline",size:"small",onClick:Q},{default:h(function(){return[m(g(x),{icon:g(k),slot:"start"},null,8,["icon"]),a[4]||(a[4]=y(" Export CSV ",-1))]}),_:1})]),v("div",Ye,[m(g(w),{modelValue:B.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return B.value=e}),placeholder:"Search by name or email...",debounce:300,onIonInput:H},null,8,["modelValue"]),v("div",qe,[m(g(C),null,{default:h(function(){return[m(g(_),null,{default:h(function(){return u(a[6]||(a[6]=[y("Sort By",-1)]))}),_:1}),m(g(I),{modelValue:Y.value,"onUpdate:modelValue":a[1]||(a[1]=function(e){return Y.value=e}),onIonChange:Z},{default:h(function(){return[m(g(S),{value:"name"},{default:h(function(){return u(a[7]||(a[7]=[y("Name",-1)]))}),_:1}),m(g(S),{value:"email"},{default:h(function(){return u(a[8]||(a[8]=[y("Email",-1)]))}),_:1}),m(g(S),{value:"joinDate"},{default:h(function(){return u(a[9]||(a[9]=[y("Join Date",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),m(g(C),null,{default:h(function(){return[m(g(_),null,{default:h(function(){return u(a[10]||(a[10]=[y("Filter",-1)]))}),_:1}),m(g(I),{modelValue:q.value,"onUpdate:modelValue":a[2]||(a[2]=function(e){return q.value=e}),onIonChange:Z},{default:h(function(){return[m(g(S),{value:"all"},{default:h(function(){return u(a[11]||(a[11]=[y("All Users",-1)]))}),_:1}),m(g(S),{value:"managers"},{default:h(function(){return u(a[12]||(a[12]=[y("Managers Only",-1)]))}),_:1}),m(g(S),{value:"enabled"},{default:h(function(){return u(a[13]||(a[13]=[y("Enabled Only",-1)]))}),_:1}),m(g(S),{value:"disabled"},{default:h(function(){return u(a[14]||(a[14]=[y("Disabled Only",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1})])]),v("div",Ge,[i.value?(A(),p("div",Je,[m(g(D)),a[15]||(a[15]=v("p",null,"Loading users...",-1))])):0===G.value.length?(A(),p("div",He,u(a[16]||(a[16]=[v("p",null,"No users found",-1)])))):(A(),p("div",Ze,[a[18]||(a[18]=M('<div class="table-header" data-v-9626e3d5><div class="col-name" data-v-9626e3d5>Name</div><div class="col-email" data-v-9626e3d5>Email</div><div class="col-join-date" data-v-9626e3d5>Join Date</div><div class="col-status" data-v-9626e3d5>Status</div><div class="col-role" data-v-9626e3d5>Role</div><div class="col-actions" data-v-9626e3d5>Actions</div></div>',1)),(A(!0),p(U,null,N(G.value,function(e){return A(),p("div",{key:e.id,class:"table-row",onClick:function(a){return n=e.id,void o.push("/tabs/profile/".concat(n));var n}},[v("div",Ke,[v("div",Qe,[e.profilePicture?(A(),p("img",{key:0,src:e.profilePicture,alt:e.fullName,class:"user-avatar"},null,8,Xe)):(A(),p("div",ea,z((t=e.fullName,r=t.split(" "),r.length>=2?(r[0][0]+r[r.length-1][0]).toUpperCase():t.substring(0,2).toUpperCase())),1)),v("span",null,z(e.fullName),1)])]),v("div",aa,z(e.email),1),v("div",na,z((n=e.joinDate,n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")),1),v("div",ta,[m(g(E),{color:!1!==e.enabled?"success":"danger",size:"small"},{default:h(function(){return[y(z(!1!==e.enabled?"Enabled":"Disabled"),1)]}),_:2},1032,["color"])]),v("div",ra,[e.isManager?(A(),j(g(E),{key:0,color:"primary",size:"small"},{default:h(function(){return u(a[17]||(a[17]=[y(" Manager ",-1)]))}),_:1})):(A(),p("span",oa,"Member"))]),v("div",{class:"col-actions",onClick:a[3]||(a[3]=L(function(){},["stop"]))},[m(g(b),{fill:"clear",size:"small",onClick:L(function(a){return function(e){return $.apply(this,arguments)}(e)},["stop"])},{default:h(function(){return[m(g(x),{icon:!1!==e.enabled?g(O):g(F)},null,8,["icon"])]}),_:2},1032,["onClick"]),m(g(b),{fill:"clear",size:"small",onClick:L(function(a){return function(e){return K.apply(this,arguments)}(e)},["stop"])},{default:h(function(){return[m(g(x),{icon:e.isManager?g(V):g(R)},null,8,["icon"])]}),_:2},1032,["onClick"])])],8,$e);var n,t,r}),128))]))])])}}}),ia=W(la,[["__scopeId","data-v-9626e3d5"]]),sa={class:"data-upload-section"},ca={class:"upload-cards"},ua={class:"upload-card"},da={class:"card-header"},fa={class:"file-input-container"},pa={key:0,class:"file-name"},va={class:"upload-card"},ma={class:"card-header"},ga={class:"file-input-container"},ba={key:0,class:"file-name"},ha={class:"upload-card"},ya={class:"card-header"},xa={class:"file-input-container"},ka={key:0,class:"file-name"},wa=i({__name:"DataUploadSection",props:{communityId:{}},setup:function(e){var a=e,n=s(null),t=s(null),r=s(null),o=s(null),i=s(null),u=s(null),d=s(!1);function f(){var e;null===(e=n.value)||void 0===e||e.click()}function k(){var e;null===(e=t.value)||void 0===e||e.click()}function w(){var e;null===(e=r.value)||void 0===e||e.click()}function C(e){var a,n=e.target;o.value=(null===(a=n.files)||void 0===a?void 0:a[0])||null}function _(e){var a,n=e.target;i.value=(null===(a=n.files)||void 0===a?void 0:a[0])||null}function I(e){var a,n=e.target;u.value=(null===(a=n.files)||void 0===a?void 0:a[0])||null}function S(){return D.apply(this,arguments)}function D(){return(D=c(l().m(function e(){var t,r,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.communityId&&o.value){e.n=1;break}return e.a(2);case 1:return d.value=!0,e.p=2,e.n=3,Fe.uploadDriverData(a.communityId,o.value);case 3:return e.n=4,T.create({message:"Driver data uploaded successfully",duration:2e3,color:"success"});case 4:return t=e.v,e.n=5,t.present();case 5:o.value=null,n.value&&(n.value.value=""),e.n=8;break;case 6:return e.p=6,i=e.v,console.error("Error uploading driver data:",i),e.n=7,T.create({message:"Failed to upload driver data",duration:2e3,color:"danger"});case 7:return r=e.v,e.n=8,r.present();case 8:return e.p=8,d.value=!1,e.f(8);case 9:return e.a(2)}},e,null,[[2,6,8,9]])}))).apply(this,arguments)}function M(){return U.apply(this,arguments)}function U(){return(U=c(l().m(function e(){var n,r,o;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.communityId&&i.value){e.n=1;break}return e.a(2);case 1:return d.value=!0,e.p=2,e.n=3,Fe.uploadReportsToData(a.communityId,i.value);case 3:return e.n=4,T.create({message:"Reports to data uploaded successfully",duration:2e3,color:"success"});case 4:return n=e.v,e.n=5,n.present();case 5:i.value=null,t.value&&(t.value.value=""),e.n=8;break;case 6:return e.p=6,o=e.v,console.error("Error uploading reports to data:",o),e.n=7,T.create({message:"Failed to upload reports to data",duration:2e3,color:"danger"});case 7:return r=e.v,e.n=8,r.present();case 8:return e.p=8,d.value=!1,e.f(8);case 9:return e.a(2)}},e,null,[[2,6,8,9]])}))).apply(this,arguments)}function N(){return P.apply(this,arguments)}function P(){return(P=c(l().m(function e(){var n,t,o;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.communityId&&u.value){e.n=1;break}return e.a(2);case 1:return d.value=!0,e.p=2,e.n=3,Fe.uploadMappedPairings(a.communityId,u.value);case 3:return e.n=4,T.create({message:"Mapped pairings uploaded successfully",duration:2e3,color:"success"});case 4:return n=e.v,e.n=5,n.present();case 5:u.value=null,r.value&&(r.value.value=""),e.n=8;break;case 6:return e.p=6,o=e.v,console.error("Error uploading pairings:",o),e.n=7,T.create({message:"Failed to upload mapped pairings",duration:2e3,color:"danger"});case 7:return t=e.v,e.n=8,t.present();case 8:return e.p=8,d.value=!1,e.f(8);case 9:return e.a(2)}},e,null,[[2,6,8,9]])}))).apply(this,arguments)}return function(e,a){return A(),p("div",sa,[a[9]||(a[9]=v("h2",{class:"section-title"},"Data Upload & Management",-1)),a[10]||(a[10]=v("p",{class:"section-description"},"Upload CSV files to manage community data",-1)),v("div",ca,[v("div",ua,[v("div",da,[m(g(x),{icon:g(B),class:"card-icon"},null,8,["icon"]),a[0]||(a[0]=v("h3",{class:"card-title"},"Driver Data",-1))]),a[2]||(a[2]=v("p",{class:"card-description"},"Upload CSV file with driver data",-1)),v("div",fa,[v("input",{ref_key:"driverFileInput",ref:n,type:"file",accept:".csv",onChange:C,style:{display:"none"}},null,544),m(g(b),{fill:"outline",onClick:f},{default:h(function(){return[m(g(x),{icon:g(q),slot:"start"},null,8,["icon"]),a[1]||(a[1]=y(" Choose CSV File ",-1))]}),_:1}),o.value?(A(),p("div",pa,z(o.value.name),1)):Y("",!0)]),m(g(b),{expand:"block",onClick:S,disabled:!o.value||d.value},{default:h(function(){return[y(z(d.value?"Uploading...":"Upload Driver Data"),1)]}),_:1},8,["disabled"])]),v("div",va,[v("div",ma,[m(g(x),{icon:g(G),class:"card-icon"},null,8,["icon"]),a[3]||(a[3]=v("h3",{class:"card-title"},"Reports To Data",-1))]),a[5]||(a[5]=v("p",{class:"card-description"},"Upload CSV with user reports-to-manager data",-1)),v("div",ga,[v("input",{ref_key:"reportsToFileInput",ref:t,type:"file",accept:".csv",onChange:_,style:{display:"none"}},null,544),m(g(b),{fill:"outline",onClick:k},{default:h(function(){return[m(g(x),{icon:g(q),slot:"start"},null,8,["icon"]),a[4]||(a[4]=y(" Choose CSV File ",-1))]}),_:1}),i.value?(A(),p("div",ba,z(i.value.name),1)):Y("",!0)]),m(g(b),{expand:"block",onClick:M,disabled:!i.value||d.value},{default:h(function(){return[y(z(d.value?"Uploading...":"Upload Reports To Data"),1)]}),_:1},8,["disabled"])]),v("div",ha,[v("div",ya,[m(g(x),{icon:g(J),class:"card-icon"},null,8,["icon"]),a[6]||(a[6]=v("h3",{class:"card-title"},"Mapped Pairings",-1))]),a[8]||(a[8]=v("p",{class:"card-description"},"Upload CSV with user email pairings for groups (up to 6 users per group)",-1)),v("div",xa,[v("input",{ref_key:"pairingsFileInput",ref:r,type:"file",accept:".csv",onChange:I,style:{display:"none"}},null,544),m(g(b),{fill:"outline",onClick:w},{default:h(function(){return[m(g(x),{icon:g(q),slot:"start"},null,8,["icon"]),a[7]||(a[7]=y(" Choose CSV File ",-1))]}),_:1}),u.value?(A(),p("div",ka,z(u.value.name),1)):Y("",!0)]),m(g(b),{expand:"block",onClick:N,disabled:!u.value||d.value},{default:h(function(){return[y(z(d.value?"Uploading...":"Upload Mapped Pairings"),1)]}),_:1},8,["disabled"])])])])}}}),Ca=W(wa,[["__scopeId","data-v-2962b52f"]]),_a={class:"analytics-dashboard-section"},Ia={class:"section-header"},Sa={class:"dashboard-selector"},Da={class:"dashboard-selector-content"},Ma={class:"dashboard-group"},Ua={class:"dashboard-checkboxes"},Na={key:0,class:"dashboard-group"},Pa={class:"dashboard-checkboxes"},Ta={key:0,class:"loading-state"},Aa={key:1,class:"dashboards-grid"},za={class:"dashboard-header"},Ea={class:"dashboard-title"},ja={key:0,class:"loading-mini"},La={key:1,class:"dashboard-chart"},Oa=["onClick"],Fa={class:"chart-bar-container"},Va={class:"chart-label"},Ra={class:"chart-value"},Wa={key:2,class:"no-data"},Ba={class:"user-stats-table-section"},Ya={class:"section-header secondary"},qa={class:"user-table-actions"},Ga={class:"user-table-controls"},Ja={class:"control-field"},Ha={class:"control-field"},Za={class:"control-field search"},$a={class:"control-field"},Ka=["value"],Qa={class:"control-summary"},Xa={class:"user-table-wrapper"},en={key:0,class:"loading-state"},an={key:1,class:"no-data"},nn={key:2,class:"table-scroll"},tn={class:"user-table"},rn=["onClick"],on={key:0},ln={class:"pagination-row"},sn=["disabled"],cn={class:"pager-status"},un=["disabled"],dn={key:0,class:"loading-state"},fn={key:1,class:"no-users"},pn={key:2,class:"users-list"},vn=["onClick"],mn={class:"user-avatar"},gn=["src","alt"],bn={key:1,class:"avatar-placeholder"},hn={class:"user-info"},yn={class:"user-name"},xn={class:"user-email"},kn=i({__name:"AnalyticsDashboardSection",props:{communityId:{}},setup:function(e){var a,n,i,w=e,C=P(),I=s(!1),S=s(!1),M=s([]),E=s([]),j=s(new Map),L=s(!1),O=s(""),F=s([]),V=s(!1),R=s(null),W=s([]),B=s([]),q=s(0),J=s(!1),fe=s(""),pe=s("homepageViews"),ve=s("desc"),me=s(1),ge=s(25),be=s((n=(a=new Date).getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),"".concat(n,"-").concat(i,"-").concat("01"))),he=s(function(){var e=new Date,a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(t)}()),ye=[{name:"Name",prop:"name",isVisible:!0},{name:"Trova Opens",prop:"homepageViews",isVisible:!0},{name:"Intros Led To Convos",prop:"introsLedToConvos",isVisible:!0},{name:"Profile Score",prop:"profileCompletionScore",isVisible:!0,isPercent:!0},{name:"City",prop:"city",isVisible:!0},{name:"State",prop:"state",isVisible:!0},{name:"Country",prop:"country",isVisible:!0}],xe=d(function(){return(B.value&&B.value.length>0?B.value:ye).filter(function(e){return!1!==e.isVisible})}),ke=d(function(){if(!fe.value)return W.value;var e=fe.value.toLowerCase();return W.value.filter(function(a){return["name","email","city","state","country"].some(function(n){return(a[n]||"").toString().toLowerCase().includes(e)})})}),we=d(function(){var e=u(ke.value),a=pe.value,n="asc"===ve.value?1:-1;return e.sort(function(e,t){var r=null==e?void 0:e[a],o=null==t?void 0:t[a];return r===o?0:"number"==typeof r&&"number"==typeof o?(r-o)*n:(null==r?void 0:r.toString().localeCompare(null==o?void 0:o.toString()))*n}),e}),Ce=d(function(){var e=(me.value-1)*ge.value;return we.value.slice(e,e+ge.value)}),_e=d(function(){var e=we.value.length;if(0===e)return"Showing 0";var a=(me.value-1)*ge.value+1,n=Math.min(e,a+ge.value-1);return"Showing ".concat(a,"-").concat(n," of ").concat(q.value||e)});function Ie(){return Se.apply(this,arguments)}function Se(){return(Se=c(l().m(function e(){var a,n,t,r,o,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return J.value=!0,e.p=2,n=be.value?new Date(be.value).toISOString():void 0,t=he.value?new Date(he.value+"T23:59:59").toISOString():void 0,e.n=3,Fe.getSlackUserStats(w.communityId,n,t);case 3:r=e.v,W.value=r.rows||[],o=["spotlights","spotlightscreated","spotlights_created","mentormentee","mentormenteematches","mentor_mentee","mentor_mentee_matches","mentor/mentee","mentor/mentee matches","generalactions","general_actions","profileactions","profile_actions"],B.value=(r.columns||[]).filter(function(e){var a=(e.name||"").toLowerCase().replace(/[_\s\/]/g,""),n=(e.prop||"").toLowerCase().replace(/[_\s\/]/g,"");return!o.some(function(e){return a.includes(e)||n.includes(e)})}),q.value=r.totalUserCount||(null===(a=r.rows)||void 0===a?void 0:a.length)||0,me.value=1,e.n=5;break;case 4:e.p=4,i=e.v,console.error("[AnalyticsDashboardSection] Error loading user table data:",i),W.value=[],B.value=[],q.value=0;case 5:return e.p=5,J.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function De(){me.value=1}function Me(e){var a=Math.max(1,Math.ceil(we.value.length/ge.value)),n=me.value+e;n<1||n>a||(me.value=n)}function Ue(){return Ne.apply(this,arguments)}function Ne(){return(Ne=c(l().m(function e(){var a,n,t,r,o,i,s,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId&&0!==we.value.length){e.n=3;break}return e.n=1,T.create({message:"No data available to export",duration:2e3,color:"warning"});case 1:return a=e.v,e.n=2,a.present();case 2:case 8:return e.a(2);case 3:return e.p=3,n=xe.value.map(function(e){return e.name}).join(","),t=we.value.map(function(e){return xe.value.map(function(a){var n=e[a.prop];if(null==n)return"";if(a.isPercent&&"number"==typeof n)return"".concat(n.toFixed(1),"%");var t=String(n);return t.includes(",")||t.includes('"')||t.includes("\n")?'"'.concat(t.replace(/"/g,'""'),'"'):t}).join(",")}),r=[n].concat(u(t)).join("\n"),o=new Blob([r],{type:"text/csv"}),Fe.downloadCSV(o,"user_actions_".concat(w.communityId,"_").concat(Date.now(),".csv")),e.n=4,T.create({message:"User table exported successfully",duration:2e3,color:"success"});case 4:return i=e.v,e.n=5,i.present();case 5:e.n=8;break;case 6:return e.p=6,c=e.v,console.error("Error exporting user table:",c),e.n=7,T.create({message:"Failed to export user table",duration:2e3,color:"danger"});case 7:return s=e.v,e.n=8,s.present()}},e,null,[[3,6]])}))).apply(this,arguments)}var Pe=s({}),Te=s({}),Ae=s(new Set),ze=s(new Set),Ee=s(!0),je=["interests","activities","businessTopics","skills","mentors","mentees"],Le=["intention","movies","music","occupation","organization","university","location"];function Oe(){if(w.communityId){var e="admin_dashboards_".concat(w.communityId),a=localStorage.getItem(e);if(a)try{var n=JSON.parse(a),t=n.filter(function(e){return!Le.includes(e)});t.length!==n.length?(M.value=t,We()):M.value=t}catch(l){M.value=[].concat(je)}else M.value=[].concat(je);var r="admin_dashboards_collapsed_".concat(w.communityId),o=localStorage.getItem(r);Ee.value=null===o||JSON.parse(o)}}function Re(){if(Ee.value=!Ee.value,w.communityId){var e="admin_dashboards_collapsed_".concat(w.communityId);localStorage.setItem(e,JSON.stringify(Ee.value))}}function We(){if(w.communityId){var e="admin_dashboards_".concat(w.communityId);localStorage.setItem(e,JSON.stringify(M.value))}}function Be(){return Ye.apply(this,arguments)}function Ye(){return(Ye=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return I.value=!0,S.value=!1,e.p=2,(a=[]).push(qe()),a.push(Je()),a.push(Ze()),a.push(Ke()),a.push(Xe()),a.push(aa()),e.n=3,Promise.all(a);case 3:S.value=!0,e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading dashboard data:",n);case 5:return e.p=5,I.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function qe(){return Ge.apply(this,arguments)}function Ge(){return(Ge=c(l().m(function e(){var a,n,t,r,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return Ae.value.add("interests"),e.p=2,e.n=3,Promise.all([Fe.getAttributeChartData(w.communityId,"interest",!0,!0),Fe.getAttributeChartData(w.communityId,"interest",!1,!0)]);case 3:a=e.v,n=o(a,2),t=n[0],r=n[1],Fe.verifyConsolidatedData(t,"interests"),Pe.value.interests=t,Te.value.interests=r,e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error loading interests:",i),Pe.value.interests=[],Te.value.interests=[];case 5:return e.p=5,Ae.value.delete("interests"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function Je(){return He.apply(this,arguments)}function He(){return(He=c(l().m(function e(){var a,n,t,r,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return Ae.value.add("activities"),e.p=2,e.n=3,Promise.all([Fe.getAttributeChartData(w.communityId,"activity",!0,!0),Fe.getAttributeChartData(w.communityId,"activity",!1,!0)]);case 3:a=e.v,n=o(a,2),t=n[0],r=n[1],Fe.verifyConsolidatedData(t,"activities"),Pe.value.activities=t,Te.value.activities=r,e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error loading activities:",i),Pe.value.activities=[],Te.value.activities=[];case 5:return e.p=5,Ae.value.delete("activities"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function Ze(){return $e.apply(this,arguments)}function $e(){return($e=c(l().m(function e(){var a,n,t,r,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return Ae.value.add("businessTopics"),e.p=2,e.n=3,Promise.all([Fe.getBusinessTopicsChartData(w.communityId,!0,!0),Fe.getBusinessTopicsChartData(w.communityId,!1,!0)]);case 3:a=e.v,n=o(a,2),t=n[0],r=n[1],Fe.verifyConsolidatedData(t,"businessTopics"),Pe.value.businessTopics=t,Te.value.businessTopics=r,e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error loading business topics:",i),Pe.value.businessTopics=[],Te.value.businessTopics=[];case 5:return e.p=5,Ae.value.delete("businessTopics"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function Ke(){return Qe.apply(this,arguments)}function Qe(){return(Qe=c(l().m(function e(){var a,n,t,r,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return Ae.value.add("skills"),e.p=2,e.n=3,Promise.all([Fe.getSkillsChartData(w.communityId,"general",!0,!0),Fe.getSkillsChartData(w.communityId,"general",!1,!0)]);case 3:a=e.v,n=o(a,2),t=n[0],r=n[1],Fe.verifyConsolidatedData(t,"skills"),Pe.value.skills=t,Te.value.skills=r,e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error loading skills:",i),Pe.value.skills=[],Te.value.skills=[];case 5:return e.p=5,Ae.value.delete("skills"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function Xe(){return ea.apply(this,arguments)}function ea(){return(ea=c(l().m(function e(){var a,n,t,r,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return Ae.value.add("mentors"),e.p=2,e.n=3,Promise.all([Fe.getSkillsChartData(w.communityId,"mentor",!0,!0),Fe.getSkillsChartData(w.communityId,"mentor",!1,!0)]);case 3:a=e.v,n=o(a,2),t=n[0],r=n[1],Fe.verifyConsolidatedData(t,"mentors"),Pe.value.mentors=t,Te.value.mentors=r,e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error loading mentors:",i),Pe.value.mentors=[],Te.value.mentors=[];case 5:return e.p=5,Ae.value.delete("mentors"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function aa(){return na.apply(this,arguments)}function na(){return(na=c(l().m(function e(){var a,n,t,r,i;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return Ae.value.add("mentees"),e.p=2,e.n=3,Promise.all([Fe.getSkillsChartData(w.communityId,"mentee",!0,!0),Fe.getSkillsChartData(w.communityId,"mentee",!1,!0)]);case 3:a=e.v,n=o(a,2),t=n[0],r=n[1],Fe.verifyConsolidatedData(t,"mentees"),Pe.value.mentees=t,Te.value.mentees=r,e.n=5;break;case 4:e.p=4,i=e.v,console.error("Error loading mentees:",i),Pe.value.mentees=[],Te.value.mentees=[];case 5:return e.p=5,Ae.value.delete("mentees"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function ta(){return ra.apply(this,arguments)}function ra(){return(ra=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,Fe.getCustomFieldsForCharts(w.communityId);case 2:a=e.v,E.value=a||[],oa(),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Error loading custom fields:",n),E.value=[];case 4:return e.a(2)}},e,null,[[1,3]])}))).apply(this,arguments)}function oa(){if(w.communityId){var e=[],a=[];M.value.forEach(function(n){if(n.startsWith("custom-custom-")){var t=n.replace("custom-custom-","custom-");e.push(n),M.value.includes(t)||a.push(t)}}),e.length>0&&(console.log("[AnalyticsDashboard] Fixing ".concat(e.length," bad custom field keys:"),e),e.forEach(function(e){var a=M.value.indexOf(e);a>-1&&M.value.splice(a,1)}),a.forEach(function(e){M.value.includes(e)||M.value.push(e)}),We()),M.value.filter(function(e){return e.startsWith("custom-")&&!e.startsWith("custom-custom-")}).map(function(e){var a=e.replace(/^custom-custom-/,"custom-").replace(/^custom-/,""),n=parseInt(a,10);return isNaN(n)?null:n}).filter(function(e){return null!==e}).forEach(function(e){var a="custom-".concat(e),n=Pe.value[a]&&Pe.value[a].length>0,t=ze.value.has(e);n||t||la(e)})}}function la(e){return ia.apply(this,arguments)}function ia(){return(ia=c(l().m(function e(a){var n,t,i,s,c,u,d,f,p,v;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:return ze.value.add(a),e.p=2,e.n=3,Promise.all([Fe.getCustomFieldChartData(w.communityId,a,!0,!0),Fe.getCustomFieldChartData(w.communityId,a,!1,!0)]);case 3:n=e.v,t=o(n,2),i=t[0],s=t[1],u=(c=function(e){return Array.isArray(e)?e:e&&Array.isArray(e.results)?e.results:e&&Array.isArray(e.data)?e.data:(console.warn("[AnalyticsDashboard] Unexpected response format for custom field ".concat(a,":"),e),[])})(i),d=c(s),(f="object"===r(i)&&!Array.isArray(i)&&((null==i?void 0:i.fieldName)||(null==i?void 0:i.customFieldName))||"object"===r(s)&&!Array.isArray(s)&&((null==s?void 0:s.fieldName)||(null==s?void 0:s.customFieldName)))&&"string"==typeof f?((p=new Map(j.value)).set(a,f),j.value=p,console.log("[AnalyticsDashboard] Custom field ".concat(a," fieldName stored:"),f),console.log("[AnalyticsDashboard] customFieldNames Map now has:",Array.from(j.value.entries()))):console.warn("[AnalyticsDashboard] Could not extract fieldName for custom field ".concat(a," from responses:"),{consolidatedResponse:i,rawResponse:s}),Fe.verifyConsolidatedData(u,"custom-field-".concat(a)),Pe.value["custom-".concat(a)]=u,Te.value["custom-".concat(a)]=d,e.n=5;break;case 4:e.p=4,v=e.v,console.error("Error loading custom field ".concat(a,":"),v),Pe.value["custom-".concat(a)]=[],Te.value["custom-".concat(a)]=[];case 5:return e.p=5,ze.value.delete(a),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function sa(e){var a=M.value.indexOf(e);a>-1?M.value.splice(a,1):(M.value.push(e),Pe.value[e]||Ae.value.has(e)||function(e){da.apply(this,arguments)}(e)),We()}function ca(e){if("number"==typeof e.id)return e.id;if("number"==typeof e.customFieldId)return e.customFieldId;if("string"==typeof e.id){if(e.id.startsWith("custom-")){var a=parseInt(e.id.replace("custom-",""),10);return isNaN(a)?null:a}var n=parseInt(e.id,10);return isNaN(n)?null:n}return null}function ua(e){var a=ca(e);return!a||a<=0?"custom-invalid-".concat(e.id):"custom-".concat(a)}function da(){return(da=c(l().m(function e(a){var n,t;return l().w(function(e){for(;;)switch(e.n){case 0:if(!(n={interests:qe,activities:Je,businessTopics:Ze,skills:Ke,mentors:Xe,mentees:aa})[a]){e.n=2;break}return e.n=1,n[a]();case 1:e.n=3;break;case 2:if(!a.startsWith("custom-")){e.n=3;break}if(t=parseInt(a.replace("custom-",""),10),isNaN(t)||!(t>0)){e.n=3;break}return e.n=3,la(t);case 3:return e.a(2)}},e)}))).apply(this,arguments)}function fa(e){var a=Pe.value[e];if(e.startsWith("custom-")){var n,t=parseInt(e.replace(/^custom-custom-/,"custom-").replace(/^custom-/,""),10);if(!isNaN(t))if(!a||0===a.length)console.log("[AnalyticsDashboard] getDashboardData('".concat(e,"') returning empty - data exists:"),!!Pe.value[e],"length:",null===(n=Pe.value[e])||void 0===n?void 0:n.length)}return a||[]}function pa(e){var a=Pe.value[e],n=void 0!==a,t=Ae.value.has(e)||e.startsWith("custom-")&&ze.value.has(parseInt(e.replace(/^custom-custom-/,"custom-").replace(/^custom-/,""),10));return e.startsWith("custom-")&&n&&!t&&Array.isArray(a)&&0===a.length?"No users have this datapoint":"No data available"}function va(e){if(e.startsWith("custom-")){var a=e.replace(/^custom-custom-/,"custom-").replace(/^custom-/,""),n=parseInt(a,10);if(isNaN(n)||n<=0)return console.warn("[AnalyticsDashboard] Invalid custom field ID in dashboard: ".concat(e," (cleaned: ").concat(a,")")),"Custom Field";var t=j.value.get(n);if(t)return console.log("[AnalyticsDashboard] getDashboardTitle('".concat(e,"') using chartFieldName: ").concat(t)),t;var r=E.value.find(function(e){return e.id===n});return null!=r&&r.name?(console.log("[AnalyticsDashboard] getDashboardTitle('".concat(e,"') using field.name: ").concat(r.name)),r.name):null!=r&&r.label?(console.log("[AnalyticsDashboard] getDashboardTitle('".concat(e,"') using field.label: ").concat(r.label)),r.label):"Custom Field ".concat(n)}return ma(e)}function ma(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()}).trim()}function ga(e){var a=fa(e);return a&&0!==a.length?Math.max.apply(Math,u(a.map(function(e){return e.value}))):1}function ba(e){if(e.startsWith("custom-")){var a=parseInt(e.replace("custom-",""),10);return!(isNaN(a)||a<=0)&&ze.value.has(a)}return Ae.value.has(e)}function ha(e,a){var n=e.map(function(e){return[e.name,e.value.toString()]});return[["Name","Count"]].concat(u(n)).map(function(e){return e.join(",")}).join("\n")}function ya(){return(ya=c(l().m(function e(a){var n,t,r,o,i,s,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:if(e.p=1,0!==(n=Te.value[a]||Pe.value[a]||[]).length){e.n=4;break}return e.n=2,T.create({message:"No data available to export",duration:2e3,color:"warning"});case 2:return t=e.v,e.n=3,t.present();case 3:case 9:return e.a(2);case 4:return r=ha(n),o=new Blob([r],{type:"text/csv"}),Fe.downloadCSV(o,"".concat(a,"_").concat(w.communityId,"_").concat(Date.now(),".csv")),e.n=5,T.create({message:"Dashboard exported successfully",duration:2e3,color:"success"});case 5:return i=e.v,e.n=6,i.present();case 6:e.n=9;break;case 7:return e.p=7,c=e.v,console.error("Error exporting dashboard:",c),e.n=8,T.create({message:"Failed to export dashboard",duration:2e3,color:"danger"});case 8:return s=e.v,e.n=9,s.present()}},e,null,[[1,7]])}))).apply(this,arguments)}function xa(){return ka.apply(this,arguments)}function ka(){return(ka=c(l().m(function e(){var a,n,t,r,o,i,s,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:if(e.p=1,a=[],M.value.forEach(function(e){var n=Te.value[e]||Pe.value[e]||[];n.length>0&&a.push({dashboard:e,data:n})}),0!==a.length){e.n=4;break}return e.n=2,T.create({message:"No data available to export",duration:2e3,color:"warning"});case 2:return n=e.v,e.n=3,n.present();case 3:case 9:return e.a(2);case 4:return t=[],a.forEach(function(e){var a=e.dashboard,n=e.data;t.push("\n=== ".concat(va(a)," ===")),t.push("Name,Count"),n.forEach(function(e){t.push("".concat(e.name,",").concat(e.value))})}),r=t.join("\n"),o=new Blob([r],{type:"text/csv"}),Fe.downloadCSV(o,"insights_".concat(w.communityId,"_").concat(Date.now(),".csv")),e.n=5,T.create({message:"All dashboards exported successfully",duration:2e3,color:"success"});case 5:return i=e.v,e.n=6,i.present();case 6:e.n=9;break;case 7:return e.p=7,c=e.v,console.error("Error exporting dashboards:",c),e.n=8,T.create({message:"Failed to export dashboards",duration:2e3,color:"danger"});case 8:return s=e.v,e.n=9,s.present()}},e,null,[[1,7]])}))).apply(this,arguments)}function wa(){return(wa=c(l().m(function e(a,n){var r,o,i,s,c,u,d,f,p,v,m,g,b,h,y,x,k,C,_,I,S,D,M,U,N,P,T,A,z,E,j,W,B,Y,q,G,J,H,Z,$,K,Q,X,ee;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(w.communityId){e.n=1;break}return e.a(2);case 1:if(R.value={dashboard:a,value:n},O.value="".concat(va(a),": ").concat(n),L.value=!0,V.value=!0,F.value=[],e.p=2,o=[],"interests"!==a){e.n=4;break}return e.n=3,Fe.getUsersByAttribute(w.communityId,"interest",n,!0);case 3:o=e.v,e.n=17;break;case 4:if("activities"!==a){e.n=6;break}return e.n=5,Fe.getUsersByAttribute(w.communityId,"activity",n,!0);case 5:o=e.v,e.n=17;break;case 6:if("businessTopics"!==a){e.n=8;break}return e.n=7,Fe.getUsersByBusinessTopic(w.communityId,n,!0);case 7:o=e.v,e.n=17;break;case 8:if("skills"!==a){e.n=10;break}return e.n=9,Fe.getUsersBySkill(w.communityId,"general",n,!0);case 9:o=e.v,e.n=17;break;case 10:if("mentors"!==a){e.n=12;break}return e.n=11,Fe.getUsersBySkill(w.communityId,"mentor",n,!0);case 11:o=e.v,e.n=17;break;case 12:if("mentees"!==a){e.n=14;break}return e.n=13,Fe.getUsersBySkill(w.communityId,"mentee",n,!0);case 13:o=e.v,e.n=17;break;case 14:if(!a.startsWith("custom-")){e.n=17;break}if(i=parseInt(a.replace("custom-",""),10),isNaN(i)||!(i>0)){e.n=16;break}return e.n=15,Fe.getUsersByCustomField(w.communityId,i,n,!0);case 15:o=e.v,e.n=17;break;case 16:console.warn('[AnalyticsDashboard] Invalid customFieldId extracted from dashboard: "'.concat(a,'"'));case 17:if(s=fa(a),c=s.find(function(e){var a=function(e){return(null==e?"":String(e)).trim().toLowerCase()};return a(e.name||e.label||e.valueName||e.value_name)===a(n)}),u=(null==c?void 0:c.value)||0,d=(null===(r=o)||void 0===r?void 0:r.length)||0,!(!o||0===o.length||u>0&&d<u)){e.n=34;break}d>0&&d<u&&console.warn("[AnalyticsDashboard] Count mismatch: expected ".concat(u," users but got ").concat(d,", using fallback")),f=Te.value[a]||[],v=(p=function(e){return(null==e?"":String(e)).trim().toLowerCase()})(n),m=function(e){var a,n,t,r,o,l,i,s,c;return null!==(a=null!==(n=null!==(t=null!==(r=null!==(o=null!==(l=null!==(i=null!==(s=null!==(c=null==e?void 0:e.name)&&void 0!==c?c:null==e?void 0:e.label)&&void 0!==s?s:null==e?void 0:e.valueName)&&void 0!==i?i:null==e?void 0:e.value_name)&&void 0!==l?l:null==e?void 0:e.attribute)&&void 0!==o?o:null==e?void 0:e.attributeName)&&void 0!==r?r:null==e?void 0:e.attribute_name)&&void 0!==t?t:null==e?void 0:e.skill)&&void 0!==n?n:null==e?void 0:e.topic)&&void 0!==a?a:""},g="location"===a,b=f.filter(function(e){var a=p(m(e));return!!a&&(g?a.includes(v):a===v)}),h=function(e){for(var a=0,n=[null==e?void 0:e.userId,null==e?void 0:e.user_id,null==e?void 0:e.profileId,null==e?void 0:e.profile_id,null==e?void 0:e.memberId,null==e?void 0:e.member_id,null==e?void 0:e.id,null==e?void 0:e.slackUserId,null==e?void 0:e.slack_user_id];a<n.length;a++){var r=n[a],o="string"==typeof r?parseInt(r,10):r;if("number"==typeof o&&Number.isFinite(o)&&o>0)return o}if(null!=e&&e.user)for(var l=0,i=[e.user.id,e.user.userId,e.user.user_id,e.user.memberId,e.user.member_id];l<i.length;l++){var s=i[l],c="string"==typeof s?parseInt(s,10):s;if("number"==typeof c&&Number.isFinite(c)&&c>0)return c}if(null!=e&&e.profile)for(var u=0,d=[e.profile.userId,e.profile.user_id,e.profile.id,e.profile.memberId,e.profile.member_id];u<d.length;u++){var f=d[u],p="string"==typeof f?parseInt(f,10):f;if("number"==typeof p&&Number.isFinite(p)&&p>0)return p}if(null!=e&&e.member)for(var v=0,m=[e.member.userId,e.member.user_id,e.member.id,e.member.memberId,e.member.member_id];v<m.length;v++){var g=m[v],b="string"==typeof g?parseInt(g,10):g;if("number"==typeof b&&Number.isFinite(b)&&b>0)return b}if(Array.isArray(null==e?void 0:e.users)){var h,y=t(e.users);try{for(y.s();!(h=y.n()).done;)for(var x=h.value,k=[null==x?void 0:x.id,null==x?void 0:x.userId,null==x?void 0:x.user_id,null==x?void 0:x.memberId,null==x?void 0:x.member_id],w=0,C=k;w<C.length;w++){var _=C[w],I="string"==typeof _?parseInt(_,10):_;if("number"==typeof I&&Number.isFinite(I)&&I>0)return I}}catch(z){y.e(z)}finally{y.f()}}if(null!=e&&e.join_user_business_topic)for(var S=0,D=[e.join_user_business_topic.userId,e.join_user_business_topic.user_id,e.join_user_business_topic.memberId,e.join_user_business_topic.member_id];S<D.length;S++){var M=D[S],U="string"==typeof M?parseInt(M,10):M;if("number"==typeof U&&Number.isFinite(U)&&U>0)return U}if(null!=e&&e.join_user_skill)for(var N=0,P=[e.join_user_skill.userId,e.join_user_skill.user_id,e.join_user_skill.memberId,e.join_user_skill.member_id];N<P.length;N++){var T=P[N],A="string"==typeof T?parseInt(T,10):T;if("number"==typeof A&&Number.isFinite(A)&&A>0)return A}return null},y=new Set,x=t(b);try{for(x.s();!(k=x.n()).done;)C=k.value,(_=h(C))&&y.add(_)}catch(l){x.e(l)}finally{x.f()}if(!(y.size>0)){e.n=19;break}return e.n=18,Ve.getProfilesForUserAndCommunity(w.communityId);case 18:I=e.v,S=new Map,D=t(I);try{for(D.s();!(M=D.n()).done;)U=M.value,"number"==typeof(N=(null==U?void 0:U.userId)||(null==U?void 0:U.id))&&S.set(N,U)}catch(l){D.e(l)}finally{D.f()}o=Array.from(y).map(function(e){return S.get(e)}).filter(Boolean).map(function(e){var a;return{id:e.userId||e.id,fname:e.fname,lname:e.lname,fullName:e.fullName||"".concat(e.fname||""," ").concat(e.lname||"").trim(),email:e.email||"",profilePicture:e.profilePicture,enabled:null===(a=e.enabled)||void 0===a||a}}),e.n=34;break;case 19:if(console.warn("[AnalyticsDashboard]  No user IDs found in raw dashboard data for ".concat(a,': "').concat(n,'"')),"businessTopics"!==a&&"mentors"!==a&&"mentees"!==a&&"interests"!==a&&"activities"!==a){e.n=34;break}if(e.p=20,P=[],"businessTopics"!==a){e.n=22;break}return e.n=21,Fe.getBusinessTopicsChartData(w.communityId,!1,!0);case 21:P=e.v,e.n=30;break;case 22:if("mentors"!==a){e.n=24;break}return e.n=23,Fe.getSkillsChartData(w.communityId,"mentor",!1,!0);case 23:P=e.v,e.n=30;break;case 24:if("mentees"!==a){e.n=26;break}return e.n=25,Fe.getSkillsChartData(w.communityId,"mentee",!1,!0);case 25:P=e.v,e.n=30;break;case 26:if("interests"!==a){e.n=28;break}return e.n=27,Fe.getAttributeChartData(w.communityId,"interest",!1,!0);case 27:P=e.v,e.n=30;break;case 28:if("activities"!==a){e.n=30;break}return e.n=29,Fe.getAttributeChartData(w.communityId,"activity",!1,!0);case 29:P=e.v;case 30:A=(T=function(e){return(null==e?"":String(e)).trim().toLowerCase()})(n),z=function(e){var a,n,t,r,o,l,i;return null!==(a=null!==(n=null!==(t=null!==(r=null!==(o=null!==(l=null!==(i=null==e?void 0:e.name)&&void 0!==i?i:null==e?void 0:e.label)&&void 0!==l?l:null==e?void 0:e.valueName)&&void 0!==o?o:null==e?void 0:e.value_name)&&void 0!==r?r:null==e?void 0:e.attribute)&&void 0!==t?t:null==e?void 0:e.skill)&&void 0!==n?n:null==e?void 0:e.topic)&&void 0!==a?a:""},E=P.filter(function(e){var a=T(z(e));return!!a&&a===A}),j=new Set,W=function(e){for(var a=0,n=[null==e?void 0:e.userId,null==e?void 0:e.user_id,null==e?void 0:e.memberId,null==e?void 0:e.member_id,null==e?void 0:e.profileId,null==e?void 0:e.profile_id,null==e?void 0:e.id,null==e?void 0:e.slackUserId,null==e?void 0:e.slack_user_id];a<n.length;a++){var r=n[a],o="string"==typeof r?parseInt(r,10):r;if("number"==typeof o&&Number.isFinite(o)&&o>0)return o}if(null!=e&&e.user)for(var i=0,s=[e.user.id,e.user.userId,e.user.user_id,e.user.memberId,e.user.member_id];i<s.length;i++){var c=s[i],u="string"==typeof c?parseInt(c,10):c;if("number"==typeof u&&Number.isFinite(u)&&u>0)return u}if(null!=e&&e.profile)for(var d=0,f=[e.profile.userId,e.profile.user_id,e.profile.id,e.profile.memberId,e.profile.member_id];d<f.length;d++){var p=f[d],v="string"==typeof p?parseInt(p,10):p;if("number"==typeof v&&Number.isFinite(v)&&v>0)return v}if(null!=e&&e.member)for(var m=0,g=[e.member.userId,e.member.user_id,e.member.id,e.member.memberId,e.member.member_id];m<g.length;m++){var b=g[m],h="string"==typeof b?parseInt(b,10):b;if("number"==typeof h&&Number.isFinite(h)&&h>0)return h}if(Array.isArray(null==e?void 0:e.users)){var y,x=t(e.users);try{for(x.s();!(y=x.n()).done;)for(var k=y.value,w=[null==k?void 0:k.id,null==k?void 0:k.userId,null==k?void 0:k.user_id,null==k?void 0:k.memberId,null==k?void 0:k.member_id],C=0,_=w;C<_.length;C++){var I=_[C],S="string"==typeof I?parseInt(I,10):I;if("number"==typeof S&&Number.isFinite(S)&&S>0)return S}}catch(l){x.e(l)}finally{x.f()}}if(null!=e&&e.join_user_business_topic)for(var D=0,M=[e.join_user_business_topic.userId,e.join_user_business_topic.user_id,e.join_user_business_topic.memberId,e.join_user_business_topic.member_id];D<M.length;D++){var U=M[D],N="string"==typeof U?parseInt(U,10):U;if("number"==typeof N&&Number.isFinite(N)&&N>0)return N}if(null!=e&&e.join_user_skill)for(var P=0,T=[e.join_user_skill.userId,e.join_user_skill.user_id,e.join_user_skill.memberId,e.join_user_skill.member_id];P<T.length;P++){var A=T[P],z="string"==typeof A?parseInt(A,10):A;if("number"==typeof z&&Number.isFinite(z)&&z>0)return z}return null},B=t(E);try{for(B.s();!(Y=B.n()).done;)q=Y.value,(G=W(q))?j.add(G):console.log("[AnalyticsDashboard]  Matched row but no user ID found:",{keys:Object.keys(q),hasUser:!(null==q||!q.user),hasProfile:!(null==q||!q.profile),hasMember:!(null==q||!q.member),hasUsers:Array.isArray(null==q?void 0:q.users),stringified:JSON.stringify(q).substring(0,500)})}catch(l){B.e(l)}finally{B.f()}if(!(j.size>0)){e.n=32;break}return e.n=31,Ve.getProfilesForUserAndCommunity(w.communityId);case 31:J=e.v,H=new Map,Z=t(J);try{for(Z.s();!($=Z.n()).done;)K=$.value,"number"==typeof(Q=(null==K?void 0:K.userId)||(null==K?void 0:K.id))&&H.set(Q,K)}catch(l){Z.e(l)}finally{Z.f()}o=Array.from(j).map(function(e){return H.get(e)}).filter(Boolean).map(function(e){var a;return{id:e.userId||e.id,fname:e.fname,lname:e.lname,fullName:e.fullName||"".concat(e.fname||""," ").concat(e.lname||"").trim(),email:e.email||"",profilePicture:e.profilePicture,enabled:null===(a=e.enabled)||void 0===a||a}}),console.log("[AnalyticsDashboard]  Fresh unconsolidated endpoint recovered ".concat(o.length," users for ").concat(a,': "').concat(n,'"'));case 32:e.n=34;break;case 33:e.p=33,X=e.v,console.error("[AnalyticsDashboard] Error fetching fresh unconsolidated data for ".concat(a,":"),X);case 34:F.value=o,e.n=36;break;case 35:e.p=35,ee=e.v,console.error("[AnalyticsDashboard] Error loading users for ".concat(a,': "').concat(n,'":'),ee),F.value=[];case 36:return e.p=36,V.value=!1,e.f(36);case 37:return e.a(2)}},e,null,[[20,33],[2,35,36,37]])}))).apply(this,arguments)}function Ca(){L.value=!1,F.value=[],R.value=null,V.value=!1}return f(c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:if(!w.communityId){e.n=3;break}return Oe(),e.n=1,Be();case 1:return e.n=2,ta();case 2:oa(),Ie();case 3:return e.a(2)}},e)}))),H(function(){return w.communityId},function(e,a){e&&e!==a&&(Pe.value={},Te.value={},E.value=[],j.value.clear(),M.value=[],Ae.value.clear(),ze.value.clear(),S.value=!1,W.value=[],B.value=[],q.value=0,Oe(),Be(),ta(),Ie())},{immediate:!1}),H(function(){return M.value},function(){oa()},{deep:!0}),function(e,a){return A(),p(U,null,[v("div",_a,[v("div",Ia,[a[7]||(a[7]=v("h2",{class:"section-title"},"Insights & Analytics Dashboard",-1)),m(g(b),{fill:"outline",size:"small",onClick:xa},{default:h(function(){return[m(g(x),{icon:g(k),slot:"start"},null,8,["icon"]),a[6]||(a[6]=y(" Export All CSV ",-1))]}),_:1})]),v("div",Sa,[v("div",{class:"dashboard-selector-header",onClick:Re},[a[8]||(a[8]=v("h3",{class:"subsection-title"},"Available Dashboards",-1)),m(g(x),{icon:Ee.value?g($):g(K),class:"collapse-icon"},null,8,["icon"])]),Z(v("div",Da,[v("div",Ma,[a[9]||(a[9]=v("h4",{class:"group-title"},"Default Dashboards",-1)),v("div",Ua,[(A(),p(U,null,N(je,function(e){return v("div",{key:e,class:"dashboard-checkbox-item"},[m(g(se),{checked:M.value.includes(e),onIonChange:function(a){return sa(e)}},null,8,["checked","onIonChange"]),m(g(_),null,{default:h(function(){return[y(z(ma(e)),1)]}),_:2},1024)])}),64))])]),E.value.length>0?(A(),p("div",Na,[a[10]||(a[10]=v("h4",{class:"group-title"},"Custom Field Dashboards",-1)),v("div",Pa,[(A(!0),p(U,null,N(E.value,function(e){return A(),p("div",{key:e.id,class:"dashboard-checkbox-item"},[m(g(se),{checked:M.value.includes(ua(e)),onIonChange:function(a){return function(e){var a=ca(e);!a||a<=0?console.warn("[AnalyticsDashboard] Could not extract customFieldId from field:",e):(sa("custom-".concat(a)),oa())}(e)}},null,8,["checked","onIonChange"]),m(g(_),null,{default:h(function(){return[y(z(e.name||e.label||"Custom Field ".concat(e.id)),1)]}),_:2},1024)])}),128))])])):Y("",!0)],512),[[Q,!Ee.value]])]),I.value&&!S.value?(A(),p("div",Ta,[m(g(D)),a[11]||(a[11]=v("p",null,"Loading dashboards...",-1))])):(A(),p("div",Aa,[(A(!0),p(U,null,N(M.value,function(e){return A(),p("div",{key:e,class:"dashboard-card"},[v("div",za,[v("h3",Ea,z(va(e)),1),m(g(b),{fill:"clear",size:"small",onClick:function(a){return function(e){return ya.apply(this,arguments)}(e)}},{default:h(function(){return[m(g(x),{icon:g(k)},null,8,["icon"])]}),_:1},8,["onClick"])]),ba(e)?(A(),p("div",ja,[m(g(D),{name:"dots"})])):fa(e)&&fa(e).length>0?(A(),p("div",La,[v("div",{class:ce(["chart-items-container",{"chart-scrollable":fa(e).length>10}])},[(A(!0),p(U,null,N(fa(e),function(a){return A(),p("div",{key:a.name,class:"chart-item",onClick:function(n){return function(e,a){return wa.apply(this,arguments)}(e,a.name)}},[v("div",Fa,[v("div",{class:"chart-bar",style:ue({width:"".concat(a.value/ga(e)*100,"%")})},null,4)]),v("div",Va,z(a.name),1),v("div",Ra,z(a.value),1)],8,Oa)}),128))],2)])):(A(),p("div",Wa,z(pa(e)),1))])}),128))])),v("div",Ba,[v("div",Ya,[a[14]||(a[14]=v("h3",{class:"section-title-small"},"User Actions Table",-1)),v("div",qa,[m(g(b),{fill:"clear",size:"small",onClick:Ie},{default:h(function(){return[m(g(x),{icon:g(X),slot:"start"},null,8,["icon"]),a[12]||(a[12]=y(" Refresh ",-1))]}),_:1}),m(g(b),{fill:"outline",size:"small",onClick:Ue},{default:h(function(){return[m(g(x),{icon:g(k),slot:"start"},null,8,["icon"]),a[13]||(a[13]=y(" Download CSV ",-1))]}),_:1})])]),v("div",Ga,[v("div",Ja,[a[15]||(a[15]=v("label",null,"Start Date",-1)),Z(v("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=function(e){return be.value=e}),onChange:Ie},null,544),[[ee,be.value]])]),v("div",Ha,[a[16]||(a[16]=v("label",null,"End Date",-1)),Z(v("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=function(e){return he.value=e}),onChange:Ie},null,544),[[ee,he.value]])]),v("div",Za,[Z(v("input",{type:"search",placeholder:"Search name, email, city, state, country","onUpdate:modelValue":a[2]||(a[2]=function(e){return fe.value=e}),onInput:De},null,544),[[ee,fe.value]])]),v("div",$a,[a[18]||(a[18]=v("label",null,"Page size",-1)),v("select",{value:ge.value,onChange:a[3]||(a[3]=function(e){return a=parseInt(e.target.value),ge.value=a,void(me.value=1);var a})},u(a[17]||(a[17]=[v("option",{value:10},"10",-1),v("option",{value:25},"25",-1),v("option",{value:50},"50",-1)])),40,Ka)]),v("div",Qa,z(_e.value),1)]),v("div",Xa,[J.value?(A(),p("div",en,[m(g(D)),a[19]||(a[19]=v("p",null,"Loading users...",-1))])):0===Ce.value.length?(A(),p("div",an," No user data for this range. ")):(A(),p("div",nn,[v("table",tn,[v("thead",null,[v("tr",null,[(A(!0),p(U,null,N(xe.value,function(e){return A(),p("th",{key:e.prop,onClick:function(a){return n=e.prop,pe.value===n?ve.value="asc"===ve.value?"desc":"asc":(pe.value=n,ve.value="desc"),void(me.value=1);var n},class:ce({sortable:!0,active:pe.value===e.prop})},[y(z(e.name)+" ",1),pe.value===e.prop?(A(),p("span",on,z("asc"===ve.value?"":""),1)):Y("",!0)],10,rn)}),128))])]),v("tbody",null,[(A(!0),p(U,null,N(Ce.value,function(e){return A(),p("tr",{key:e.email||e.name},[(A(!0),p(U,null,N(xe.value,function(a){return A(),p("td",{key:a.prop},z(function(e,a){var n=e[a.prop];return null==n?"":a.isPercent&&"number"==typeof n?"".concat(n.toFixed(1),"%"):"number"==typeof n?n.toString():String(n)}(e,a)),1)}),128))])}),128))])])])),v("div",ln,[v("button",{class:"pager",disabled:1===me.value,onClick:a[4]||(a[4]=function(e){return Me(-1)})},"Prev",8,sn),v("span",cn,z(_e.value),1),v("button",{class:"pager",disabled:me.value>=Math.max(1,Math.ceil(we.value.length/ge.value)),onClick:a[5]||(a[5]=function(e){return Me(1)})}," Next ",8,un)])])])]),m(g(ae),{"is-open":L.value,onDidDismiss:Ca,onWillDismiss:Ca,"backdrop-dismiss":!0},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(re),null,{default:h(function(){return[y(z(O.value),1)]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{onClick:Ca,fill:"clear"},{default:h(function(){return[m(g(x),{icon:g(le)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{class:"user-modal-content"},{default:h(function(){return[V.value?(A(),p("div",dn,[m(g(D)),a[20]||(a[20]=v("p",null,"Loading users...",-1))])):0===F.value.length?(A(),p("div",fn,[m(g(x),{icon:g(G),class:"no-users-icon"},null,8,["icon"]),a[21]||(a[21]=v("p",null,"No users found",-1)),a[22]||(a[22]=v("p",{class:"no-users-hint"},"This feature requires backend support or user profile data to be available.",-1))])):(A(),p("div",pn,[(A(!0),p(U,null,N(F.value,function(e){return A(),p("div",{key:e.id,class:"user-item",onClick:function(a){return n=e.id,C.push("/tabs/profile/".concat(n)),void Ca();var n}},[v("div",mn,[e.profilePicture?(A(),p("img",{key:0,src:e.profilePicture,alt:e.fullName},null,8,gn)):(A(),p("div",bn,z(e.fullName.charAt(0).toUpperCase()),1))]),v("div",hn,[v("div",yn,z(e.fullName),1),v("div",xn,z(e.email),1)]),m(g(x),{icon:g(de),class:"chevron-icon"},null,8,["icon"])],8,vn)}),128))]))]}),_:1})]}),_:1},8,["is-open"])],64)}}}),wn=W(kn,[["__scopeId","data-v-feae6a48"]]),Cn={class:"user-stats-section"},_n={class:"section-header"},In={class:"header-actions"},Sn={class:"time-period-wrapper"},Dn={key:0,class:"loading-state"},Mn={key:1,class:"dashboard-content"},Un={class:"primary-metrics-section"},Nn={class:"primary-metrics-grid"},Pn={class:"metric-icon"},Tn={class:"metric-content"},An={class:"metric-value"},zn={key:0},En={key:1},jn={class:"metric-icon"},Ln={class:"metric-content"},On={class:"metric-value"},Fn={class:"metric-icon"},Vn={class:"metric-content"},Rn={class:"metric-value"},Wn={key:0,class:"engagement-metrics-section"},Bn={class:"engagement-metrics-grid"},Yn={class:"metric-icon-small"},qn={class:"metric-content-small"},Gn={class:"metric-value-small"},Jn={key:1,class:"engagement-metric-card"},Hn={class:"metric-icon-small"},Zn={class:"metric-content-small"},$n={class:"metric-value-small"},Kn={class:"metric-icon-small"},Qn={class:"metric-content-small"},Xn={class:"metric-value-small"},et={class:"metric-icon-small"},at={class:"metric-content-small"},nt={class:"metric-value-small"},tt={key:1,class:"engagement-metrics-section"},rt={class:"engagement-metrics-grid"},ot={class:"metric-icon-small"},lt={class:"metric-content-small"},it={class:"metric-value-small"},st={key:0},ct={key:1},ut={key:2},dt={class:"metric-icon-small"},ft={class:"metric-content-small"},pt={class:"metric-value-small"},vt={key:0},mt={key:1},gt={key:2},bt={class:"metric-icon-small"},ht={class:"metric-content-small"},yt={class:"metric-value-small"},xt={key:0},kt={key:1},wt={key:2},Ct={key:2,class:"engagement-metrics-section"},_t={class:"engagement-metrics-grid"},It={class:"metric-icon-small"},St={class:"metric-content-small"},Dt={class:"metric-value-small"},Mt={class:"metric-icon-small"},Ut={class:"metric-content-small"},Nt={class:"metric-value-small"},Pt={class:"metric-icon-small"},Tt={class:"metric-content-small"},At={class:"metric-value-small"},zt={key:3,class:"legacy-stats-section"},Et={class:"legacy-stats-grid"},jt={key:0,class:"stat-card"},Lt={class:"stat-value"},Ot={key:1,class:"stat-card"},Ft={class:"stat-value"},Vt={key:2,class:"no-stats"},Rt={class:"profile-modal-controls"},Wt={key:0,class:"loading-state"},Bt={key:1,class:"profiles-table"},Yt={class:"profiles-table-header"},qt={key:0,class:"sort-icon"},Gt={key:0,class:"sort-icon"},Jt={class:"col-name name-cell"},Ht={key:0,class:"avatar"},Zt=["src","alt"],$t={key:1,class:"avatar placeholder"},Kt={class:"name-meta"},Qt={class:"name-text"},Xt={key:0,class:"email-text"},er={class:"col-completion"},ar={key:2,class:"no-stats"},nr={class:"profile-modal-controls"},tr={key:0,class:"loading-state"},rr={key:1,class:"profiles-table"},or={class:"profiles-table-header"},lr={key:0,class:"sort-icon"},ir={key:0,class:"sort-icon"},sr={class:"col-name name-cell"},cr={key:0,class:"avatar"},ur=["src","alt"],dr={key:1,class:"avatar placeholder"},fr={class:"name-meta"},pr={class:"name-text"},vr={key:0,class:"email-text"},mr={class:"col-completion"},gr={key:2,class:"no-stats"},br={key:0},hr={key:1},yr={class:"profile-modal-controls"},xr={key:0,class:"loading-state"},kr={key:1,class:"profiles-table onboarding-intros-table"},wr={class:"col-name name-cell"},Cr={key:0,class:"avatar"},_r=["src","alt"],Ir={key:1,class:"avatar placeholder"},Sr={class:"name-meta"},Dr={class:"name-text"},Mr={key:0,class:"email-text"},Ur={class:"col-completion onboarding-intro-date"},Nr={class:"intro-date"},Pr={class:"intro-time"},Tr={key:2,class:"no-stats"},Ar={key:0},zr={key:1},Er={class:"profile-modal-controls"},jr={key:0,class:"loading-state"},Lr={key:1,class:"profiles-table conversations-started-table"},Or={class:"profiles-table-header"},Fr={key:0,class:"sort-icon"},Vr={key:0,class:"sort-icon"},Rr={key:0,class:"sort-icon"},Wr={class:"col-name"},Br={class:"name-text"},Yr={class:"col-participants"},qr={class:"col-date onboarding-intro-date"},Gr={class:"intro-date"},Jr={class:"intro-time"},Hr={class:"col-messages"},Zr={key:2,class:"no-stats"},$r={key:0},Kr={key:1},Qr={class:"profile-modal-controls"},Xr={key:0,class:"loading-state"},eo={key:1,class:"profiles-table self-introduced-table"},ao={class:"profiles-table-header"},no={key:0,class:"sort-icon"},to={key:0,class:"sort-icon"},ro={key:0,class:"sort-icon"},oo={class:"col-name name-cell"},lo={key:0,class:"avatar"},io=["src","alt"],so={key:1,class:"avatar placeholder"},co={class:"name-meta"},uo={class:"name-text"},fo={key:0,class:"email-text"},po={class:"col-date onboarding-intro-date"},vo={class:"intro-date"},mo={class:"intro-time"},go={class:"col-channel"},bo={key:2,class:"no-stats"},ho={key:0},yo={key:1},xo=i({__name:"UserStatsSection",props:{communityId:{}},emits:["openMagicIntros","openChannelPairings","openMentorMenteeMatches","openConnections","openSkills","openMentorList"],setup:function(e,t){var r=t.emit,i=e,C=r;P();var M=s(!1),E=s(null);s([]),s(!1);var j=s("12-months"),L=s(!1),O=s(!1),V=s([]),R=s(""),W=s("completion-desc"),B=s(!1),q=s(!1),Z=s(null),$=s([]),K=s(""),Q=s("opened-desc"),X=s(!1),ee=s(!1),se=s(null),ue=s([]),de=s(""),Ce=s(!1),_e=s(!1),Ie=s(null),Se=s([]),De=s(""),Me=s("date-desc"),Ue=s(!1),Ne=s(!1),Pe=s(null),Te=s([]),Ae=s(""),ze=s("date-desc"),Ee=d(function(){return!!E.value&&!!(E.value.profilesCreated||E.value.connectionsMade||E.value.trovaChatsStarted||E.value.totalMessagesSent||E.value.eventsCreated||E.value.eventsAttended||E.value.groupsCreated||E.value.groupsJoined||E.value.dailyActiveUsers||E.value.weeklyActiveUsers||E.value.profileCompletionRate||E.value.matchResponseRate||E.value.totalUsers||E.value.activeUsers||E.value.newUsersThisMonth)}),je=d(function(){return!!E.value&&!!(void 0!==E.value.openedTrova||void 0!==E.value.profileScore||void 0!==E.value.spotlightsCreated||void 0!==E.value.recWallsGiven||void 0!==E.value.recWallsReceived||void 0!==E.value.userOnboardingIntros&&E.value.userOnboardingIntros>0||void 0!==E.value.selfIntroduced)}),Le=d(function(){return!!E.value&&!(void 0===E.value.trovaMagicEngagements&&void 0===E.value.trovaMagicMatches&&void 0===E.value.channelPairingEngagements&&void 0===E.value.mentorMenteeEngagements&&void 0===E.value.mentorMenteeMatches&&void 0===E.value.channelPairingMatches&&void 0===E.value.channelPairingOnDemand&&void 0===E.value.channelPairingCadence)}),Oe=d(function(){return!!E.value&&!(void 0===E.value.totalSkills&&void 0===E.value.usersCanMentor&&void 0===E.value.usersWantMentor)});function Ve(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?"0":a>0?new Intl.NumberFormat("en-US",{minimumFractionDigits:a,maximumFractionDigits:a}).format(e):new Intl.NumberFormat("en-US").format(e)}function Re(e){return null==e?"N/A":"".concat(e.toFixed(1),"%")}function We(e){return e>0?"trend-up":e<0?"trend-down":"trend-neutral"}function Be(){return Ye.apply(this,arguments)}function Ye(){return(Ye=c(l().m(function e(){var a,t,r,o,s,c,u,d;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.communityId){e.n=1;break}return V.value=[],e.a(2);case 1:return O.value=!0,V.value=[],e.p=2,e.n=3,Fe.getSlackUserStats(i.communityId);case 3:if(a=e.v,t=null,a.columns&&Array.isArray(a.columns)&&(r=a.columns.find(function(e){return"Profile Score"===e.name||"Profile Completion"===e.name||"profileCompletionScore"===e.prop||"profile_completion_percent"===e.prop||"profileCompletionPercent"===e.prop}))&&(t=r.prop||r.name),a.rows&&0!==a.rows.length){e.n=8;break}return console.log("[UserStatsSection] No slack-user-stats rows, trying fallback to profile service"),e.p=4,e.n=5,we(function(){return n.import("./profile.service-legacy-D-F1sSvx.js")},void 0);case 5:return o=e.v,s=o.profileService,e.n=6,s.getProfilesForUserAndCommunity(i.communityId);case 6:return c=e.v,V.value=c.map(function(e){var a=[!!e.fname,!!e.lname,!!e.bio,!(!e.currentLat||!e.currentLong),!!(e.interests&&e.interests.length>0),!!e.profilePicture].filter(Boolean).length,n=Math.round(a/6*100);return{id:e.userId||e.id,name:"".concat(e.fname||""," ").concat(e.lname||"").trim()||"Unknown User",email:e.email,profilePicture:e.profilePicture,score:n,completion:n}}),e.a(2);case 7:return e.p=7,u=e.v,console.error("[UserStatsSection] Fallback profile load failed:",u),V.value=[],e.a(2);case 8:V.value=(a.rows||[]).map(function(e){var a,n,r,o,l,i,s,c=0;t&&void 0!==e[t]?c=e[t]:c=null!==(a=null!==(n=null!==(r=null!==(o=null!==(l=null!==(i=null!==(s=e.profile_completion_percent)&&void 0!==s?s:e.profileCompletionPercent)&&void 0!==i?i:e.profile_completion_percent_proposed)&&void 0!==l?l:e.profileCompletionPercentProposed)&&void 0!==o?o:e.profileCompletionScore)&&void 0!==r?r:e["Profile Completion"])&&void 0!==n?n:e["Profile Score"])&&void 0!==a?a:0;return"number"!=typeof c||isNaN(c)?c=0:c>0&&c<=1&&(c*=100),{id:e.userId||e.user_id||e.id,name:e.name||"Unknown User",email:e.email,profilePicture:e.profilePicture||e.profile_picture,score:c,completion:c}}),e.n=10;break;case 9:e.p=9,d=e.v,console.error("[UserStatsSection] Failed to load profiles:",d),V.value=[];case 10:return e.p=10,O.value=!1,e.f(10);case 11:return e.a(2)}},e,null,[[4,7],[2,9,10,11]])}))).apply(this,arguments)}d(function(){return!!E.value&&!(void 0===E.value.channelPairingGroups&&void 0===E.value.channelPairingUsers)});var qe=d(function(){var e=R.value.trim().toLowerCase(),a=V.value;e&&(a=a.filter(function(a){return a.name.toLowerCase().includes(e)}));var n=W.value,t=u(a);return t.sort(function(e,a){switch(n){case"completion-asc":return e.completion-a.completion;case"completion-desc":return a.completion-e.completion;case"name-desc":return a.name.localeCompare(e.name);default:return e.name.localeCompare(a.name)}}),t});function Ge(e){var a=W.value;"name"===e?W.value="name-asc"===a?"name-desc":"name-asc":"completion"===e&&(W.value="completion-desc"===a?"completion-asc":"completion-desc")}function Je(e){var a=W.value;if("name"===e){if("name-asc"===a)return"";if("name-desc"===a)return""}else if("completion"===e){if("completion-asc"===a)return"";if("completion-desc"===a)return""}return null}function He(){i.communityId&&(L.value=!0,V.value.length||Be())}function Ze(){L.value=!1}function $e(){return($e=c(l().m(function e(){var a,n,t,r,o,s,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.communityId){e.n=1;break}return e.a(2);case 1:return q.value=!0,Z.value=null,e.p=2,a=Da(j.value),n=a.start,t=a.end,e.n=3,Fe.getSlackUserStats(i.communityId,n,t);case 3:if(!(r=e.v).error){e.n=4;break}return Z.value=r.error,$.value=[],e.a(2);case 4:if(r&&r.rows&&0!==r.rows.length){e.n=5;break}return $.value=[],e.a(2);case 5:o=null,r.columns&&Array.isArray(r.columns)&&(s=r.columns.find(function(e){return"Homepage Views"===e.name||"Trova Opens"===e.name||"homepageViews"===e.prop||"openedTrova"===e.prop||"opened_trova"===e.prop}))&&(o=s.prop||s.name),$.value=(r.rows||[]).map(function(e){var a,n,t,r,l,i,s,c=0;o&&void 0!==e[o]?c=e[o]:c=null!==(a=null!==(n=null!==(t=null!==(r=null!==(l=null!==(i=null!==(s=e.homepageViews)&&void 0!==s?s:e.openedTrova)&&void 0!==i?i:e.opened_trova)&&void 0!==l?l:e["Trova Opens"])&&void 0!==r?r:e["Homepage Views"])&&void 0!==t?t:e.homepageViews)&&void 0!==n?n:"string"==typeof e.homepageViews?parseInt(e.homepageViews):null)&&void 0!==a?a:0;return"string"==typeof c&&(c=parseInt(c)||0),("number"!=typeof c||isNaN(c))&&(c=0),{id:e.userId||e.user_id||e.id||"user-".concat(e.name||"unknown"),name:e.name||"Unknown User",email:e.email,profilePicture:e.profilePicture||e.profile_picture,openedCount:c}}).filter(function(e){return e.openedCount>0}),e.n=7;break;case 6:e.p=6,c=e.v,console.error("[UserStatsSection] Failed to load opened Trova users:",c),Z.value=(null==c?void 0:c.message)||"Failed to load user data. Please try again later.",$.value=[];case 7:return e.p=7,q.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}))).apply(this,arguments)}var Ke=d(function(){var e=K.value.trim().toLowerCase(),a=$.value;e&&(a=a.filter(function(a){var n;return a.name.toLowerCase().includes(e)||(null===(n=a.email)||void 0===n?void 0:n.toLowerCase().includes(e))}));var n=Q.value,t=u(a);return t.sort(function(e,a){switch(n){case"opened-asc":return e.openedCount-a.openedCount;case"opened-desc":return a.openedCount-e.openedCount;case"name-desc":return a.name.localeCompare(e.name);default:return e.name.localeCompare(a.name)}}),t});function Qe(e){var a=Q.value;"name"===e?Q.value="name-asc"===a?"name-desc":"name-asc":"opened"===e&&(Q.value="opened-desc"===a?"opened-asc":"opened-desc")}function Xe(e){var a=Q.value;if("name"===e){if("name-asc"===a)return"";if("name-desc"===a)return""}else if("opened"===e){if("opened-asc"===a)return"";if("opened-desc"===a)return""}return null}function ea(){i.communityId&&(B.value=!0,$.value.length||function(){$e.apply(this,arguments)}())}function aa(){B.value=!1}function na(){i.communityId&&(X.value=!0,ue.value.length||function(){ga.apply(this,arguments)}())}function ta(){X.value=!1}function ra(){i.communityId&&(Ce.value=!0,function(){la.apply(this,arguments)}())}function oa(){Ce.value=!1}function la(){return(la=c(l().m(function e(){var a,n,t,r,o,s,c,u,d,f;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.communityId){e.n=1;break}return e.a(2);case 1:return _e.value=!0,Ie.value=null,e.p=2,a=Da(j.value),n=a.start,t=a.end,n&&t||(r=new Date,o=new Date(r.getFullYear()-10,0,1),n=o.toISOString(),t=r.toISOString()),console.log("[UserStatsSection] Loading self-introduced users for community ".concat(i.communityId,", dates: ").concat(n," to ").concat(t)),e.n=3,Fe.getSelfIntroducedUsers(i.communityId,n,t);case 3:if(null!==(s=e.v)){e.n=4;break}return Ie.value="This feature requires backend support. The self-introduced/users endpoint may not be available or returned an error.",Se.value=[],e.a(2);case 4:if(0!==s.length){e.n=5;break}return Ie.value=null,Se.value=[],e.a(2);case 5:Se.value=s,s.length>0&&E.value&&(c=s.length,E.value.selfIntroduced!==c&&(console.log("[UserStatsSection] Updating selfIntroduced stat from ".concat(E.value.selfIntroduced," to ").concat(c," based on fetched users")),E.value.selfIntroduced=c)),e.n=7;break;case 6:e.p=6,f=e.v,console.error("[UserStatsSection] Failed to load self-introduced users:",f),d=(null==f?void 0:f.status)||(null==f||null===(u=f.response)||void 0===u?void 0:u.status),Ie.value=500===d?"Server error: The backend endpoint returned a 500 error. Please check backend logs or contact support.":400===d?"Invalid request: Please check date parameters.":(null==f?void 0:f.message)||"Failed to load user data. Please try again later.",Se.value=[];case 7:return e.p=7,_e.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}))).apply(this,arguments)}function ia(e){if(!e)return"";var a=new Date(e);return Number.isNaN(a.getTime())?"":a.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function sa(e){if(!e)return"";var a=new Date(e);return Number.isNaN(a.getTime())?"":a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function ca(e){switch(e){case"magic_intro":return"Trova Magic";case"channel_pairing":return"Channel Pairing";case"mentor_match":return"Mentor Match";default:return e}}function ua(){i.communityId&&(Ue.value=!0,function(){fa.apply(this,arguments)}())}function da(){Ue.value=!1}function fa(){return(fa=c(l().m(function e(){var a,n,t,r,o,s,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.communityId){e.n=1;break}return e.a(2);case 1:return Ne.value=!0,Pe.value=null,e.p=2,a=Da(j.value),n=a.start,t=a.end,console.log("[UserStatsSection] Loading conversations started for community ".concat(i.communityId,", period: ").concat(j.value,", dates: ").concat(n||"all-time"," to ").concat(t||"all-time")),e.n=3,Fe.getConversationsStarted(i.communityId,n,t);case 3:if(null!==(r=e.v)){e.n=4;break}return Pe.value="This feature requires backend support. The conversations-started endpoint may not be available or returned an error.",Te.value=[],e.a(2);case 4:if(r.conversations&&0!==r.conversations.length){e.n=5;break}return Pe.value=null,Te.value=[],e.a(2);case 5:Te.value=r.conversations.map(function(e){return{conversationType:e.conversationType,channelId:e.channelId,createdAt:e.createdAt,messageCount:e.messageCount,participants:e.participants||""}}),e.n=7;break;case 6:e.p=6,c=e.v,console.error("[UserStatsSection] Failed to load conversations started:",c),s=(null==c?void 0:c.status)||(null==c||null===(o=c.response)||void 0===o?void 0:o.status),Pe.value=500===s?"Server error: The backend endpoint returned a 500 error. Please check backend logs or contact support.":400===s?"Invalid request: Please check date parameters.":(null==c?void 0:c.message)||"Failed to load conversation data. Please try again later.",Te.value=[];case 7:return e.p=7,Ne.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}))).apply(this,arguments)}var pa=d(function(){var e=Ae.value.trim().toLowerCase(),a=Te.value;e&&(a=a.filter(function(a){var n=(a.participants||"").toLowerCase(),t=(a.channelId||"").toLowerCase(),r=ca(a.conversationType).toLowerCase();return n.includes(e)||t.includes(e)||r.includes(e)}));var n=u(a),t=ze.value;return n.sort(function(e,a){if("date-desc"===t){var n=e.createdAt?new Date(e.createdAt).getTime():0;return(a.createdAt?new Date(a.createdAt).getTime():0)-n}if("date-asc"===t)return(e.createdAt?new Date(e.createdAt).getTime():0)-(a.createdAt?new Date(a.createdAt).getTime():0);if("type-asc"===t){var r=ca(e.conversationType),o=ca(a.conversationType);return r.localeCompare(o)}if("type-desc"===t){var l=ca(e.conversationType);return ca(a.conversationType).localeCompare(l)}return"messages-desc"===t?a.messageCount-e.messageCount:"messages-asc"===t?e.messageCount-a.messageCount:0}),n});function va(e){var a=ze.value;"type"===e?ze.value="type-asc"===a?"type-desc":"type-asc":"date"===e?ze.value="date-desc"===a?"date-asc":"date-desc":"messages"===e&&(ze.value="messages-desc"===a?"messages-asc":"messages-desc")}function ma(e){var a=ze.value;if("type"===e){if("type-asc"===a)return"";if("type-desc"===a)return""}else if("date"===e){if("date-asc"===a)return"";if("date-desc"===a)return""}else if("messages"===e){if("messages-asc"===a)return"";if("messages-desc"===a)return""}return null}function ga(){return(ga=c(l().m(function e(){var a,n,t,r,o,s,c,u,d;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.communityId){e.n=1;break}return e.a(2);case 1:return ee.value=!0,se.value=null,e.p=2,a=Da(j.value),n=a.start,t=a.end,n&&t||(r=new Date,o=new Date(r.getFullYear()-10,0,1),n=o.toISOString(),t=r.toISOString()),console.log("[UserStatsSection] Loading onboarding intro users for community ".concat(i.communityId,", dates: ").concat(n," to ").concat(t)),e.n=3,Fe.getWeeklyIntroductionsUsers(i.communityId,n,t);case 3:if(null!==(s=e.v)){e.n=4;break}return se.value="This feature requires backend support. The weekly-introductions/users endpoint may not be available or returned an error.",ue.value=[],e.a(2);case 4:if(0!==s.length){e.n=5;break}return se.value=null,ue.value=[],e.a(2);case 5:ue.value=s.map(function(e){return{id:e.id,name:e.name||"Unknown User",email:e.email,profilePicture:e.profilePicture,introMessageSentAt:e.introMessageSentAt}}),e.n=7;break;case 6:e.p=6,d=e.v,console.error("[UserStatsSection] Failed to load onboarding intro users:",d),u=(null==d?void 0:d.status)||(null==d||null===(c=d.response)||void 0===c?void 0:c.status),se.value=500===u?"Server error: The backend endpoint returned a 500 error. Please check backend logs or contact support.":400===u?"Invalid request: Please check date parameters.":(null==d?void 0:d.message)||"Failed to load user data. Please try again later.",ue.value=[];case 7:return e.p=7,ee.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}))).apply(this,arguments)}var ba=d(function(){var e=de.value.trim().toLowerCase(),a=ue.value;e&&(a=a.filter(function(a){var n=(a.name||"").toLowerCase(),t=(a.email||"").toLowerCase();return n.includes(e)||t.includes(e)}));var n=u(a);return n.sort(function(e,a){var n=e.introMessageSentAt?new Date(e.introMessageSentAt).getTime():0;return(a.introMessageSentAt?new Date(a.introMessageSentAt).getTime():0)-n}),n}),ha=d(function(){var e=De.value.trim().toLowerCase(),a=Se.value;e&&(a=a.filter(function(a){var n=(a.name||"").toLowerCase(),t=(a.email||"").toLowerCase(),r=(a.channelName||a.channelId||"").toLowerCase();return n.includes(e)||t.includes(e)||r.includes(e)}));var n=u(a),t=Me.value;return n.sort(function(e,a){if("date-desc"===t){var n=e.introducedAt?new Date(e.introducedAt).getTime():0;return(a.introducedAt?new Date(a.introducedAt).getTime():0)-n}if("date-asc"===t)return(e.introducedAt?new Date(e.introducedAt).getTime():0)-(a.introducedAt?new Date(a.introducedAt).getTime():0);if("name-asc"===t)return e.name.localeCompare(a.name);if("name-desc"===t)return a.name.localeCompare(e.name);if("channel-asc"===t){var r=e.channelName||e.channelId||"Unknown Channel",o=a.channelName||a.channelId||"Unknown Channel";return r.localeCompare(o)}if("channel-desc"===t){var l=e.channelName||e.channelId||"Unknown Channel";return(a.channelName||a.channelId||"Unknown Channel").localeCompare(l)}return 0}),n});function ya(e){var a=Me.value;"name"===e?Me.value="name-asc"===a?"name-desc":"name-asc":"date"===e?Me.value="date-desc"===a?"date-asc":"date-desc":"channel"===e&&(Me.value="channel-asc"===a?"channel-desc":"channel-asc")}function xa(e){var a=Me.value;if("name"===e){if("name-asc"===a)return"";if("name-desc"===a)return""}else if("date"===e){if("date-asc"===a)return"";if("date-desc"===a)return""}else if("channel"===e){if("channel-asc"===a)return"";if("channel-desc"===a)return""}return null}function ka(){if(i.communityId){var e=Da(j.value),a=e.start,n=e.end;C("openMagicIntros",a,n)}}function wa(){if(i.communityId){var e=Da(j.value),a=e.start,n=e.end;C("openChannelPairings",a,n)}}function Ca(){if(i.communityId){var e=Da(j.value),a=e.start,n=e.end;C("openMentorMenteeMatches",a,n)}}function _a(){if(i.communityId){var e=Da(j.value),a=e.start,n=e.end;C("openConnections",a,n)}}function Ia(){i.communityId&&C("openSkills")}function Sa(e){i.communityId&&C("openMentorList",e)}function Da(e){if("all-time"===e)return{start:void 0,end:void 0};var a=new Date,n=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),23,59,59,999)),t=12;switch(e){case"12-months":default:t=12;break;case"6-months":t=6;break;case"3-months":t=3;break;case"1-month":t=1}for(var r=a.getUTCFullYear(),o=a.getUTCMonth(),l=a.getUTCDate(),i=r,s=o-t;s<0;)s+=12,i-=1;var c=new Date(Date.UTC(i,s+1,0)).getUTCDate(),u=Math.min(l,c);return{start:new Date(Date.UTC(i,s,u,0,0,0,0)).toISOString(),end:n.toISOString()}}function Ma(){Ua()}function Ua(){return Na.apply(this,arguments)}function Na(){return Na=c(l().m(function e(){var n,t,r,s,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.communityId){e.n=1;break}return e.a(2);case 1:return M.value=!0,e.p=2,n=Da(j.value),t=n.start,r=n.end,e.n=3,Fe.getEngagementStats(i.communityId,t,r);case 3:s=e.v,E.value=s?a({},s):{totalUsers:0,activeUsers:0,newUsersThisMonth:0},Promise.allSettled([Fe.getUserActionsStats(i.communityId,t,r),Fe.getSkillsStats(i.communityId),Fe.getChannelPairingStats(i.communityId,t,r),Fe.getConversationsStarted(i.communityId,t,r),Fe.getActiveUserStats(i.communityId,t,r),Fe.getWeeklyIntroductionsStats(i.communityId),Fe.getSelfIntroducedStats(i.communityId,t,r)]).then(function(e){var n=o(e,7),l=n[0],s=n[1],c=n[2],u=n[3],d=n[4],f=n[5],p=n[6];E.value||(E.value={});var v=a({},E.value),m=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.keys(e).forEach(function(t){if(!n.includes(t)){var r=e[t];a[t];null!=r&&(a[t]=r)}})};if("fulfilled"===l.status&&l.value&&m(l.value,v,["trovaMagicEngagements","channelPairingEngagements","mentorMenteeEngagements","trovaMagicMatches","channelPairingMatches","mentorMenteeMatches","mentorMenteeUniquePairs"]),"fulfilled"===s.status&&s.value&&m(s.value,v),"fulfilled"===c.status&&c.value&&m(c.value,v),"fulfilled"===u.status&&u.value){var g,b=u.value.totalMessages||0,h=u.value.totalConversations||0,y=(null===(g=u.value.conversations)||void 0===g?void 0:g.length)||0;if(console.log("[UserStatsSection] Conversations started stats:",{totalMessages:b,totalConversations:h,conversationsCount:y,period:j.value,startDate:t,endDate:r}),u.value.conversations&&u.value.conversations.length>0){var x=u.value.conversations.reduce(function(e,a){return e+(a.messageCount||0)},0);x!==b?console.warn("[UserStatsSection]  Mismatch: sum of individual message counts (".concat(x,") != totalMessages (").concat(b,")")):console.log("[UserStatsSection]  Verified: sum of message counts (".concat(x,") matches totalMessages (").concat(b,")"))}v.trovaChatsStarted=b}else"rejected"===u.status&&(console.warn("[UserStatsSection] Conversations started endpoint failed, will try fallback method"),v.trovaChatsStarted=0,null!==i.communityId&&Fe.getMessagesFromMatches(i.communityId,t,r).then(function(e){e&&E.value&&(E.value.trovaChatsStarted=e.totalMessagesSent||0)}).catch(function(e){console.warn("[UserStatsSection] Fallback method also failed:",e)}));"fulfilled"===d.status&&d.value&&m(d.value,v),"fulfilled"===f.status&&(f.value?m(f.value,v):v.userOnboardingIntros=0),"fulfilled"===p.status?p.value?(console.log("[UserStatsSection] Self-introduced stats received:",p.value),m(p.value,v),console.log("[UserStatsSection] Updated stats after merge:",v.selfIntroduced),void 0!==v.selfIntroduced&&null!==v.selfIntroduced&&null!==i.communityId&&t&&r&&Fe.getSelfIntroducedUsers(i.communityId,t,r).then(function(e){if(e&&e.length>0&&E.value){var a=e.length;E.value.selfIntroduced!==a&&(console.log("[UserStatsSection] Updating selfIntroduced stat from ".concat(E.value.selfIntroduced," to ").concat(a," based on fetched users")),E.value.selfIntroduced=a)}}).catch(function(e){console.warn("[UserStatsSection] Failed to verify self-introduced count with users endpoint:",e)})):(console.warn("[UserStatsSection] Self-introduced stats endpoint returned null"),v.selfIntroduced=0):"rejected"===p.status&&console.error("[UserStatsSection] Self-introduced stats fetch rejected:",p.reason),E.value=v}).catch(function(e){console.warn("[UserStatsSection] Error loading additional metrics:",e)}),e.n=5;break;case 4:e.p=4,c=e.v,console.error("Error loading stats:",c),E.value=null;case 5:return e.p=5,M.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])})),Na.apply(this,arguments)}function Pa(){return Ta.apply(this,arguments)}function Ta(){return(Ta=c(l().m(function e(){var a,n,t,r,o,s,c,u,d,f,p,v,m,g;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(i.communityId&&E.value){e.n=1;break}return e.a(2);case 1:return e.p=1,a=Da(j.value),n=a.start,t=a.end,e.p=2,e.n=3,Fe.exportData(i.communityId,"stats",n,t);case 3:return r=e.v,Fe.downloadCSV(r,"roi_stats_".concat(i.communityId,"_").concat(Date.now(),".csv")),e.n=4,T.create({message:"Statistics exported successfully",duration:2e3,color:"success"});case 4:return o=e.v,e.n=5,o.present();case 5:case 13:return e.a(2);case 6:if(e.p=6,404!==(null==(m=e.v)?void 0:m.status)&&404!==(null==m||null===(s=m.response)||void 0===s?void 0:s.status)){e.n=7;break}console.log("[UserStatsSection] Backend export not available, creating client-side CSV"),e.n=8;break;case 7:throw m;case 8:return(c=[]).push("ROI Engagement Dashboard Statistics"),u="all-time"===j.value?"All Time":j.value.replace("-"," ").replace(/\b\w/g,function(e){return e.toUpperCase()}),c.push("Time Period: ".concat(u)),n&&t&&c.push("Date Range: ".concat(new Date(n).toLocaleDateString()," - ").concat(new Date(t).toLocaleDateString())),c.push(""),c.push("PRIMARY METRICS"),c.push("Metric,Value"),c.push("Profiles Created,".concat(Ve(E.value.profilesCreated||E.value.totalUsers||0))),c.push("Introductions Created,".concat(Ve(E.value.connectionsMade||0))),c.push("Messages Exchanged,".concat(Ve(E.value.trovaChatsStarted||0))),c.push(""),c.push("ENGAGEMENT METRICS"),c.push("Metric,Value"),c.push("Total Messages Sent,".concat(Ve(E.value.totalMessagesSent||0))),c.push("Events Created,".concat(Ve(E.value.eventsCreated||0))),c.push("Events Attended,".concat(Ve(E.value.eventsAttended||0))),c.push("Groups Created,".concat(Ve(E.value.groupsCreated||0))),c.push("Groups Joined,".concat(Ve(E.value.groupsJoined||0))),c.push("Daily Active Users,".concat(Ve(E.value.dailyActiveUsers||0))),c.push("Weekly Active Users,".concat(Ve(E.value.weeklyActiveUsers||0))),c.push("Profile Completion Rate,".concat(Re(E.value.profileCompletionRate))),void 0!==E.value.userOnboardingIntros&&E.value.userOnboardingIntros>0&&c.push("Automated Onboarding Introductions,".concat(Ve(E.value.userOnboardingIntros))),c.push("Match Response Rate,".concat(Re(E.value.matchResponseRate))),c.push(""),(E.value.activeUsers||E.value.newUsersThisMonth)&&(c.push("ADDITIONAL STATISTICS"),c.push("Metric,Value"),E.value.activeUsers&&c.push("Active Users,".concat(Ve(E.value.activeUsers))),E.value.newUsersThisMonth&&c.push("New Users This Month,".concat(Ve(E.value.newUsersThisMonth)))),d=c.join("\n"),f=new Blob([d],{type:"text/csv"}),Fe.downloadCSV(f,"roi_stats_".concat(i.communityId,"_").concat(Date.now(),".csv")),e.n=9,T.create({message:"Statistics exported successfully",duration:2e3,color:"success"});case 9:return p=e.v,e.n=10,p.present();case 10:e.n=13;break;case 11:return e.p=11,g=e.v,console.error("Error exporting stats:",g),e.n=12,T.create({message:"Failed to export statistics",duration:2e3,color:"danger"});case 12:return v=e.v,e.n=13,v.present()}},e,null,[[2,6],[1,11]])}))).apply(this,arguments)}return f(function(){Ua()}),H(function(){return i.communityId},function(e,a){e&&e!==a&&(V.value=[],R.value="",Ua(),L.value&&Be())}),function(e,a){var n,t,r,o,l,i,s,c,d,f,C,P,T,V,H,$,ue,we,Se,Me,Te,ze,Fe,Be,Ye,$e,la,fa,ga,Da,Ua;return A(),p("div",Cn,[v("div",_n,[a[27]||(a[27]=v("h2",{class:"section-title"},"Engagement Dashboard",-1)),v("div",In,[v("div",Sn,[m(g(_),{class:"time-period-label-inline"},{default:h(function(){return u(a[20]||(a[20]=[y("Time Period",-1)]))}),_:1}),m(g(I),{modelValue:j.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return j.value=e}),onIonChange:Ma,class:"time-period-select-inline"},{default:h(function(){return[m(g(S),{value:"all-time"},{default:h(function(){return u(a[21]||(a[21]=[y("All Time",-1)]))}),_:1}),m(g(S),{value:"12-months"},{default:h(function(){return u(a[22]||(a[22]=[y("Past 12 Months",-1)]))}),_:1}),m(g(S),{value:"6-months"},{default:h(function(){return u(a[23]||(a[23]=[y("Past 6 Months",-1)]))}),_:1}),m(g(S),{value:"3-months"},{default:h(function(){return u(a[24]||(a[24]=[y("Past 3 Months",-1)]))}),_:1}),m(g(S),{value:"1-month"},{default:h(function(){return u(a[25]||(a[25]=[y("Past Month",-1)]))}),_:1})]}),_:1},8,["modelValue"])]),m(g(b),{fill:"outline",size:"small",onClick:Pa},{default:h(function(){return[m(g(x),{icon:g(k),slot:"start"},null,8,["icon"]),a[26]||(a[26]=y(" Export CSV ",-1))]}),_:1})])]),M.value?(A(),p("div",Dn,[m(g(D)),a[28]||(a[28]=v("p",null,"Loading engagement statistics...",-1))])):E.value||Ee.value?(A(),p("div",Mn,[v("div",Un,[a[32]||(a[32]=v("h3",{class:"section-subtitle"},"Primary Metrics",-1)),v("div",Nn,[v("div",{class:"primary-metric-card clickable",onClick:He},[v("div",Pn,[m(g(x),{icon:g(F)},null,8,["icon"])]),v("div",Tn,[v("div",An,[void 0!==(null===(n=E.value)||void 0===n?void 0:n.profileCompletionCompleted)&&void 0!==(null===(t=E.value)||void 0===t?void 0:t.profileCompletionTotal)?(A(),p("span",zn,z(E.value.profileCompletionCompleted)+"/"+z(E.value.profileCompletionTotal),1)):(A(),p("span",En,z(Re(null===(r=E.value)||void 0===r?void 0:r.profileCompletionRate)),1))]),a[29]||(a[29]=v("div",{class:"metric-label"},"Profile Completion (Completed / Eligible)",-1))])]),v("div",{class:"primary-metric-card clickable",onClick:_a},[v("div",jn,[m(g(x),{icon:g(G)},null,8,["icon"])]),v("div",Ln,[v("div",On,z(Ve((null===(o=E.value)||void 0===o?void 0:o.connectionsMade)||0)),1),a[30]||(a[30]=v("div",{class:"metric-label"},"Introductions Created",-1)),null!==(l=E.value)&&void 0!==l&&l.connectionsMadeTrend?(A(),p("div",{key:0,class:ce(["metric-trend",We(E.value.connectionsMadeTrend)])},[m(g(x),{icon:E.value.connectionsMadeTrend>0?g(fe):g(pe)},null,8,["icon"]),v("span",null,z(Math.abs(E.value.connectionsMadeTrend).toFixed(1))+"%",1)],2)):Y("",!0)])]),v("div",{class:"primary-metric-card primary-metric-card-highlight clickable",onClick:ua},[v("div",Fn,[m(g(x),{icon:g(ve)},null,8,["icon"])]),v("div",Vn,[v("div",Rn,z(Ve((null===(i=E.value)||void 0===i?void 0:i.trovaChatsStarted)||0)),1),a[31]||(a[31]=v("div",{class:"metric-label"},"Messages Exchanged",-1)),null!==(s=E.value)&&void 0!==s&&s.trovaChatsStartedTrend?(A(),p("div",{key:0,class:ce(["metric-trend",We(E.value.trovaChatsStartedTrend)])},[m(g(x),{icon:E.value.trovaChatsStartedTrend>0?g(fe):g(pe)},null,8,["icon"]),v("span",null,z(Math.abs(E.value.trovaChatsStartedTrend).toFixed(1))+"%",1)],2)):Y("",!0)])])])]),je.value?(A(),p("div",Wn,[a[37]||(a[37]=v("h3",{class:"section-subtitle"},"General Actions",-1)),v("div",Bn,[void 0!==(null===(c=E.value)||void 0===c?void 0:c.openedTrova)?(A(),p("div",{key:0,class:"engagement-metric-card clickable",onClick:ea},[v("div",Yn,[m(g(x),{icon:g(me)},null,8,["icon"])]),v("div",qn,[v("div",Gn,z(Ve(E.value.openedTrova)),1),a[33]||(a[33]=v("div",{class:"metric-label-small"},"Trova Opens",-1))])])):Y("",!0),void 0!==(null===(d=E.value)||void 0===d?void 0:d.profileScore)?(A(),p("div",Jn,[v("div",Hn,[m(g(x),{icon:g(ge)},null,8,["icon"])]),v("div",Zn,[v("div",$n,z(Ve(E.value.profileScore,1)),1),a[34]||(a[34]=v("div",{class:"metric-label-small"},"Avg Profile Score",-1))])])):Y("",!0),void 0!==(null===(f=E.value)||void 0===f?void 0:f.userOnboardingIntros)&&E.value.userOnboardingIntros>0?(A(),p("div",{key:2,class:"engagement-metric-card clickable",onClick:na},[v("div",Kn,[m(g(x),{icon:g(G)},null,8,["icon"])]),v("div",Qn,[v("div",Xn,z(Ve(E.value.userOnboardingIntros)),1),a[35]||(a[35]=v("div",{class:"metric-label-small"},"Automated Onboarding Introductions",-1))])])):Y("",!0),void 0!==(null===(C=E.value)||void 0===C?void 0:C.selfIntroduced)?(A(),p("div",{key:3,class:"engagement-metric-card clickable",onClick:ra},[v("div",et,[m(g(x),{icon:g(ge)},null,8,["icon"])]),v("div",at,[v("div",nt,z(Ve(E.value.selfIntroduced)),1),a[36]||(a[36]=v("div",{class:"metric-label-small"},"Self-Introductions Posted",-1))])])):Y("",!0)])])):Y("",!0),Le.value?(A(),p("div",tt,[a[41]||(a[41]=v("h3",{class:"section-subtitle"},"Engagement by Feature",-1)),v("div",rt,[void 0!==(null===(P=E.value)||void 0===P?void 0:P.trovaMagicEngagements)||void 0!==(null===(T=E.value)||void 0===T?void 0:T.trovaMagicMatches)?(A(),p("div",{key:0,class:"engagement-metric-card clickable",onClick:ka},[v("div",ot,[m(g(x),{icon:g(be)},null,8,["icon"])]),v("div",lt,[v("div",it,[void 0!==(null===(V=E.value)||void 0===V?void 0:V.trovaMagicEngagements)&&void 0!==(null===(H=E.value)||void 0===H?void 0:H.trovaMagicMatches)?(A(),p("span",st,z(Ve(E.value.trovaMagicEngagements||0))+"/"+z(Ve(E.value.trovaMagicMatches)),1)):void 0!==(null===($=E.value)||void 0===$?void 0:$.trovaMagicMatches)?(A(),p("span",ct,z(Ve(E.value.trovaMagicEngagements||0))+"/"+z(Ve(E.value.trovaMagicMatches)),1)):(A(),p("span",ut,z(Ve(E.value.trovaMagicEngagements||0)),1))]),a[38]||(a[38]=v("div",{class:"metric-label-small"},"Magic Intros (Engaged / Total)",-1))])])):Y("",!0),void 0!==(null===(ue=E.value)||void 0===ue?void 0:ue.channelPairingEngagements)||void 0!==(null===(we=E.value)||void 0===we?void 0:we.channelPairingMatches)?(A(),p("div",{key:1,class:"engagement-metric-card clickable",onClick:wa},[v("div",dt,[m(g(x),{icon:g(J)},null,8,["icon"])]),v("div",ft,[v("div",pt,[void 0!==(null===(Se=E.value)||void 0===Se?void 0:Se.channelPairingEngagements)&&void 0!==(null===(Me=E.value)||void 0===Me?void 0:Me.channelPairingMatches)?(A(),p("span",vt,z(Ve(E.value.channelPairingEngagements||0))+"/"+z(Ve(E.value.channelPairingMatches)),1)):void 0!==(null===(Te=E.value)||void 0===Te?void 0:Te.channelPairingMatches)?(A(),p("span",mt,z(Ve(E.value.channelPairingEngagements||0))+"/"+z(Ve(E.value.channelPairingMatches)),1)):(A(),p("span",gt,z(Ve(E.value.channelPairingEngagements||0)),1))]),a[39]||(a[39]=v("div",{class:"metric-label-small"},"Channel Pairings (Engaged / Total)",-1))])])):Y("",!0),void 0!==(null===(ze=E.value)||void 0===ze?void 0:ze.mentorMenteeEngagements)||void 0!==(null===(Fe=E.value)||void 0===Fe?void 0:Fe.mentorMenteeMatches)?(A(),p("div",{key:2,class:"engagement-metric-card clickable",onClick:Ca},[v("div",bt,[m(g(x),{icon:g(he)},null,8,["icon"])]),v("div",ht,[v("div",yt,[void 0!==(null===(Be=E.value)||void 0===Be?void 0:Be.mentorMenteeMatches)&&void 0!==(null===(Ye=E.value)||void 0===Ye?void 0:Ye.mentorMenteeUniquePairs)?(A(),p("span",xt,z(Ve(E.value.mentorMenteeUniquePairs))+"/"+z(Ve(E.value.mentorMenteeMatches)),1)):void 0!==(null===($e=E.value)||void 0===$e?void 0:$e.mentorMenteeMatches)?(A(),p("span",kt,z(Ve(E.value.mentorMenteeMatches)),1)):(A(),p("span",wt,"0"))]),a[40]||(a[40]=v("div",{class:"metric-label-small"},"Mentor Matches (Unique / Total)",-1))])])):Y("",!0)])])):Y("",!0),Oe.value?(A(),p("div",Ct,[a[45]||(a[45]=v("h3",{class:"section-subtitle"},"Skills",-1)),v("div",_t,[void 0!==(null===(la=E.value)||void 0===la?void 0:la.totalSkills)?(A(),p("div",{key:0,class:"engagement-metric-card clickable",onClick:Ia},[v("div",It,[m(g(x),{icon:g(ye)},null,8,["icon"])]),v("div",St,[v("div",Dt,z(Ve(E.value.totalSkills)),1),a[42]||(a[42]=v("div",{class:"metric-label-small"},"Skills Added to Profiles",-1))])])):Y("",!0),void 0!==(null===(fa=E.value)||void 0===fa?void 0:fa.usersCanMentor)?(A(),p("div",{key:1,class:"engagement-metric-card clickable",onClick:a[1]||(a[1]=function(e){return Sa("can")})},[v("div",Mt,[m(g(x),{icon:g(he)},null,8,["icon"])]),v("div",Ut,[v("div",Nt,z(Ve(E.value.usersCanMentor)),1),a[43]||(a[43]=v("div",{class:"metric-label-small"},"Users Available to Mentor",-1))])])):Y("",!0),void 0!==(null===(ga=E.value)||void 0===ga?void 0:ga.usersWantMentor)?(A(),p("div",{key:2,class:"engagement-metric-card clickable",onClick:a[2]||(a[2]=function(e){return Sa("want")})},[v("div",Pt,[m(g(x),{icon:g(xe)},null,8,["icon"])]),v("div",Tt,[v("div",At,z(Ve(E.value.usersWantMentor)),1),a[44]||(a[44]=v("div",{class:"metric-label-small"},"Users Seeking Mentorship",-1))])])):Y("",!0)])])):Y("",!0),null!==(Da=E.value)&&void 0!==Da&&Da.activeUsers||null!==(Ua=E.value)&&void 0!==Ua&&Ua.newUsersThisMonth?(A(),p("div",zt,[a[48]||(a[48]=v("h3",{class:"section-subtitle"},"Additional Statistics",-1)),v("div",Et,[E.value.activeUsers?(A(),p("div",jt,[v("div",Lt,z(Ve(E.value.activeUsers)),1),a[46]||(a[46]=v("div",{class:"stat-label"},"Active Users",-1))])):Y("",!0),E.value.newUsersThisMonth?(A(),p("div",Ot,[v("div",Ft,z(Ve(E.value.newUsersThisMonth)),1),a[47]||(a[47]=v("div",{class:"stat-label"},"New This Month",-1))])):Y("",!0)])])):Y("",!0)])):(A(),p("div",Vt,[m(g(x),{icon:g(ke),class:"no-stats-icon"},null,8,["icon"]),a[49]||(a[49]=v("p",null,"Statistics not available",-1)),a[50]||(a[50]=v("p",{class:"no-stats-hint"},"This feature requires backend support. The stats endpoint is not currently available.",-1))])),m(g(ae),{"is-open":L.value,onDidDismiss:Ze,onWillDismiss:Ze,"backdrop-dismiss":!0},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(re),null,{default:h(function(){return u(a[51]||(a[51]=[y("Profiles",-1)]))}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:Ze},{default:h(function(){return[m(g(x),{icon:g(le)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{class:"profile-modal-content"},{default:h(function(){return[v("div",Rt,[m(g(w),{modelValue:R.value,"onUpdate:modelValue":a[3]||(a[3]=function(e){return R.value=e}),placeholder:"Search by name",inputmode:"search"},null,8,["modelValue"]),m(g(I),{modelValue:W.value,"onUpdate:modelValue":a[4]||(a[4]=function(e){return W.value=e}),interface:"popover",placeholder:"Sort by"},{default:h(function(){return[m(g(S),{value:"completion-desc"},{default:h(function(){return u(a[52]||(a[52]=[y("Completion (High  Low)",-1)]))}),_:1}),m(g(S),{value:"completion-asc"},{default:h(function(){return u(a[53]||(a[53]=[y("Completion (Low  High)",-1)]))}),_:1}),m(g(S),{value:"name-asc"},{default:h(function(){return u(a[54]||(a[54]=[y("Name (A  Z)",-1)]))}),_:1}),m(g(S),{value:"name-desc"},{default:h(function(){return u(a[55]||(a[55]=[y("Name (Z  A)",-1)]))}),_:1})]}),_:1},8,["modelValue"])]),O.value?(A(),p("div",Wt,[m(g(D)),a[56]||(a[56]=v("p",null,"Loading profiles...",-1))])):qe.value.length?(A(),p("div",Bt,[v("div",Yt,[v("div",{class:"col-name sortable",onClick:a[5]||(a[5]=function(e){return Ge("name")})},[a[57]||(a[57]=y(" User ",-1)),Je("name")?(A(),p("span",qt,z(Je("name")),1)):Y("",!0)]),v("div",{class:"col-completion sortable",onClick:a[6]||(a[6]=function(e){return Ge("completion")})},[a[58]||(a[58]=y(" Completion ",-1)),Je("completion")?(A(),p("span",Gt,z(Je("completion")),1)):Y("",!0)])]),(A(!0),p(U,null,N(qe.value,function(e){return A(),p("div",{key:e.id,class:"profiles-table-row"},[v("div",Jt,[e.profilePicture?(A(),p("div",Ht,[v("img",{src:e.profilePicture,alt:e.name},null,8,Zt)])):(A(),p("div",$t,z(e.name.charAt(0).toUpperCase()),1)),v("div",Kt,[v("div",Qt,z(e.name),1),e.email?(A(),p("div",Xt,z(e.email),1)):Y("",!0)])]),v("div",er,z(e.completion.toFixed(0))+"%",1)])}),128))])):(A(),p("div",ar,[m(g(x),{icon:g(ke),class:"no-stats-icon"},null,8,["icon"]),a[59]||(a[59]=v("p",null,"No profiles found",-1))]))]}),_:1})]}),_:1},8,["is-open"]),m(g(ae),{"is-open":B.value,onDidDismiss:aa,onWillDismiss:aa,"backdrop-dismiss":!0},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(re),null,{default:h(function(){return u(a[60]||(a[60]=[y("Trova Opens",-1)]))}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:aa},{default:h(function(){return[m(g(x),{icon:g(le)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{class:"profile-modal-content"},{default:h(function(){return[v("div",nr,[m(g(w),{modelValue:K.value,"onUpdate:modelValue":a[7]||(a[7]=function(e){return K.value=e}),placeholder:"Search by name or email",inputmode:"search"},null,8,["modelValue"]),m(g(I),{modelValue:Q.value,"onUpdate:modelValue":a[8]||(a[8]=function(e){return Q.value=e}),interface:"popover",placeholder:"Sort by"},{default:h(function(){return[m(g(S),{value:"opened-desc"},{default:h(function(){return u(a[61]||(a[61]=[y("Opened (High  Low)",-1)]))}),_:1}),m(g(S),{value:"opened-asc"},{default:h(function(){return u(a[62]||(a[62]=[y("Opened (Low  High)",-1)]))}),_:1}),m(g(S),{value:"name-asc"},{default:h(function(){return u(a[63]||(a[63]=[y("Name (A  Z)",-1)]))}),_:1}),m(g(S),{value:"name-desc"},{default:h(function(){return u(a[64]||(a[64]=[y("Name (Z  A)",-1)]))}),_:1})]}),_:1},8,["modelValue"])]),q.value?(A(),p("div",tr,[m(g(D)),a[65]||(a[65]=v("p",null,"Loading users...",-1))])):Ke.value.length?(A(),p("div",rr,[v("div",or,[v("div",{class:"col-name sortable",onClick:a[9]||(a[9]=function(e){return Qe("name")})},[a[66]||(a[66]=y(" User ",-1)),Xe("name")?(A(),p("span",lr,z(Xe("name")),1)):Y("",!0)]),v("div",{class:"col-completion sortable",onClick:a[10]||(a[10]=function(e){return Qe("opened")})},[a[67]||(a[67]=y(" Times Opened ",-1)),Xe("opened")?(A(),p("span",ir,z(Xe("opened")),1)):Y("",!0)])]),(A(!0),p(U,null,N(Ke.value,function(e){return A(),p("div",{key:e.id,class:"profiles-table-row"},[v("div",sr,[e.profilePicture?(A(),p("div",cr,[v("img",{src:e.profilePicture,alt:e.name},null,8,ur)])):(A(),p("div",dr,z(e.name.charAt(0).toUpperCase()),1)),v("div",fr,[v("div",pr,z(e.name),1),e.email?(A(),p("div",vr,z(e.email),1)):Y("",!0)])]),v("div",mr,z(Ve(e.openedCount)),1)])}),128))])):(A(),p("div",gr,[m(g(x),{icon:g(ke),class:"no-stats-icon"},null,8,["icon"]),Z.value?(A(),p("p",br,z(Z.value),1)):(A(),p("p",hr,"No users found"))]))]}),_:1})]}),_:1},8,["is-open"]),m(g(ae),{"is-open":X.value,onDidDismiss:ta,onWillDismiss:ta,"backdrop-dismiss":!0},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(re),null,{default:h(function(){return u(a[68]||(a[68]=[y("Automated Onboarding Introductions",-1)]))}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:ta},{default:h(function(){return[m(g(x),{icon:g(le)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{class:"profile-modal-content"},{default:h(function(){return[v("div",yr,[m(g(w),{modelValue:de.value,"onUpdate:modelValue":a[11]||(a[11]=function(e){return de.value=e}),placeholder:"Search by name or email",inputmode:"search"},null,8,["modelValue"])]),ee.value?(A(),p("div",xr,[m(g(D)),a[69]||(a[69]=v("p",null,"Loading users...",-1))])):ba.value.length?(A(),p("div",kr,[a[70]||(a[70]=v("div",{class:"profiles-table-header"},[v("div",{class:"col-name"},"User"),v("div",{class:"col-completion onboarding-intro-date"},"Most Recent Intro")],-1)),(A(!0),p(U,null,N(ba.value,function(e){return A(),p("div",{key:e.id,class:"profiles-table-row"},[v("div",wr,[e.profilePicture?(A(),p("div",Cr,[v("img",{src:e.profilePicture,alt:e.name},null,8,_r)])):(A(),p("div",Ir,z(e.name.charAt(0).toUpperCase()),1)),v("div",Sr,[v("div",Dr,z(e.name),1),e.email?(A(),p("div",Mr,z(e.email),1)):Y("",!0)])]),v("div",Ur,[v("div",Nr,z(ia(e.introMessageSentAt)),1),v("div",Pr,z(sa(e.introMessageSentAt)),1)])])}),128))])):(A(),p("div",Tr,[m(g(x),{icon:g(ke),class:"no-stats-icon"},null,8,["icon"]),se.value?(A(),p("p",Ar,z(se.value),1)):(A(),p("p",zr,"No users found"))]))]}),_:1})]}),_:1},8,["is-open"]),m(g(ae),{"is-open":Ue.value,onDidDismiss:da,onWillDismiss:da,"backdrop-dismiss":!0},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(re),null,{default:h(function(){return u(a[71]||(a[71]=[y("Messages Exchanged by Match Type",-1)]))}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:da},{default:h(function(){return[m(g(x),{icon:g(le)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{class:"profile-modal-content"},{default:h(function(){return[v("div",Er,[m(g(w),{modelValue:Ae.value,"onUpdate:modelValue":a[12]||(a[12]=function(e){return Ae.value=e}),placeholder:"Search by participants or channel ID",inputmode:"search"},null,8,["modelValue"])]),Ne.value?(A(),p("div",jr,[m(g(D)),a[72]||(a[72]=v("p",null,"Loading conversations...",-1))])):pa.value.length?(A(),p("div",Lr,[v("div",Or,[v("div",{class:"col-name sortable",onClick:a[13]||(a[13]=function(e){return va("type")})},[a[73]||(a[73]=y(" Match Type ",-1)),ma("type")?(A(),p("span",Fr,z(ma("type")),1)):Y("",!0)]),a[76]||(a[76]=v("div",{class:"col-participants"},"Participants",-1)),v("div",{class:"col-date sortable",onClick:a[14]||(a[14]=function(e){return va("date")})},[a[74]||(a[74]=y(" Date ",-1)),ma("date")?(A(),p("span",Vr,z(ma("date")),1)):Y("",!0)]),v("div",{class:"col-messages sortable",onClick:a[15]||(a[15]=function(e){return va("messages")})},[a[75]||(a[75]=y(" Messages ",-1)),ma("messages")?(A(),p("span",Rr,z(ma("messages")),1)):Y("",!0)])]),(A(!0),p(U,null,N(pa.value,function(e){return A(),p("div",{key:e.channelId,class:"profiles-table-row"},[v("div",Wr,[v("div",Br,z(ca(e.conversationType)),1)]),v("div",Yr,z(e.participants||""),1),v("div",qr,[v("div",Gr,z(ia(e.createdAt)),1),v("div",Jr,z(sa(e.createdAt)),1)]),v("div",Hr,z(Ve(e.messageCount)),1)])}),128))])):(A(),p("div",Zr,[m(g(x),{icon:g(ke),class:"no-stats-icon"},null,8,["icon"]),Pe.value?(A(),p("p",$r,z(Pe.value),1)):(A(),p("p",Kr,"No conversations found"))]))]}),_:1})]}),_:1},8,["is-open"]),m(g(ae),{"is-open":Ce.value,onDidDismiss:oa,onWillDismiss:oa,"backdrop-dismiss":!0},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(re),null,{default:h(function(){return u(a[77]||(a[77]=[y("Self-Introductions Posted",-1)]))}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:oa},{default:h(function(){return[m(g(x),{icon:g(le)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{class:"profile-modal-content"},{default:h(function(){return[v("div",Qr,[m(g(w),{modelValue:De.value,"onUpdate:modelValue":a[16]||(a[16]=function(e){return De.value=e}),placeholder:"Search by name or email",inputmode:"search"},null,8,["modelValue"])]),_e.value?(A(),p("div",Xr,[m(g(D)),a[78]||(a[78]=v("p",null,"Loading users...",-1))])):ha.value.length?(A(),p("div",eo,[v("div",ao,[v("div",{class:"col-name sortable",onClick:a[17]||(a[17]=function(e){return ya("name")})},[a[79]||(a[79]=y(" User ",-1)),xa("name")?(A(),p("span",no,z(xa("name")),1)):Y("",!0)]),v("div",{class:"col-date sortable",onClick:a[18]||(a[18]=function(e){return ya("date")})},[a[80]||(a[80]=y(" Introduced At ",-1)),xa("date")?(A(),p("span",to,z(xa("date")),1)):Y("",!0)]),v("div",{class:"col-channel sortable",onClick:a[19]||(a[19]=function(e){return ya("channel")})},[a[81]||(a[81]=y(" Channel ",-1)),xa("channel")?(A(),p("span",ro,z(xa("channel")),1)):Y("",!0)])]),(A(!0),p(U,null,N(ha.value,function(e){return A(),p("div",{key:e.id,class:"profiles-table-row"},[v("div",oo,[e.profilePicture?(A(),p("div",lo,[v("img",{src:e.profilePicture,alt:e.name},null,8,io)])):(A(),p("div",so,z(e.name.charAt(0).toUpperCase()),1)),v("div",co,[v("div",uo,z(e.name),1),e.email?(A(),p("div",fo,z(e.email),1)):Y("",!0)])]),v("div",po,[v("div",vo,z(ia(e.introducedAt)),1),v("div",mo,z(sa(e.introducedAt)),1)]),v("div",go,z(e.channelName||e.channelId||"Unknown Channel"),1)])}),128))])):(A(),p("div",bo,[m(g(x),{icon:g(ke),class:"no-stats-icon"},null,8,["icon"]),Ie.value?(A(),p("p",ho,z(Ie.value),1)):(A(),p("p",yo,"No users found"))]))]}),_:1})]}),_:1},8,["is-open"])])}}}),ko=W(xo,[["__scopeId","data-v-ef2fb31c"]]),wo={key:0},Co={key:0,class:"loading-state"},_o={key:1,class:"pairings-container"},Io={class:"header-section"},So={class:"stats-summary"},Do={class:"stat-item"},Mo={class:"stat-value"},Uo={class:"stat-item"},No={class:"stat-value engaged"},Po={class:"stat-item"},To={class:"stat-value"},Ao={class:"search-container"},zo={key:0,class:"no-results"},Eo={key:0},jo={key:1},Lo={key:2},Oo={key:3},Fo={key:4},Vo={key:5},Ro={key:0},Wo={key:1},Bo={class:"score-value"},Yo={key:2,class:"engaged-badge"},qo={key:2,class:"empty-state"},Go={key:1},Jo={key:0,class:"loading-state"},Ho={key:1,class:"magic-intros-list"},Zo=["title"],$o=["title"],Ko=["title"],Qo={key:2,class:"empty-state"},Xo=i({__name:"MagicIntrosPage",props:{isOpen:{type:Boolean},communityId:{},startDate:{},endDate:{}},emits:["didDismiss"],setup:function(e,a){var n=a.emit,t=e,r=n,i=s(!1),u=s([]),f=d(function(){return t.communityId}),k=d(function(){return t.startDate}),I=d(function(){return t.endDate}),S=s(""),M=s(!1),P=s([]),T=s(""),E=d(function(){return P.value.filter(function(e){return e.isEngaged}).length});d(function(){return 0===P.value.length?0:E.value/P.value.length*100});var L=d(function(){if(!T.value.trim())return P.value;var e=T.value.toLowerCase().trim();return P.value.filter(function(a){var n=K(a.user||{}).toLowerCase(),t=K(a.matchedUser||{}).toLowerCase(),r=(a.reasons||[]).join(" ").toLowerCase();return n.includes(e)||t.includes(e)||r.includes(e)})}),O=d(function(){return L.value.filter(function(e){return e.isEngaged}).length}),F=d(function(){return 0===L.value.length?0:O.value/L.value.length*100}),V=d(function(){if(!S.value)return"Magic Intro Pairings";var e=o(S.value.split("-").map(Number),3),a=e[0],n=e[1],t=e[2];return new Date(Date.UTC(a,n-1,t)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),R=d(function(){if(k.value)try{var e=new Date(k.value);return isNaN(e.getTime())?k.value:e.toISOString()}catch(a){return k.value}}),W=d(function(){if(I.value)try{var e=new Date(I.value);return isNaN(e.getTime())?I.value:e.toISOString()}catch(a){return I.value}});function B(){return q.apply(this,arguments)}function q(){return(q=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(f.value){e.n=1;break}return e.a(2);case 1:return i.value=!0,e.p=2,console.log("[MagicIntrosPage] Loading magic intros with:",{communityId:f.value,startDate:R.value,endDate:W.value}),e.n=3,Fe.getMagicIntrosByDate(f.value,R.value,W.value);case 3:a=e.v,console.log("[MagicIntrosPage] Received magic intros:",a),console.log("[MagicIntrosPage] Sample intro:",a[0]),a.forEach(function(e,a){var n,t,r;console.log("[MagicIntrosPage] Intro ".concat(a,":"),{date:e.date,dateDisplay:e.dateDisplay,totalPairings:e.totalPairings,engagedPairings:e.engagedPairings,engagementRate:e.engagementRate,formattedTotal:X(null!==(n=e.totalPairings)&&void 0!==n?n:0),formattedEngaged:X(null!==(t=e.engagedPairings)&&void 0!==t?t:0),formattedRate:ee(null!==(r=e.engagementRate)&&void 0!==r?r:0)})}),u.value=a.map(function(e){return{date:e.date,dateDisplay:e.dateDisplay,totalPairings:"number"==typeof e.totalPairings?e.totalPairings:0,engagedPairings:"number"==typeof e.engagedPairings?e.engagedPairings:0,engagementRate:"number"==typeof e.engagementRate?e.engagementRate:0}}),console.log("[MagicIntrosPage] Set magicIntros.value:",u.value),console.log("[MagicIntrosPage] First item after mapping:",u.value[0]),e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading magic intros:",n),u.value=[];case 5:return e.p=5,i.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function J(){return Z.apply(this,arguments)}function Z(){return(Z=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(f.value&&S.value){e.n=1;break}return e.a(2);case 1:return M.value=!0,e.p=2,e.n=3,Fe.getMagicIntroPairings(f.value,S.value,R.value,W.value);case 3:a=e.v,P.value=a,e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading pairings:",n),P.value=[];case 5:return e.p=5,M.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function $(){S.value="",P.value=[],T.value=""}function K(e){return e?e.fullName?e.fullName:e.fname&&e.lname?"".concat(e.fname," ").concat(e.lname):e.fname?e.fname:"Unknown":"Unknown"}function Q(){S.value="",P.value=[],T.value="",r("didDismiss")}function X(e){return null==e||"number"!=typeof e||isNaN(e)?"0":e.toLocaleString()}function ee(e){return null==e||"number"!=typeof e||isNaN(e)?"0%":"".concat(e.toFixed(1),"%")}return H(function(){return t.isOpen},function(e){e&&f.value&&B()},{immediate:!0}),H(function(){return t.communityId},function(e){t.isOpen&&e&&B()}),function(a,n){return A(),j(g(ae),{"is-open":e.isOpen,onDidDismiss:Q,onWillDismiss:Q,"backdrop-dismiss":!0,id:"magic-intros-list-modal"},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[S.value?(A(),j(g(oe),{key:0,slot:"start"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:$},{default:h(function(){return[m(g(x),{icon:g(Ce)},null,8,["icon"])]}),_:1})]}),_:1})):Y("",!0),m(g(re),null,{default:h(function(){return[y(z(S.value?"Magic Intro Pairings":"Magic Intros"),1)]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:Q},{default:h(function(){return[m(g(x),{icon:g(_e)},null,8,["icon"])]}),_:1})]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:n[0]||(n[0]=function(e){return S.value?J():B()})},{default:h(function(){return[m(g(x),{icon:g(Ie)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{fullscreen:!0,class:"magic-intros-content"},{default:h(function(){return[S.value?(A(),p("div",wo,[M.value?(A(),p("div",Co,[m(g(D)),n[2]||(n[2]=v("p",null,"Loading pairings...",-1))])):P.value.length>0?(A(),p("div",_o,[v("div",Io,[v("h2",null,z(V.value),1),v("div",So,[v("div",Do,[n[3]||(n[3]=v("span",{class:"stat-label"},"Total Pairings:",-1)),v("span",Mo,z(X(L.value.length)),1)]),v("div",Uo,[n[4]||(n[4]=v("span",{class:"stat-label"},"Engaged:",-1)),v("span",No,z(X(O.value)),1)]),v("div",Po,[n[5]||(n[5]=v("span",{class:"stat-label"},"Engagement Rate:",-1)),v("span",To,z(ee(F.value)),1)])])]),v("div",Ao,[m(g(w),{modelValue:T.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return T.value=e}),placeholder:"Search by user names or match reasons...",debounce:300,class:"pairings-searchbar"},null,8,["modelValue"])]),T.value&&0===L.value.length?(A(),p("div",zo,[v("p",null,'No pairings found matching "'+z(T.value)+'"',1)])):(A(),j(g(Se),{key:1,class:"pairings-list"},{default:h(function(){return[(A(!0),p(U,null,N(L.value,function(e,a){return A(),j(g(C),{key:e.id||a,class:ce(["pairing-item",{engaged:e.isEngaged}])},{default:h(function(){return[m(g(x),{icon:e.isEngaged?g(De):g(Me),slot:"start",class:ce(e.isEngaged?"icon-engaged":"icon-default")},null,8,["icon","class"]),m(g(_),null,{default:h(function(){var a,t,r,o;return[v("h2",null,[null!==(a=e.user)&&void 0!==a&&a.fullName||null!==(t=e.user)&&void 0!==t&&t.fname?(A(),p("span",Eo,z(K(e.user)),1)):e.userId?(A(),p("span",jo," User "+z(e.userId),1)):(A(),p("span",Lo,"Unknown User")),n[6]||(n[6]=v("span",{class:"separator"},"",-1)),null!==(r=e.matchedUser)&&void 0!==r&&r.fullName||null!==(o=e.matchedUser)&&void 0!==o&&o.fname?(A(),p("span",Oo,z(K(e.matchedUser)),1)):e.matchedUserId?(A(),p("span",Fo," User "+z(e.matchedUserId),1)):(A(),p("span",Vo,"Unknown User"))]),e.reasons&&e.reasons.length>0?(A(),p("p",Ro,[n[7]||(n[7]=v("span",{class:"reasons-label"},"Match reasons:",-1)),y(" "+z(e.reasons.join(", ")),1)])):Y("",!0),void 0!==e.score?(A(),p("p",Wo,[n[8]||(n[8]=v("span",{class:"score-label"},"Score:",-1)),v("span",Bo,z(e.score.toFixed(2)),1)])):Y("",!0),e.isEngaged?(A(),p("p",Yo,[m(g(x),{icon:g(ve)},null,8,["icon"]),n[9]||(n[9]=y(" Conversation started ",-1))])):Y("",!0)]}),_:2},1024)]}),_:2},1032,["class"])}),128))]}),_:1}))])):(A(),p("div",qo,[m(g(x),{icon:g(G),class:"empty-icon"},null,8,["icon"]),n[10]||(n[10]=v("h2",null,"No Pairings Found",-1)),n[11]||(n[11]=v("p",null,"No pairings were found for this magic intro date.",-1))]))])):(A(),p("div",Go,[i.value?(A(),p("div",Jo,[m(g(D)),n[12]||(n[12]=v("p",null,"Loading magic intros...",-1))])):u.value.length>0?(A(),p("div",Ho,[n[18]||(n[18]=v("div",{class:"list-header"},[v("h2",null,"Magic Intros by Date"),v("p",{class:"subtitle"},"Click on a date to view all pairings")],-1)),m(g(Se),null,{default:h(function(){return[(A(!0),p(U,null,N(u.value,function(e){return A(),j(g(C),{key:e.date,button:"",onClick:function(a){return n=e.date,void(f.value&&(S.value=n,J()));var n},class:"magic-intro-item"},{default:h(function(){return[m(g(x),{icon:g(be),slot:"start",class:"magic-icon"},null,8,["icon"]),m(g(_),null,{default:h(function(){return[v("h2",null,z(e.dateDisplay),1),v("p",null,[n[13]||(n[13]=v("span",{class:"stat-label"},"Total Pairings:",-1)),v("span",{class:"stat-value",title:"Raw: ".concat(e.totalPairings)},z(X(e.totalPairings)||"0"),9,Zo),n[14]||(n[14]=v("span",{class:"stat-separator"},"",-1)),n[15]||(n[15]=v("span",{class:"stat-label"},"Engaged:",-1)),v("span",{class:"stat-value engaged",title:"Raw: ".concat(e.engagedPairings)},z(X(e.engagedPairings)||"0"),9,$o),n[16]||(n[16]=v("span",{class:"stat-separator"},"",-1)),n[17]||(n[17]=v("span",{class:"stat-label"},"Engagement Rate:",-1)),v("span",{class:"stat-value",title:"Raw: ".concat(e.engagementRate)},z(ee(e.engagementRate)||"0%"),9,Ko)])]}),_:2},1024),m(g(x),{icon:g(Ue),slot:"end"},null,8,["icon"])]}),_:2},1032,["onClick"])}),128))]}),_:1})])):(A(),p("div",Qo,[m(g(x),{icon:g(be),class:"empty-icon"},null,8,["icon"]),n[19]||(n[19]=v("h2",null,"No Magic Intros Found",-1)),n[20]||(n[20]=v("p",null,"No Trova Magic intros were found for the selected time period.",-1))]))]))]}),_:1})]}),_:1},8,["is-open"])}}}),el=W(Xo,[["__scopeId","data-v-579d9f04"]]),al={key:0},nl={key:0,class:"loading-state"},tl={key:1,class:"users-list"},rl={class:"list-header"},ol={class:"subtitle"},ll={class:"search-container"},il={key:0,class:"no-results"},sl=["src","alt"],cl={key:0},ul={key:1,class:"user-skills"},dl={key:2,class:"empty-state"},fl={key:0},pl={key:1},vl={key:1},ml={key:0,class:"loading-state"},gl={key:1,class:"skills-list"},bl={class:"stat-value"},hl={key:2,class:"empty-state"},yl=i({__name:"SkillsListPage",props:{isOpen:{type:Boolean},communityId:{}},emits:["didDismiss"],setup:function(e,a){var n=a.emit,t=e,r=n,o=s(!1),i=s([]),u=s(""),f=s(!1),k=s([]),I=s(""),S=d(function(){if(!u.value)return 0;var e=i.value.find(function(e){return e.name===u.value});return(null==e?void 0:e.value)||0}),M=d(function(){return t.communityId});function P(e){return new Intl.NumberFormat("en-US").format(e)}function T(e){return e.fullName?e.fullName:e.fname&&e.lname?"".concat(e.fname," ").concat(e.lname):e.fname?e.fname:"User ".concat(e.id)}H(function(){return t.isOpen},function(e){e&&M.value&&(L(),u.value="",k.value=[])},{immediate:!0}),H(function(){return t.communityId},function(e){t.isOpen&&e&&L()});var E=d(function(){if(!I.value.trim())return k.value;var e=I.value.toLowerCase().trim();return k.value.filter(function(a){var n,t=T(a).toLowerCase(),r=(a.jobTitle||"").toLowerCase(),o=(a.currentEmployer||"").toLowerCase(),l="other"===(null===(n=u.value)||void 0===n?void 0:n.toLowerCase())?(a.skillsDisplay||(Array.isArray(a.skills)?a.skills.join(", "):a.skills)||"").toLowerCase():"";return t.includes(e)||r.includes(e)||o.includes(e)||l.includes(e)})});function L(){return O.apply(this,arguments)}function O(){return(O=c(l().m(function e(){var a,n,t;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(M.value){e.n=1;break}return e.a(2);case 1:return o.value=!0,e.p=2,e.n=3,Fe.getSkillsChartData(M.value,"all",!1,!0);case 3:if(0!==(a=e.v).length&&!a.some(function(e){var a;return"other"===(null===(a=e.name)||void 0===a?void 0:a.toLowerCase())})){e.n=7;break}return e.n=4,Fe.getSkillsChartData(M.value,"all",!0,!0);case 4:if(n=e.v,!n.some(function(e){var a;return"other"===(null===(a=e.name)||void 0===a?void 0:a.toLowerCase())})){e.n=6;break}return console.log('[SkillsListPage] Expanding "Other" category to show all individual skills'),e.n=5,Fe.getAllIndividualSkills(M.value);case 5:a=e.v,e.n=7;break;case 6:a=n;case 7:i.value=a.filter(function(e){var a;return"other"!==(null===(a=e.name)||void 0===a?void 0:a.toLowerCase())}).map(function(e){return{name:e.name,value:e.value||0}}).sort(function(e,a){return a.value-e.value}),e.n=9;break;case 8:e.p=8,t=e.v,console.error("Error loading skills:",t),i.value=[];case 9:return e.p=9,o.value=!1,e.f(9);case 10:return e.a(2)}},e,null,[[2,8,9,10]])}))).apply(this,arguments)}function F(){return V.apply(this,arguments)}function V(){return(V=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(M.value&&u.value){e.n=1;break}return e.a(2);case 1:return f.value=!0,e.p=2,e.n=3,Fe.getUsersBySkill(M.value,"general",u.value,!0);case 3:a=e.v,k.value=a,0===a.length&&console.warn('[SkillsListPage] No users found for skill "'.concat(u.value,'"')),e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading users:",n),k.value=[];case 5:return e.p=5,f.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function R(){u.value="",k.value=[],I.value=""}function W(){u.value="",k.value=[],I.value="",r("didDismiss")}return function(a,n){return A(),j(g(ae),{"is-open":e.isOpen,onDidDismiss:W,onWillDismiss:W,"backdrop-dismiss":!0,id:"skills-list-modal"},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[u.value?(A(),j(g(oe),{key:0,slot:"start"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:R},{default:h(function(){return[m(g(x),{icon:g(Ce)},null,8,["icon"])]}),_:1})]}),_:1})):Y("",!0),m(g(re),null,{default:h(function(){return[y(z(u.value?u.value:"Skills"),1)]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:W},{default:h(function(){return[m(g(x),{icon:g(_e)},null,8,["icon"])]}),_:1})]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:n[0]||(n[0]=function(e){return u.value?F():L()})},{default:h(function(){return[m(g(x),{icon:g(Ie)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{fullscreen:!0,class:"skills-content"},{default:h(function(){return[u.value?(A(),p("div",al,[f.value?(A(),p("div",nl,[m(g(D)),n[2]||(n[2]=v("p",null,"Loading users...",-1))])):k.value.length>0?(A(),p("div",tl,[v("div",rl,[v("h2",null,'Users with "'+z(u.value)+'"',1),v("p",ol,z(P(E.value.length))+" user"+z(1!==E.value.length?"s":"")+z(I.value?" (filtered from ".concat(k.value.length,")"):""),1)]),v("div",ll,[m(g(w),{modelValue:I.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return I.value=e}),placeholder:"Search by name, job title, or skills...",debounce:300,class:"user-searchbar"},null,8,["modelValue"])]),I.value&&0===E.value.length?(A(),p("div",il,[v("p",null,'No users found matching "'+z(I.value)+'"',1)])):(A(),j(g(Se),{key:1},{default:h(function(){return[(A(!0),p(U,null,N(E.value,function(e){return A(),j(g(C),{key:e.id,class:"user-item"},{default:h(function(){return[e.profilePicture?(A(),j(g(Ne),{key:0,slot:"start"},{default:h(function(){return[v("img",{src:e.profilePicture,alt:T(e)},null,8,sl)]}),_:2},1024)):(A(),j(g(x),{key:1,icon:g(Me),slot:"start",class:"avatar-icon"},null,8,["icon"])),m(g(_),null,{default:h(function(){var a;return[v("h2",null,z(T(e)),1),e.jobTitle||e.currentEmployer?(A(),p("p",cl,z([e.jobTitle,e.currentEmployer].filter(Boolean).join(" at ")),1)):Y("",!0),"other"===(null===(a=u.value)||void 0===a?void 0:a.toLowerCase())&&(e.skillsDisplay||e.skills)?(A(),p("p",ul,[n[3]||(n[3]=v("span",{class:"skills-label"},"Skills:",-1)),y(" "+z(e.skillsDisplay||(Array.isArray(e.skills)?e.skills.join(", "):e.skills)),1)])):Y("",!0)]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1}))])):(A(),p("div",dl,[m(g(x),{icon:g(G),class:"empty-icon"},null,8,["icon"]),n[4]||(n[4]=v("h2",null,"User List Unavailable",-1)),S.value>0?(A(),p("p",fl," Expected "+z(P(S.value))+" user"+z(1!==S.value?"s":"")+" with this skill, but the backend endpoint is not yet implemented. ",1)):(A(),p("p",pl," The backend endpoint for retrieving users by skill is not yet implemented. ")),n[5]||(n[5]=v("p",{class:"empty-hint"}," This feature requires backend support to display the user list. ",-1))]))])):(A(),p("div",vl,[o.value?(A(),p("div",ml,[m(g(D)),n[6]||(n[6]=v("p",null,"Loading skills...",-1))])):i.value.length>0?(A(),p("div",gl,[n[8]||(n[8]=v("div",{class:"list-header"},[v("h2",null,"All Skills"),v("p",{class:"subtitle"},"Click on a skill to view users who have it")],-1)),m(g(Se),null,{default:h(function(){return[(A(!0),p(U,null,N(i.value,function(e){return A(),j(g(C),{key:e.name,button:"",onClick:function(a){return n=e.name,void(M.value&&(u.value=n,F()));var n},class:"skill-item"},{default:h(function(){return[m(g(x),{icon:g(ye),slot:"start",class:"skill-icon"},null,8,["icon"]),m(g(_),null,{default:h(function(){return[v("h2",null,z(e.name),1),v("p",null,[n[7]||(n[7]=v("span",{class:"stat-label"},"Users:",-1)),v("span",bl,z(P(e.value||0)),1)])]}),_:2},1024),m(g(x),{icon:g(Ue),slot:"end"},null,8,["icon"])]}),_:2},1032,["onClick"])}),128))]}),_:1})])):(A(),p("div",hl,[m(g(x),{icon:g(ye),class:"empty-icon"},null,8,["icon"]),n[9]||(n[9]=v("h2",null,"No Skills Found",-1)),n[10]||(n[10]=v("p",null,"No skills were found for this community.",-1))]))]))]}),_:1})]}),_:1},8,["is-open"])}}}),xl=W(yl,[["__scopeId","data-v-e72e9bf4"]]),kl={key:0,class:"loading-state"},wl={key:1,class:"users-list"},Cl={class:"list-header"},_l={class:"subtitle"},Il={key:0},Sl={key:1},Dl={key:2},Ml={key:3,class:"count-warning"},Ul={class:"search-container"},Nl={key:0,class:"no-results"},Pl=["src","alt"],Tl={key:0},Al={key:1,class:"user-skills"},zl={key:2,class:"empty-state"},El={key:0},jl={key:1},Ll=i({__name:"MentorListPage",props:{isOpen:{type:Boolean},communityId:{},mentorType:{}},emits:["didDismiss"],setup:function(e,a){var n=a.emit,t=e,r=n,i=s(!0),u=s([]),k=s(""),I=s(0),S=d(function(){return"can"===t.mentorType?"Can Mentor":"Want Mentor"}),M=d(function(){if(!k.value.trim())return u.value;var e=k.value.toLowerCase().trim();return u.value.filter(function(a){var n=T(a).toLowerCase(),t=(a.jobTitle||"").toLowerCase(),r=(a.currentEmployer||"").toLowerCase(),o=L(a).join(" ").toLowerCase();return n.includes(e)||t.includes(e)||r.includes(e)||o.includes(e)})});function P(e){return new Intl.NumberFormat("en-US").format(e)}function T(e){return e.fullName?e.fullName:e.fname&&e.lname?"".concat(e.fname," ").concat(e.lname):e.fname?e.fname:"User ".concat(e.id)}function L(e){var a="can"===t.mentorType?e.mentorSkills:e.menteeSkills;return Array.isArray(a)?a:[]}function O(){r("didDismiss")}function F(){return V.apply(this,arguments)}function V(){return(V=c(l().m(function e(){var a,n,r,s,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.communityId){e.n=1;break}return e.a(2);case 1:return i.value=!0,e.p=2,e.n=3,Promise.all([Fe.getMentorMenteeUsers(t.communityId,t.mentorType),Fe.getMentorMenteeStats(t.communityId).catch(function(){return null})]);case 3:a=e.v,n=o(a,2),r=n[0],s=n[1],u.value=r,I.value=s?"can"===t.mentorType?s.usersCanMentor||0:s.usersWantMentor||0:r.length,e.n=5;break;case 4:e.p=4,c=e.v,console.error("Error loading users:",c),u.value=[],I.value=0;case 5:return e.p=5,i.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}return H(function(){return t.isOpen},function(e){e&&(k.value="",F())}),H(function(){return t.mentorType},function(){t.isOpen&&F()}),H(function(){return t.communityId},function(){t.isOpen&&F()}),f(function(){t.isOpen&&F()}),function(a,n){return A(),j(g(ae),{"is-open":e.isOpen,onDidDismiss:O,onWillDismiss:O,"backdrop-dismiss":!0,id:"mentor-list-modal"},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(re),null,{default:h(function(){return[y(z(S.value),1)]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:O},{default:h(function(){return[m(g(x),{icon:g(_e)},null,8,["icon"])]}),_:1})]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:F},{default:h(function(){return[m(g(x),{icon:g(Ie)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{fullscreen:!0,class:"mentor-list-content"},{default:h(function(){return[i.value?(A(),p("div",kl,[m(g(D)),v("p",null,"Loading "+z("can"===t.mentorType?"mentors":"mentees")+"...",1)])):u.value.length>0||I.value>0?(A(),p("div",wl,[v("div",Cl,[v("h2",null,z(S.value),1),v("p",_l,[I.value>0?(A(),p("span",Il,z(P(I.value))+" user"+z(1!==I.value?"s":""),1)):(A(),p("span",Sl,z(P(M.value.length))+" user"+z(1!==M.value.length?"s":""),1)),k.value&&M.value.length!==I.value?(A(),p("span",Dl," ("+z(P(M.value.length))+" shown)",1)):I.value>0&&M.value.length<I.value?(A(),p("span",Ml," ("+z(P(M.value.length))+" with profile data)",1)):Y("",!0)])]),v("div",Ul,[m(g(w),{modelValue:k.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return k.value=e}),placeholder:"Search by name, job title, or skills...",debounce:300,class:"user-searchbar"},null,8,["modelValue"])]),k.value&&0===M.value.length?(A(),p("div",Nl,[v("p",null,'No users found matching "'+z(k.value)+'"',1)])):(A(),j(g(Se),{key:1},{default:h(function(){return[(A(!0),p(U,null,N(M.value,function(e){return A(),j(g(C),{key:e.id,class:"user-item"},{default:h(function(){return[e.profilePicture?(A(),j(g(Ne),{key:0,slot:"start"},{default:h(function(){return[v("img",{src:e.profilePicture,alt:T(e)},null,8,Pl)]}),_:2},1024)):(A(),j(g(x),{key:1,icon:"can"===t.mentorType?g(he):g(xe),slot:"start",class:"avatar-icon"},null,8,["icon"])),m(g(_),null,{default:h(function(){return[v("h2",null,z(T(e)),1),e.jobTitle||e.currentEmployer?(A(),p("p",Tl,z([e.jobTitle,e.currentEmployer].filter(Boolean).join(" at ")),1)):Y("",!0),L(e).length>0?(A(),p("div",Al,[(A(!0),p(U,null,N(L(e),function(e){return A(),j(g(E),{key:e,size:"small",class:"skill-chip"},{default:h(function(){return[y(z(e),1)]}),_:2},1024)}),128))])):Y("",!0)]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1}))])):(A(),p("div",zl,[m(g(x),{icon:"can"===t.mentorType?g(he):g(xe),class:"empty-icon"},null,8,["icon"]),v("h2",null,"No "+z("can"===t.mentorType?"Mentors":"Mentees")+" Found",1),I.value>0?(A(),p("p",El," The backend reports "+z(I.value)+" "+z("can"===t.mentorType?"mentor":"mentee")+z(1!==I.value?"s":"")+", but no profile data is available to display them. ",1)):(A(),p("p",jl," No users "+z("can"===t.mentorType?"who can mentor":"who want to be mentored")+" were found. ",1))]))]}),_:1})]}),_:1},8,["is-open"])}}}),Ol=W(Ll,[["__scopeId","data-v-b03142b4"]]),Fl={key:0},Vl={key:0,class:"loading-state"},Rl={key:1,class:"pairings-container"},Wl={class:"header-section"},Bl={class:"stats-summary"},Yl={class:"stat-item"},ql={class:"stat-value"},Gl={class:"stat-item"},Jl={class:"stat-value engaged"},Hl={class:"stat-item"},Zl={class:"stat-value"},$l={class:"search-container"},Kl={key:0,class:"no-results"},Ql={key:0},Xl={key:1},ei={key:2},ai={key:3},ni={key:4},ti={key:5},ri={key:0},oi={key:1},li={class:"score-value"},ii={key:2,class:"engaged-badge"},si={key:2,class:"empty-state"},ci={key:1},ui={key:0,class:"loading-state"},di={key:1,class:"channel-pairings-list"},fi={key:0},pi=["title"],vi=["title"],mi=["title"],gi={key:2,class:"empty-state"},bi=i({__name:"ChannelPairingsPage",props:{isOpen:{type:Boolean},communityId:{},startDate:{},endDate:{}},emits:["didDismiss"],setup:function(e,a){var n=a.emit,t=e,r=n,i=s(!1),u=s([]),f=d(function(){return t.communityId}),k=d(function(){return t.startDate}),I=d(function(){return t.endDate}),S=s(""),M=s(!1),P=s([]),T=s(""),E=d(function(){return P.value.filter(function(e){return e.isEngaged}).length});d(function(){return 0===P.value.length?0:E.value/P.value.length*100});var L=d(function(){if(!T.value.trim())return P.value;var e=T.value.toLowerCase().trim();return P.value.filter(function(a){var n=Q(a.user||{}).toLowerCase(),t=Q(a.matchedUser||{}).toLowerCase(),r=(a.reasons||[]).join(" ").toLowerCase();return n.includes(e)||t.includes(e)||r.includes(e)})}),O=d(function(){return L.value.filter(function(e){return e.isEngaged}).length}),F=d(function(){return 0===L.value.length?0:O.value/L.value.length*100}),V=d(function(){if(!S.value)return"Channel Pairing Pairings";var e=o(S.value.split("-").map(Number),3),a=e[0],n=e[1],t=e[2],r=new Date(Date.UTC(a,n-1,t)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=new Set;if(P.value.forEach(function(e){e.channelName&&l.add(e.channelName)}),1===l.size){var i=Array.from(l)[0];return"".concat(i," - ").concat(r)}return r}),R=d(function(){if(k.value)try{var e=new Date(k.value);return isNaN(e.getTime())?k.value:e.toISOString()}catch(a){return k.value}}),W=d(function(){if(I.value)try{var e=new Date(I.value);return isNaN(e.getTime())?I.value:e.toISOString()}catch(a){return I.value}});function B(){return q.apply(this,arguments)}function q(){return(q=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(f.value){e.n=1;break}return e.a(2);case 1:return i.value=!0,e.p=2,console.log("[ChannelPairingsPage] Loading channel pairings with:",{communityId:f.value,startDate:R.value,endDate:W.value}),e.n=3,Fe.getChannelPairingsByDate(f.value,R.value,W.value);case 3:a=e.v,console.log("[ChannelPairingsPage] Received channel pairings:",a),u.value=a.map(function(e){return{date:e.date,dateDisplay:e.dateDisplay,channelName:e.channelName||null,totalPairings:"number"==typeof e.totalPairings?e.totalPairings:0,engagedPairings:"number"==typeof e.engagedPairings?e.engagedPairings:0,engagementRate:"number"==typeof e.engagementRate?e.engagementRate:0}}),e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading channel pairings:",n),u.value=[];case 5:return e.p=5,i.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(f.value&&S.value){e.n=1;break}return e.a(2);case 1:return M.value=!0,e.p=2,e.n=3,Fe.getChannelPairingPairings(f.value,S.value,R.value,W.value);case 3:a=e.v,P.value=a,e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading pairings:",n),P.value=[];case 5:return e.p=5,M.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function K(){S.value="",P.value=[],T.value=""}function Q(e){return e?e.fullName?e.fullName:e.fname&&e.lname?"".concat(e.fname," ").concat(e.lname):e.fname?e.fname:"Unknown":"Unknown"}function X(){S.value="",P.value=[],T.value="",r("didDismiss")}function ee(e){return null==e||"number"!=typeof e||isNaN(e)?"0":e.toLocaleString()}function le(e){return null==e||"number"!=typeof e||isNaN(e)?"0%":"".concat(e.toFixed(1),"%")}return H(function(){return t.isOpen},function(e){e&&f.value&&B()},{immediate:!0}),H(function(){return t.communityId},function(e){t.isOpen&&e&&B()}),function(a,n){return A(),j(g(ae),{"is-open":e.isOpen,onDidDismiss:X,onWillDismiss:X,"backdrop-dismiss":!0,id:"channel-pairings-list-modal"},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[S.value?(A(),j(g(oe),{key:0,slot:"start"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:K},{default:h(function(){return[m(g(x),{icon:g(Ce)},null,8,["icon"])]}),_:1})]}),_:1})):Y("",!0),m(g(re),null,{default:h(function(){return[y(z(S.value?"Channel Pairing Pairings":"Channel Pairings"),1)]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:X},{default:h(function(){return[m(g(x),{icon:g(_e)},null,8,["icon"])]}),_:1})]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:n[0]||(n[0]=function(e){return S.value?Z():B()})},{default:h(function(){return[m(g(x),{icon:g(Ie)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{fullscreen:!0,class:"channel-pairings-content"},{default:h(function(){return[S.value?(A(),p("div",Fl,[M.value?(A(),p("div",Vl,[m(g(D)),n[2]||(n[2]=v("p",null,"Loading pairings...",-1))])):P.value.length>0?(A(),p("div",Rl,[v("div",Wl,[v("h2",null,z(V.value),1),v("div",Bl,[v("div",Yl,[n[3]||(n[3]=v("span",{class:"stat-label"},"Total Pairings:",-1)),v("span",ql,z(ee(L.value.length)),1)]),v("div",Gl,[n[4]||(n[4]=v("span",{class:"stat-label"},"Engaged:",-1)),v("span",Jl,z(ee(O.value)),1)]),v("div",Hl,[n[5]||(n[5]=v("span",{class:"stat-label"},"Engagement Rate:",-1)),v("span",Zl,z(le(F.value)),1)])])]),v("div",$l,[m(g(w),{modelValue:T.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return T.value=e}),placeholder:"Search by user names or match reasons...",debounce:300,class:"pairings-searchbar"},null,8,["modelValue"])]),T.value&&0===L.value.length?(A(),p("div",Kl,[v("p",null,'No pairings found matching "'+z(T.value)+'"',1)])):(A(),j(g(Se),{key:1,class:"pairings-list"},{default:h(function(){return[(A(!0),p(U,null,N(L.value,function(e,a){return A(),j(g(C),{key:e.id||a,class:ce(["pairing-item",{engaged:e.isEngaged}])},{default:h(function(){return[m(g(x),{icon:e.isEngaged?g(De):g(Me),slot:"start",class:ce(e.isEngaged?"icon-engaged":"icon-default")},null,8,["icon","class"]),m(g(_),null,{default:h(function(){var a,t,r,o;return[v("h2",null,[null!==(a=e.user)&&void 0!==a&&a.fullName||null!==(t=e.user)&&void 0!==t&&t.fname?(A(),p("span",Ql,z(Q(e.user)),1)):e.userId?(A(),p("span",Xl," User "+z(e.userId),1)):(A(),p("span",ei,"Unknown User")),n[6]||(n[6]=v("span",{class:"separator"},"",-1)),null!==(r=e.matchedUser)&&void 0!==r&&r.fullName||null!==(o=e.matchedUser)&&void 0!==o&&o.fname?(A(),p("span",ai,z(Q(e.matchedUser)),1)):e.matchedUserId?(A(),p("span",ni," User "+z(e.matchedUserId),1)):(A(),p("span",ti,"Unknown User"))]),e.reasons&&e.reasons.length>0?(A(),p("p",ri,[n[7]||(n[7]=v("span",{class:"reasons-label"},"Match reasons:",-1)),y(" "+z(e.reasons.join(", ")),1)])):Y("",!0),void 0!==e.score?(A(),p("p",oi,[n[8]||(n[8]=v("span",{class:"score-label"},"Score:",-1)),v("span",li,z(e.score.toFixed(2)),1)])):Y("",!0),e.isEngaged?(A(),p("p",ii,[m(g(x),{icon:g(ve)},null,8,["icon"]),n[9]||(n[9]=y(" Conversation started ",-1))])):Y("",!0)]}),_:2},1024)]}),_:2},1032,["class"])}),128))]}),_:1}))])):(A(),p("div",si,[m(g(x),{icon:g(G),class:"empty-icon"},null,8,["icon"]),n[10]||(n[10]=v("h2",null,"No Pairings Found",-1)),n[11]||(n[11]=v("p",null,"No pairings were found for this channel pairing date.",-1))]))])):(A(),p("div",ci,[i.value?(A(),p("div",ui,[m(g(D)),n[12]||(n[12]=v("p",null,"Loading channel pairings...",-1))])):u.value.length>0?(A(),p("div",di,[n[18]||(n[18]=v("div",{class:"list-header"},[v("h2",null,"Channel Pairings by Date"),v("p",{class:"subtitle"},"Click on a date to view all pairings")],-1)),m(g(Se),null,{default:h(function(){return[(A(!0),p(U,null,N(u.value,function(e){return A(),j(g(C),{key:e.date,button:"",onClick:function(a){return n=e.date,void(f.value&&(S.value=n,Z()));var n},class:"channel-pairing-item"},{default:h(function(){return[m(g(x),{icon:g(J),slot:"start",class:"channel-icon"},null,8,["icon"]),m(g(_),null,{default:h(function(){return[v("h2",null,[e.channelName?(A(),p("span",fi,z(e.channelName)+" - ",1)):Y("",!0),y(z(e.dateDisplay),1)]),v("p",null,[n[13]||(n[13]=v("span",{class:"stat-label"},"Total Pairings:",-1)),v("span",{class:"stat-value",title:"Raw: ".concat(e.totalPairings)},z(ee(e.totalPairings)||"0"),9,pi),n[14]||(n[14]=v("span",{class:"stat-separator"},"",-1)),n[15]||(n[15]=v("span",{class:"stat-label"},"Engaged:",-1)),v("span",{class:"stat-value engaged",title:"Raw: ".concat(e.engagedPairings)},z(ee(e.engagedPairings)||"0"),9,vi),n[16]||(n[16]=v("span",{class:"stat-separator"},"",-1)),n[17]||(n[17]=v("span",{class:"stat-label"},"Engagement Rate:",-1)),v("span",{class:"stat-value",title:"Raw: ".concat(e.engagementRate)},z(le(e.engagementRate)||"0%"),9,mi)])]}),_:2},1024),m(g(x),{icon:g(Ue),slot:"end"},null,8,["icon"])]}),_:2},1032,["onClick"])}),128))]}),_:1})])):(A(),p("div",gi,[m(g(x),{icon:g(J),class:"empty-icon"},null,8,["icon"]),n[19]||(n[19]=v("h2",null,"No Channel Pairings Found",-1)),n[20]||(n[20]=v("p",null,"No channel pairings were found for the selected time period.",-1))]))]))]}),_:1})]}),_:1},8,["is-open"])}}}),hi=W(bi,[["__scopeId","data-v-01142676"]]),yi={key:0},xi={key:0,class:"loading-state"},ki={key:1,class:"matches-container"},wi={class:"header-section"},Ci={class:"stats-summary"},_i={class:"stat-item"},Ii={class:"stat-value"},Si={class:"search-container"},Di={key:0,class:"no-results"},Mi={class:"stat-value"},Ui={class:"role-info"},Ni={key:0,class:"role-badge mentor-badge"},Pi={key:1,class:"role-badge mentee-badge"},Ti={key:2,class:"role-badge mentee-badge"},Ai={key:3,class:"role-badge mentor-badge"},zi={key:2,class:"empty-state"},Ei={key:1},ji={key:0,class:"loading-state"},Li={key:1,class:"users-list"},Oi={class:"search-container"},Fi={key:0,class:"no-results"},Vi={class:"stat-value"},Ri={key:2,class:"empty-state"},Wi={key:0,class:"error-message"},Bi={key:1},Yi=i({__name:"MentorMenteeMatchesPage",props:{isOpen:{type:Boolean},communityId:{},startDate:{},endDate:{}},emits:["didDismiss"],setup:function(e,a){var n=a.emit,t=e,r=n,o=s(!1),i=s(!1),f=s([]),k=d(function(){return t.communityId}),I=d(function(){return t.startDate}),S=d(function(){return t.endDate}),M=s(null),P=s(""),T=s(!1),E=s([]),L=s(""),O=d(function(){if(!L.value.trim())return f.value;var e=L.value.toLowerCase().trim();return f.value.filter(function(a){return a.userName.toLowerCase().includes(e)})}),F=d(function(){if(!L.value.trim())return E.value;var e=L.value.toLowerCase().trim();return E.value.filter(function(a){return a.matchedUserName.toLowerCase().includes(e)})}),V=d(function(){if(I.value)try{var e=new Date(I.value);return isNaN(e.getTime())?I.value:e.toISOString()}catch(a){return I.value}}),R=d(function(){if(S.value)try{var e=new Date(S.value);return isNaN(e.getTime())?S.value:e.toISOString()}catch(a){return S.value}});function W(){return B.apply(this,arguments)}function B(){return(B=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(k.value){e.n=1;break}return e.a(2);case 1:return o.value=!0,i.value=!1,M.value=null,P.value="",e.p=2,console.log("[MentorMenteeMatchesPage] Loading users with mentor/mentee matches:",{communityId:k.value,startDate:V.value,endDate:R.value}),e.n=3,Fe.getMentorMenteeUsersWithMatches(k.value,V.value,R.value);case 3:a=e.v,console.log("[MentorMenteeMatchesPage] Received users:",a),f.value=a,e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading users:",n),f.value=[];case 5:return e.p=5,o.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function q(){return J.apply(this,arguments)}function J(){return(J=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(k.value&&M.value){e.n=1;break}return e.a(2);case 1:return T.value=!0,e.p=2,e.n=3,Fe.getMentorMenteeMatchesForUser(k.value,M.value,V.value,R.value);case 3:a=e.v,E.value=a,L.value="",e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading user matches:",n),E.value=[];case 5:return e.p=5,T.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function Z(){M.value=null,P.value="",E.value=[],L.value=""}function $(){M.value=null,P.value="",E.value=[],L.value="",r("didDismiss")}function K(e){return null==e||"number"!=typeof e||isNaN(e)?"0":e.toLocaleString()}function Q(e){if(!e)return"Unknown date";try{var a=new Date(e);return isNaN(a.getTime())?"Invalid date":a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(n){return"Invalid date"}}return H(function(){return t.isOpen},function(e){e&&k.value&&(M.value?q():W())},{immediate:!0}),H(function(){return t.communityId},function(e){t.isOpen&&e&&(M.value?q():W())}),function(a,n){return A(),j(g(ae),{"is-open":e.isOpen,onDidDismiss:$,onWillDismiss:$,"backdrop-dismiss":!0,id:"mentor-mentee-matches-list-modal"},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[M.value?(A(),j(g(oe),{key:0,slot:"start"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:Z},{default:h(function(){return[m(g(x),{icon:g(Ce)},null,8,["icon"])]}),_:1})]}),_:1})):Y("",!0),m(g(re),null,{default:h(function(){return[y(z((M.value,"Mentor/Mentee Matches")),1)]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:$},{default:h(function(){return[m(g(x),{icon:g(_e)},null,8,["icon"])]}),_:1})]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:n[0]||(n[0]=function(e){return M.value?q():W()})},{default:h(function(){return[m(g(x),{icon:g(Ie)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{fullscreen:!0,class:"mentor-mentee-matches-content"},{default:h(function(){return[M.value?(A(),p("div",yi,[T.value?(A(),p("div",xi,[m(g(D)),n[3]||(n[3]=v("p",null,"Loading matches...",-1))])):E.value.length>0?(A(),p("div",ki,[v("div",wi,[v("h2",null,z(P.value),1),v("div",Ci,[v("div",_i,[n[4]||(n[4]=v("span",{class:"stat-label"},"Total Matches:",-1)),v("span",Ii,z(K(E.value.length)),1)])])]),v("div",Si,[m(g(w),{modelValue:L.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return L.value=e}),placeholder:"Search by matched user names...",debounce:300,class:"matches-searchbar"},null,8,["modelValue"])]),L.value&&0===F.value.length?(A(),p("div",Di,[v("p",null,'No matches found matching "'+z(L.value)+'"',1)])):(A(),j(g(Se),{key:1,class:"matches-list"},{default:h(function(){return[(A(!0),p(U,null,N(F.value,function(e,a){return A(),j(g(C),{key:e.id||a,class:"match-item"},{default:h(function(){return[m(g(x),{icon:g(Me),slot:"start",class:"icon-default"},null,8,["icon"]),m(g(_),null,{default:h(function(){return[v("h2",null,[v("span",null,z(e.matchedUserName),1)]),v("p",null,[n[5]||(n[5]=v("span",{class:"stat-label"},"Matched:",-1)),v("span",Mi,z(Q(e.createdAt)),1)]),v("p",Ui,[e.userWasMentor?(A(),p("span",Ni,[m(g(x),{icon:g(he)},null,8,["icon"]),n[6]||(n[6]=y(" You were ",-1)),n[7]||(n[7]=v("strong",null,"Mentor",-1))])):Y("",!0),e.userWasMentee?(A(),p("span",Pi,[m(g(x),{icon:g(Me)},null,8,["icon"]),n[8]||(n[8]=y(" You were ",-1)),n[9]||(n[9]=v("strong",null,"Mentee",-1))])):Y("",!0),n[12]||(n[12]=v("span",{class:"role-separator"},"",-1)),e.userWasMentor?(A(),p("span",Ti,[m(g(x),{icon:g(Me)},null,8,["icon"]),y(" "+z(e.matchedUserName)+" was ",1),n[10]||(n[10]=v("strong",null,"Mentee",-1))])):Y("",!0),e.userWasMentee?(A(),p("span",Ai,[m(g(x),{icon:g(he)},null,8,["icon"]),y(" "+z(e.matchedUserName)+" was ",1),n[11]||(n[11]=v("strong",null,"Mentor",-1))])):Y("",!0)])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1}))])):(A(),p("div",zi,[m(g(x),{icon:g(G),class:"empty-icon"},null,8,["icon"]),n[13]||(n[13]=v("h2",null,"No Matches Found",-1)),n[14]||(n[14]=v("p",null,"No mentor/mentee matches were found for this user.",-1))]))])):(A(),p("div",Ei,[o.value?(A(),p("div",ji,[m(g(D)),n[15]||(n[15]=v("p",null,"Loading mentor/mentee matches...",-1))])):f.value.length>0?(A(),p("div",Li,[n[17]||(n[17]=v("div",{class:"list-header"},[v("h2",null,"Users with Mentor/Mentee Matches"),v("p",{class:"subtitle"},"Click on a user to view their matches")],-1)),v("div",Oi,[m(g(w),{modelValue:L.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return L.value=e}),placeholder:"Search by user name...",debounce:300,class:"users-searchbar"},null,8,["modelValue"])]),L.value&&0===O.value.length?(A(),p("div",Fi,[v("p",null,'No users found matching "'+z(L.value)+'"',1)])):(A(),j(g(Se),{key:1},{default:h(function(){return[(A(!0),p(U,null,N(O.value,function(e){return A(),j(g(C),{key:e.userId,button:"",onClick:function(a){return n=e.userId,t=e.userName,M.value=n,P.value=t,L.value="",void q();var n,t},class:"user-item"},{default:h(function(){return[m(g(x),{icon:g(he),slot:"start",class:"user-icon"},null,8,["icon"]),m(g(_),null,{default:h(function(){return[v("h2",null,z(e.userName),1),v("p",null,[n[16]||(n[16]=v("span",{class:"stat-label"},"Matches:",-1)),v("span",Vi,z(K(e.matchCount)),1)])]}),_:2},1024),m(g(x),{icon:g(Ue),slot:"end"},null,8,["icon"])]}),_:2},1032,["onClick"])}),128))]}),_:1}))])):(A(),p("div",Ri,[m(g(x),{icon:g(he),class:"empty-icon"},null,8,["icon"]),n[19]||(n[19]=v("h2",null,"No Mentor/Mentee Matches Found",-1)),i.value?(A(),p("p",Wi,u(n[18]||(n[18]=[v("strong",null,"No Matches Found:",-1),y(" No mentor/mentee matches were found for the selected time period. This could mean: (1) No matches exist in the date range, (2) The matches are outside the selected date range, or (3) There may be a data filtering issue. Check the console for more details. ",-1)])))):(A(),p("p",Bi,"No mentor/mentee matches were found for the selected time period."))]))]))]}),_:1})]}),_:1},8,["is-open"])}}}),qi=W(Yi,[["__scopeId","data-v-a6dec1ce"]]),Gi={key:0},Ji={key:0,class:"loading-state"},Hi={key:1,class:"connections-container"},Zi={class:"header-section"},$i={class:"stats-summary"},Ki={class:"stat-item"},Qi={class:"stat-value"},Xi={class:"search-container"},es={key:0,class:"no-results"},as={class:"stat-value"},ns={key:0,class:"match-type"},ts={class:"stat-value"},rs={key:2,class:"empty-state"},os={key:1},ls={key:0,class:"loading-state"},is={key:1,class:"users-list"},ss={class:"search-container"},cs={key:0,class:"no-results"},us={class:"stat-value"},ds={key:2,class:"empty-state"},fs=i({__name:"ConnectionsPage",props:{isOpen:{type:Boolean},communityId:{},startDate:{},endDate:{}},emits:["didDismiss"],setup:function(e,a){var n=a.emit,t=e,r=n,o=s(!1),i=s([]),u=d(function(){return t.communityId}),f=d(function(){return t.startDate}),k=d(function(){return t.endDate}),I=s(null),S=s(""),M=s(!1),P=s([]),T=s(""),E=d(function(){if(!T.value.trim())return i.value;var e=T.value.toLowerCase().trim();return i.value.filter(function(a){return a.userName.toLowerCase().includes(e)})}),L=d(function(){if(!T.value.trim())return P.value;var e=T.value.toLowerCase().trim();return P.value.filter(function(a){return a.connectedUserName.toLowerCase().includes(e)})}),O=d(function(){if(f.value)try{var e=new Date(f.value);return isNaN(e.getTime())?f.value:e.toISOString()}catch(a){return f.value}}),F=d(function(){if(k.value)try{var e=new Date(k.value);return isNaN(e.getTime())?k.value:e.toISOString()}catch(a){return k.value}});function V(){return R.apply(this,arguments)}function R(){return(R=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u.value){e.n=1;break}return e.a(2);case 1:return o.value=!0,I.value=null,S.value="",e.p=2,console.log("[ConnectionsPage] Loading users with connections:",{communityId:u.value,startDate:O.value,endDate:F.value}),e.n=3,Fe.getUsersWithConnections(u.value,O.value,F.value);case 3:a=e.v,console.log("[ConnectionsPage] Received users:",a),i.value=a,e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading users:",n),i.value=[];case 5:return e.p=5,o.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function W(){return B.apply(this,arguments)}function B(){return(B=c(l().m(function e(){var a,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(u.value&&I.value){e.n=1;break}return e.a(2);case 1:return M.value=!0,e.p=2,e.n=3,Fe.getConnectionsForUser(u.value,I.value,O.value,F.value);case 3:a=e.v,P.value=a,T.value="",e.n=5;break;case 4:e.p=4,n=e.v,console.error("Error loading user connections:",n),P.value=[];case 5:return e.p=5,M.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function q(){I.value=null,S.value="",P.value=[],T.value=""}function J(){I.value=null,S.value="",P.value=[],T.value="",r("didDismiss")}function Z(e){return null==e||"number"!=typeof e||isNaN(e)?"0":e.toLocaleString()}function $(e){if(!e)return"Unknown date";try{var a=new Date(e);return isNaN(a.getTime())?"Invalid date":a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(n){return"Invalid date"}}return H(function(){return t.isOpen},function(e){e&&u.value&&(I.value?W():V())},{immediate:!0}),H(function(){return t.communityId},function(e){t.isOpen&&e&&(I.value?W():V())}),function(a,n){return A(),j(g(ae),{"is-open":e.isOpen,onDidDismiss:J,onWillDismiss:J,"backdrop-dismiss":!0,id:"connections-list-modal"},{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[I.value?(A(),j(g(oe),{key:0,slot:"start"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:q},{default:h(function(){return[m(g(x),{icon:g(Ce)},null,8,["icon"])]}),_:1})]}),_:1})):Y("",!0),m(g(re),null,{default:h(function(){return[y(z(I.value?"".concat(S.value,"'s Connections"):"Introductions Created"),1)]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:J},{default:h(function(){return[m(g(x),{icon:g(_e)},null,8,["icon"])]}),_:1})]}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{fill:"clear",onClick:n[0]||(n[0]=function(e){return I.value?W():V()})},{default:h(function(){return[m(g(x),{icon:g(Ie)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{fullscreen:!0,class:"connections-content"},{default:h(function(){return[I.value?(A(),p("div",Gi,[M.value?(A(),p("div",Ji,[m(g(D)),n[3]||(n[3]=v("p",null,"Loading connections...",-1))])):P.value.length>0?(A(),p("div",Hi,[v("div",Zi,[v("h2",null,z(S.value),1),v("div",$i,[v("div",Ki,[n[4]||(n[4]=v("span",{class:"stat-label"},"Total Connections:",-1)),v("span",Qi,z(Z(P.value.length)),1)])])]),v("div",Xi,[m(g(w),{modelValue:T.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return T.value=e}),placeholder:"Search by connected user names...",debounce:300,class:"connections-searchbar"},null,8,["modelValue"])]),T.value&&0===L.value.length?(A(),p("div",es,[v("p",null,'No connections found matching "'+z(T.value)+'"',1)])):(A(),j(g(Se),{key:1,class:"connections-list"},{default:h(function(){return[(A(!0),p(U,null,N(L.value,function(e,a){return A(),j(g(C),{key:e.id||a,class:"connection-item"},{default:h(function(){return[m(g(x),{icon:g(Me),slot:"start",class:"icon-default"},null,8,["icon"]),m(g(_),null,{default:h(function(){return[v("h2",null,z(e.connectedUserName),1),v("p",null,[n[5]||(n[5]=v("span",{class:"stat-label"},"Connected:",-1)),v("span",as,z($(e.createdAt)),1)]),e.matchType?(A(),p("p",ns,[n[6]||(n[6]=v("span",{class:"stat-label"},"Type:",-1)),v("span",ts,z((a=e.matchType,a?a.split(/[-_]/).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" "):"Unknown")),1)])):Y("",!0)];var a}),_:2},1024)]}),_:2},1024)}),128))]}),_:1}))])):(A(),p("div",rs,[m(g(x),{icon:g(G),class:"empty-icon"},null,8,["icon"]),n[7]||(n[7]=v("h2",null,"No Connections Found",-1)),n[8]||(n[8]=v("p",null,"No connections were found for this user.",-1))]))])):(A(),p("div",os,[o.value?(A(),p("div",ls,[m(g(D)),n[9]||(n[9]=v("p",null,"Loading connections...",-1))])):i.value.length>0?(A(),p("div",is,[n[11]||(n[11]=v("div",{class:"list-header"},[v("h2",null,"Users with Connections"),v("p",{class:"subtitle"},"Click on a user to view their connections")],-1)),v("div",ss,[m(g(w),{modelValue:T.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return T.value=e}),placeholder:"Search by user name...",debounce:300,class:"users-searchbar"},null,8,["modelValue"])]),T.value&&0===E.value.length?(A(),p("div",cs,[v("p",null,'No users found matching "'+z(T.value)+'"',1)])):(A(),j(g(Se),{key:1},{default:h(function(){return[(A(!0),p(U,null,N(E.value,function(e){return A(),j(g(C),{key:e.userId,button:"",onClick:function(a){return n=e.userId,t=e.userName,I.value=n,S.value=t,T.value="",void W();var n,t},class:"user-item"},{default:h(function(){return[m(g(x),{icon:g(G),slot:"start",class:"user-icon"},null,8,["icon"]),m(g(_),null,{default:h(function(){return[v("h2",null,z(e.userName),1),v("p",null,[n[10]||(n[10]=v("span",{class:"stat-label"},"Connections:",-1)),v("span",us,z(Z(e.connectionCount)),1)])]}),_:2},1024),m(g(x),{icon:g(Ue),slot:"end"},null,8,["icon"])]}),_:2},1032,["onClick"])}),128))]}),_:1}))])):(A(),p("div",ds,[m(g(x),{icon:g(G),class:"empty-icon"},null,8,["icon"]),n[12]||(n[12]=v("h2",null,"No Connections Found",-1)),n[13]||(n[13]=v("p",null,"No connections were found for the selected time period.",-1))]))]))]}),_:1})]}),_:1},8,["is-open"])}}}),ps=W(fs,[["__scopeId","data-v-635d2dd4"]]),vs={key:0,class:"access-denied"},ms={key:1,class:"loading-container"},gs={key:2,class:"admin-console-container"},bs={key:0,class:"community-selector-section"},hs={key:0,style:{"font-weight":"bold",color:"#3880ff"}},ys={key:1},xs={class:"tab-content"},ks={key:0,class:"tab-panel"},ws={key:1,class:"tab-panel"},Cs={key:2,class:"tab-panel"},_s={key:3,class:"tab-panel"},Is=i({__name:"AdminConsolePage",setup:function(e){var a=P(),t=Ae(),r=Pe(),o=Te(),i=s(!0),k=s(!1),w=s(!1),M=s("stats"),T=s([]),E=s(null),L=s(!1),O=s(void 0),F=s(void 0),V=s(!1),R=s(!1),W=s("can"),B=s(!1),q=s(void 0),G=s(void 0),J=s(!1),H=s(void 0),Z=s(void 0),$=s(!1),K=s(void 0),Q=s(void 0);function X(){var e=t.query;if(e.communityId){var a=Number(e.communityId);if(!isNaN(a))return console.log("[AdminConsole] Using communityId from query params:",a),a}var n=ze.getCurrentValidation();if(null!=n&&n.communityId)return console.log("[AdminConsole] Using communityId from validated Slack session:",n.communityId),n.communityId;if(t.params.communityId){var r=Number(t.params.communityId);if(!isNaN(r))return console.log("[AdminConsole] Using communityId from route params:",r),r}return o.currentCommunityId?(console.log("[AdminConsole] Using communityId from store:",o.currentCommunityId),o.currentCommunityId):(console.warn("[AdminConsole] No communityId found in query params, session, route params, or store"),null)}function ee(){return ae.apply(this,arguments)}function ae(){return(ae=c(l().m(function e(){var t,s,c,u,d,f,p,v,m,g;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(t=r.user)&&void 0!==t&&t.id){e.n=1;break}return k.value=!1,i.value=!1,e.a(2);case 1:if(w.value=Fe.isSuperAdmin(r.user.id),s=X(),!w.value){e.n=3;break}return k.value=!0,e.n=2,le();case 2:return s?E.value=s:T.value.length>0&&(E.value=T.value[0].id),i.value=!1,e.a(2);case 3:if(s){e.n=4;break}return k.value=!1,i.value=!1,e.a(2);case 4:if(e.p=4,c=o.getCommunityById(s)){e.n=7;break}return e.n=5,we(function(){return n.import("./index-legacy-D3_iwoP0.js").then(function(e){return e.bY})},void 0);case 5:return u=e.v,d=u.communityService,e.n=6,d.getCommunityById(s);case 6:c=e.v;case 7:return e.n=8,Fe.isManager(s,r.user.id,c||void 0);case 8:if(k.value=e.v,!k.value){e.n=14;break}if(E.value=s,!(f=o.getCommunityById(s))){e.n=9;break}o.setCurrentCommunity(f),console.log("[AdminConsole] Set community in store:",s,f.name),e.n=12;break;case 9:return e.n=10,we(function(){return n.import("./index-legacy-D3_iwoP0.js").then(function(e){return e.bY})},void 0);case 10:return p=e.v,v=p.communityService,e.n=11,v.getCommunityById(s);case 11:(m=e.v)&&(o.setCurrentCommunity(m),console.log("[AdminConsole] Loaded and set community in store:",s,m.name));case 12:return e.n=13,le();case 13:e.n=15;break;case 14:setTimeout(function(){a.push("/tabs/home")},2e3);case 15:e.n=17;break;case 16:e.p=16,g=e.v,console.error("Error checking manager access:",g),k.value=!1,setTimeout(function(){a.push("/tabs/home")},2e3);case 17:return e.p=17,i.value=!1,e.f(17);case 18:return e.a(2)}},e,null,[[4,16,17,18]])}))).apply(this,arguments)}function le(){return se.apply(this,arguments)}function se(){return(se=c(l().m(function e(){var a,n,t;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(a=r.user)&&void 0!==a&&a.id){e.n=1;break}return e.a(2);case 1:if(!w.value){e.n=6;break}return e.p=2,e.n=3,Fe.getAllCommunitiesForSuperAdmin(r.user.id);case 3:n=e.v,T.value=n,console.log("[AdminConsole] Loaded all communities for super admin:",n.length),!E.value&&n.length>0&&(E.value=n[0].id,o.setCurrentCommunity(n[0])),e.n=5;break;case 4:e.p=4,t=e.v,console.error("Failed to load all communities for super admin:",t),o.currentCommunity&&(T.value=[o.currentCommunity]);case 5:return e.a(2);case 6:o.currentCommunity&&(T.value=[o.currentCommunity]);case 7:return e.a(2)}},e,null,[[2,4]])}))).apply(this,arguments)}function ce(){a.back()}function ue(){}function de(){if(E.value){var e=T.value.find(function(e){return e.id===E.value});e&&(o.setCurrentCommunity(e),console.log("[AdminConsole] Switched to community:",e.id,e.name))}}function fe(){return pe.apply(this,arguments)}function pe(){return(pe=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:return i.value=!0,e.n=1,ee();case 1:i.value=!1;case 2:return e.a(2)}},e)}))).apply(this,arguments)}function ve(e,a){O.value=e,F.value=a,L.value=!0}function me(){L.value=!1,O.value=void 0,F.value=void 0}function ge(){V.value=!0}function be(){V.value=!1}function he(e){W.value=e,R.value=!0}function ye(){R.value=!1}function xe(e,a){q.value=e,G.value=a,B.value=!0}function ke(){B.value=!1,q.value=void 0,G.value=void 0}function _e(e,a){H.value=e,Z.value=a,J.value=!0}function Se(){J.value=!1,H.value=void 0,Z.value=void 0}function De(e,a){K.value=e,Q.value=a,$.value=!0}function Me(){$.value=!1,K.value=void 0,Q.value=void 0}return d(function(){return E.value?E.value:o.currentCommunityId?o.currentCommunityId:X()}),f(function(){ee()}),function(e,a){return A(),j(g(Ee),null,{default:h(function(){return[m(g(ne),null,{default:h(function(){return[m(g(te),null,{default:h(function(){return[m(g(oe),{slot:"start"},{default:h(function(){return[m(g(b),{onClick:ce},{default:h(function(){return[m(g(x),{icon:g(Ce)},null,8,["icon"])]}),_:1})]}),_:1}),m(g(re),null,{default:h(function(){return u(a[2]||(a[2]=[y("Admin Console",-1)]))}),_:1}),m(g(oe),{slot:"end"},{default:h(function(){return[m(g(b),{onClick:fe},{default:h(function(){return[m(g(x),{icon:g(Ie)},null,8,["icon"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),m(g(ie),{fullscreen:!0,class:"admin-console-content"},{default:h(function(){return[i.value||k.value?i.value?(A(),p("div",ms,[m(g(D)),a[7]||(a[7]=v("p",null,"Loading admin console...",-1))])):(A(),p("div",gs,[T.value.length>1||w.value?(A(),p("div",bs,[m(g(C),null,{default:h(function(){return[m(g(_),null,{default:h(function(){return[w.value?(A(),p("span",hs," Super Admin: Select Community ")):(A(),p("span",ys,"Select Community"))]}),_:1}),m(g(I),{modelValue:E.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return E.value=e}),onIonChange:de},{default:h(function(){return[(A(!0),p(U,null,N(T.value,function(e){return A(),j(g(S),{key:e.id,value:e.id},{default:h(function(){return[y(z(e.name),1)]}),_:2},1032,["value"])}),128))]}),_:1},8,["modelValue"])]}),_:1})])):Y("",!0),m(g(Le),{modelValue:M.value,"onUpdate:modelValue":a[1]||(a[1]=function(e){return M.value=e}),onIonChange:ue},{default:h(function(){return[m(g(Oe),{value:"stats"},{default:h(function(){return[m(g(_),null,{default:h(function(){return u(a[8]||(a[8]=[y("Stats",-1)]))}),_:1})]}),_:1}),m(g(Oe),{value:"analytics"},{default:h(function(){return[m(g(_),null,{default:h(function(){return u(a[9]||(a[9]=[y("Analytics",-1)]))}),_:1})]}),_:1}),m(g(Oe),{value:"data"},{default:h(function(){return[m(g(_),null,{default:h(function(){return u(a[10]||(a[10]=[y("Upload Data",-1)]))}),_:1})]}),_:1}),m(g(Oe),{value:"users"},{default:h(function(){return[m(g(_),null,{default:h(function(){return u(a[11]||(a[11]=[y("Users",-1)]))}),_:1})]}),_:1})]}),_:1},8,["modelValue"]),v("div",xs,["stats"===M.value?(A(),p("div",ks,[m(ko,{"community-id":E.value,onOpenMagicIntros:ve,onOpenChannelPairings:xe,onOpenMentorMenteeMatches:_e,onOpenConnections:De,onOpenSkills:ge,onOpenMentorList:he},null,8,["community-id"])])):Y("",!0),"analytics"===M.value?(A(),p("div",ws,[m(wn,{"community-id":E.value},null,8,["community-id"])])):Y("",!0),"data"===M.value?(A(),p("div",Cs,[m(Ca,{"community-id":E.value},null,8,["community-id"])])):Y("",!0),"users"===M.value?(A(),p("div",_s,[m(ia,{"community-id":E.value,onRefresh:fe},null,8,["community-id"])])):Y("",!0)])])):(A(),p("div",vs,[m(g(x),{icon:g(je),class:"lock-icon"},null,8,["icon"]),a[4]||(a[4]=v("h2",null,"Access Denied",-1)),a[5]||(a[5]=v("p",null,"You must be a community leader or manager to access the admin console.",-1)),a[6]||(a[6]=v("p",{class:"redirect-message"},"Redirecting you back...",-1)),m(g(b),{onClick:ce},{default:h(function(){return u(a[3]||(a[3]=[y("Go Back Now",-1)]))}),_:1})]))]}),_:1}),m(el,{"is-open":L.value,"community-id":E.value,"start-date":O.value,"end-date":F.value,onDidDismiss:me},null,8,["is-open","community-id","start-date","end-date"]),m(xl,{"is-open":V.value,"community-id":E.value,onDidDismiss:be},null,8,["is-open","community-id"]),E.value?(A(),j(Ol,{key:0,"is-open":R.value,"community-id":E.value,"mentor-type":W.value,onDidDismiss:ye},null,8,["is-open","community-id","mentor-type"])):Y("",!0),m(hi,{"is-open":B.value,"community-id":E.value,"start-date":q.value,"end-date":G.value,onDidDismiss:ke},null,8,["is-open","community-id","start-date","end-date"]),m(qi,{"is-open":J.value,"community-id":E.value,"start-date":H.value,"end-date":Z.value,onDidDismiss:Se},null,8,["is-open","community-id","start-date","end-date"]),m(ps,{"is-open":$.value,"community-id":E.value,"start-date":K.value,"end-date":Q.value,onDidDismiss:Me},null,8,["is-open","community-id","start-date","end-date"])]}),_:1})}}});e("default",W(Is,[["__scopeId","data-v-ede2b30e"]]))}}})}();
