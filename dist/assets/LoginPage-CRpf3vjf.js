import{F as P,v as x,r as g,I as b,J as c,L as a,M as V,N as r,O as s,U as w,V as k,W as p,X as y,Y as C,Z as _,Q as B,$ as d,S as h,H as L,R as f,a0 as T}from"./index-CkJ7yJ3n.js";const E={class:"login-container"},G={class:"social-section"},N={class:"social-buttons"},U=["disabled"],W=["disabled"],F={class:"form-section"},K={class:"form-section"},$={key:1},A={class:"signup-section"},R=P({__name:"LoginPage",setup(Y){const l=L(),v=x(),i=g(""),u=g(""),o=g(!1);async function m(){if(!i.value||!u.value){await(await d.create({message:"Please enter email and password",duration:2e3,color:"warning"})).present();return}o.value=!0;try{await h.signIn(i.value,u.value),await new Promise(e=>setTimeout(e,500));const t=v.user;if(t&&t.setupStep){const e=t.setupStep;e&&e!=="complete"&&e!=="view"&&e!=="slack-complete"&&e!=="slack-new"&&e!=="teams-complete"&&e!=="webex-complete"&&!(+e>=4)?l.push("/setup"):l.push("/tabs/home")}else l.push("/tabs/home")}catch(t){await(await d.create({message:t.message||"Login failed. Please try again.",duration:3e3,color:"danger"})).present()}finally{o.value=!1}}async function I(){o.value=!0;try{await h.signInWithGoogle(),await new Promise(e=>setTimeout(e,500));const t=v.user;if(t&&t.setupStep){const e=t.setupStep;e&&e!=="complete"&&e!=="view"&&e!=="slack-complete"&&e!=="slack-new"&&e!=="teams-complete"&&e!=="webex-complete"&&!(+e>=4)?l.push("/setup"):l.push("/tabs/home")}else l.push("/tabs/home")}catch(t){await(await d.create({message:t.message||"Google login failed. Please try again.",duration:3e3,color:"danger"})).present()}finally{o.value=!1}}async function S(){o.value=!0;try{await(await d.create({message:"Facebook login is not yet implemented.",duration:3e3,color:"info"})).present()}finally{o.value=!1}}return(t,e)=>(f(),b(a(V),null,{default:c(()=>[r(a(B),{fullscreen:!0,class:"login-content"},{default:c(()=>[s("div",E,[e[9]||(e[9]=s("div",{class:"logo-section"},[s("h1",{class:"trova-logo"},"Trova")],-1)),e[10]||(e[10]=s("div",{class:"welcome-section"},[s("h2",{class:"welcome-title"},"Welcome Back!")],-1)),s("div",G,[s("div",N,[s("button",{class:"social-button facebook-button",onClick:S,disabled:o.value},[...e[3]||(e[3]=[s("span",{class:"social-icon facebook-icon"},"f",-1)])],8,U),s("button",{class:"social-button google-button",onClick:I,disabled:o.value},[...e[4]||(e[4]=[s("span",{class:"social-icon google-icon"},"G",-1)])],8,W)])]),s("div",F,[e[5]||(e[5]=s("label",{class:"input-label"},"Enter Work Email",-1)),r(a(w),{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=n=>i.value=n),type:"email",placeholder:"john@workemail.com",class:"email-input",onKeyup:k(m,["enter"])},null,8,["modelValue"])]),s("div",K,[e[6]||(e[6]=s("label",{class:"input-label"},"Password",-1)),r(a(w),{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=n=>u.value=n),type:"password",placeholder:"Enter your password",class:"email-input",onKeyup:k(m,["enter"])},null,8,["modelValue"])]),e[11]||(e[11]=s("p",{class:"legal-text"},[p(" By signing in you agree to our "),s("a",{href:"#",class:"legal-link"},"Privacy Policy"),p(" and "),s("a",{href:"#",class:"legal-link"},"Terms of Use"),p(". ")],-1)),r(a(y),{expand:"block",size:"large",onClick:m,disabled:!i.value||!u.value||o.value,class:"next-button"},{default:c(()=>[o.value?(f(),b(a(_),{key:0,name:"crescent"})):(f(),C("span",$,"Sign In"))]),_:1},8,["disabled"]),s("div",A,[e[8]||(e[8]=s("p",{class:"signup-question"},"Don't have an account?",-1)),r(a(y),{fill:"outline",expand:"block",onClick:e[2]||(e[2]=n=>t.$router.push("/signup")),class:"create-account-button"},{default:c(()=>[...e[7]||(e[7]=[p(" Create Your Account ",-1)])]),_:1})])])]),_:1})]),_:1}))}}),q=T(R,[["__scopeId","data-v-7b5f617e"]]);export{q as default};
