!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,a,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function l(e,r,o,i){var l=r&&r.prototype instanceof u?r:u,s=Object.create(l.prototype);return t(s,"_invoke",function(e,t,r){var o,i,l,u=0,s=r||[],d=!1,v={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return o=e,i=0,l=n,v.n=t,c}};function p(e,t){for(i=e,l=t,a=0;!d&&u&&!r&&a<s.length;a++){var r,o=s[a],p=v.p,f=o[2];e>3?(r=f===t)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=n):o[0]<=p&&((r=e<2&&p<o[1])?(i=0,v.v=t,v.n=o[1]):p<f&&(r=e<3||o[0]>t||t>f)&&(o[4]=e,o[5]=t,v.n=f,i=0))}if(r||e>1)return c;throw d=!0,t}return function(r,s,f){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&p(s,f),i=s,l=f;(a=i<2?n:l)||!d;){o||(i?i<3?(i>1&&(v.n=-1),p(i,l)):v.n=l:v.v=l);try{if(u=2,o){if(i||(r="next"),a=o[r]){if(!(a=a.call(o,l)))throw TypeError("iterator result is not an object");if(!a.done)return a;l=a.value,i<2&&(i=0)}else 1===i&&(a=o.return)&&a.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=n}else if((a=(d=v.n<0)?l:e.call(t,v))!==c)break}catch(a){o=n,i=1,l=a}finally{u=1}}return{value:a,done:d}}}(e,o,i),!0),s}var c={};function u(){}function s(){}function d(){}a=Object.getPrototypeOf;var v=[][o]?a(a([][o]())):(t(a={},o,function(){return this}),a),p=d.prototype=u.prototype=Object.create(v);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=d,t(p,"constructor",d),t(d,"constructor",s),s.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(p),t(p,i,"Generator"),t(p,o,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m:f}})()}function t(e,n,a,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,a,r){function i(n,a){t(e,n,function(e){return this._invoke(n,a,e)})}n?o?o(e,n,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[n]=a:(i("next",0),i("throw",1),i("return",2))},t(e,n,a,r)}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function l(e){r(i,a,o,l,c,"next",e)}function c(e){r(i,a,o,l,c,"throw",e)}l(void 0)})}}System.register(["./index-legacy-D3_iwoP0.js","./event.service-legacy-CMLG_2ZP.js"],function(t,a){"use strict";var r,i,l,c,u,s,d,v,p,f,g,m,x,b,h,y,k,w,S,_,C,E,P,z,j,T,O,A,R,F,G,V,I,D,L,N,U,B,M,H,J,Y,$,q;return{setters:[function(e){r=e.F,i=e.v,l=e.r,c=e.a2,u=e.G,s=e.I,d=e.J,v=e.L,p=e.M,f=e.a3,g=e.$,m=e.N,x=e.ak,b=e.aq,h=e.X,y=e.a6,k=e.aB,w=e.al,S=e.W,_=e.ag,C=e.aC,E=e.am,P=e.Y,z=e.O,j=e.Z,T=e.a8,O=e.aD,A=e.aE,R=e.aF,F=e.aG,G=e.aH,V=e.aI,I=e.aJ,D=e.aa,L=e.ab,N=e.an,U=e.aK,B=e.aL,M=e.aM,H=e.Q,J=e.H,Y=e.R,$=e.a0},function(e){q=e.eventService}],execute:function(){var a=document.createElement("style");a.textContent=".event-detail-content[data-v-e719e061]{--background: #f8fafc}.loading-container[data-v-e719e061]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 16px;color:#64748b}.event-detail-container[data-v-e719e061]{max-width:800px;margin:0 auto;padding:16px}.event-photo-section[data-v-e719e061]{width:100%;margin-bottom:16px;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.1)}.event-photo[data-v-e719e061]{width:100%;height:auto;max-height:400px;object-fit:cover;display:block}.event-header[data-v-e719e061]{background:#fff;border-radius:16px;padding:24px;margin-bottom:16px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.event-title[data-v-e719e061]{font-size:28px;font-weight:700;color:#1a1a1a;margin:0 0 20px;letter-spacing:-.5px}.event-meta-top[data-v-e719e061]{display:flex;flex-direction:column;gap:16px}.event-date-time[data-v-e719e061],.event-location[data-v-e719e061]{display:flex;align-items:flex-start;gap:12px;color:#64748b}.event-date-time ion-icon[data-v-e719e061],.event-location ion-icon[data-v-e719e061]{font-size:20px;color:var(--color-primary);margin-top:2px;flex-shrink:0}.date-display[data-v-e719e061]{font-size:16px;font-weight:600;color:#1a1a1a}.time-display[data-v-e719e061]{font-size:14px;color:#64748b;margin-top:4px}.time-end[data-v-e719e061]{font-size:14px;color:#64748b}.event-actions-bar[data-v-e719e061]{background:#fff;border-radius:16px;padding:16px;margin-bottom:16px;box-shadow:0 2px 8px rgba(0,0,0,.04);display:flex;flex-direction:column;gap:12px}.rsvp-button[data-v-e719e061]{--background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);--color: white;--border-radius: 12px;height:48px;font-weight:600;font-size:16px;text-transform:none;box-shadow:0 4px 12px rgba(45,122,78,.3)}.cancel-rsvp-button[data-v-e719e061]{--border-color: var(--color-primary);--color: var(--color-primary);--border-radius: 12px;height:48px;font-weight:600;font-size:16px;text-transform:none}.action-buttons[data-v-e719e061]{display:flex;justify-content:center;gap:8px;padding-top:8px;border-top:1px solid #e5e7eb}.icon-button[data-v-e719e061]{--padding-start: 12px;--padding-end: 12px;margin:0}.icon-button ion-icon[data-v-e719e061]{font-size:22px}.event-section[data-v-e719e061]{background:#fff;border-radius:16px;padding:24px;margin-bottom:16px;box-shadow:0 2px 8px rgba(0,0,0,.04)}.section-title[data-v-e719e061]{font-size:20px;font-weight:700;color:#1a1a1a;margin:0 0 16px;display:flex;align-items:center;gap:8px}.attendee-count[data-v-e719e061]{font-size:16px;font-weight:500;color:#64748b}.event-description[data-v-e719e061]{font-size:16px;line-height:1.6;color:#374151;white-space:pre-wrap}.attendees-list[data-v-e719e061]{display:flex;flex-direction:column;gap:12px}.attendee-item[data-v-e719e061]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;cursor:pointer;transition:background .2s ease}.attendee-item[data-v-e719e061]:hover{background:#f9fafb}.attendee-avatar[data-v-e719e061]{width:48px;height:48px;border-radius:50%;overflow:hidden;flex-shrink:0;background:linear-gradient(135deg,rgba(45,122,78,.1),rgba(29,185,138,.1))}.attendee-avatar img[data-v-e719e061]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[data-v-e719e061]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;color:var(--color-primary);font-size:18px}.attendee-name[data-v-e719e061]{font-size:16px;font-weight:500;color:#1a1a1a}.empty-attendees[data-v-e719e061]{text-align:center;padding:32px 16px;color:#64748b}.info-grid[data-v-e719e061]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.info-item[data-v-e719e061]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#f9fafb;border-radius:12px}.info-item ion-icon[data-v-e719e061]{font-size:24px;color:var(--color-primary);flex-shrink:0}.info-label[data-v-e719e061]{font-size:12px;color:#64748b;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.info-value[data-v-e719e061]{font-size:16px;font-weight:600;color:#1a1a1a}.error-container[data-v-e719e061]{text-align:center;padding:64px 16px;max-width:400px;margin:0 auto}.error-icon[data-v-e719e061]{font-size:64px;color:#ef4444;margin-bottom:16px}.error-container h2[data-v-e719e061]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0 0 8px}.error-container p[data-v-e719e061]{font-size:16px;color:#64748b;margin:0 0 24px}@media (min-width: 768px){.event-detail-container[data-v-e719e061]{padding:24px}.event-title[data-v-e719e061]{font-size:32px}.event-actions-bar[data-v-e719e061]{flex-direction:row;align-items:center}.action-buttons[data-v-e719e061]{padding-top:0;border-top:none;border-left:1px solid #e5e7eb;padding-left:16px;margin-left:16px}}\n",document.head.appendChild(a);var K={key:0,class:"loading-container"},Q={key:1,class:"event-detail-container"},W={key:0,class:"event-photo-section"},X=["src","alt"],Z={class:"event-header"},ee={class:"event-title"},te={class:"event-meta-top"},ne={class:"event-date-time"},ae={class:"date-display"},re={class:"time-display"},oe={key:0,class:"time-end"},ie={key:0,class:"event-location"},le={class:"event-actions-bar"},ce={class:"action-buttons"},ue={key:1,class:"event-section"},se={class:"event-description"},de={class:"event-section"},ve={class:"section-title"},pe={class:"attendee-count"},fe={key:0,class:"attendees-list"},ge=["onClick"],me={class:"attendee-avatar"},xe=["src","alt"],be={key:1,class:"avatar-placeholder"},he={class:"attendee-name"},ye={key:1,class:"empty-attendees"},ke={class:"event-section"},we={class:"info-grid"},Se={class:"info-item"},_e={class:"info-value"},Ce={key:0,class:"info-item"},Ee={key:1,class:"info-item"},Pe={key:2,class:"error-container"},ze=r({__name:"EventDetailPage",setup:function(t){var a=J(),r=f(),$=i(),ze=l(null),je=l(!0),Te=l(!1),Oe=c(function(){var e;return ze.value&&(null===(e=$.user)||void 0===e?void 0:e.id)===ze.value.createdBy});function Ae(){return Re.apply(this,arguments)}function Re(){return(Re=o(e().m(function t(){var n,a,o,i;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if((n=r.params.id)&&"string"==typeof n){e.n=1;break}return je.value=!1,e.a(2);case 1:return je.value=!0,e.p=2,e.n=3,q.getEvent(n);case 3:a=e.v,ze.value=a,e.n=6;break;case 4:return e.p=4,i=e.v,console.error("Error loading event:",i),e.n=5,g.create({message:"Failed to load event",duration:2e3,color:"danger"});case 5:return o=e.v,e.n=6,o.present();case 6:return e.p=6,je.value=!1,e.f(6);case 7:return e.a(2)}},t,null,[[2,4,6,7]])}))).apply(this,arguments)}function Fe(){a.back()}function Ge(e){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Ve(){return Ie.apply(this,arguments)}function Ie(){return(Ie=o(e().m(function t(){var n,a,r,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(n=$.user)&&void 0!==n&&n.id&&ze.value){e.n=1;break}return e.a(2);case 1:return Te.value=!0,e.p=2,e.n=3,q.rsvpToEvent(ze.value.id,$.user.id);case 3:return ze.value&&(ze.value.userAttending=!0,ze.value.attendeeCount=(ze.value.attendeeCount||0)+1),e.n=4,g.create({message:"You're going to this event!",duration:2e3,color:"success"});case 4:return a=e.v,e.n=5,a.present();case 5:return e.n=6,Ae();case 6:e.n=9;break;case 7:return e.p=7,o=e.v,console.error("Error RSVPing to event:",o),e.n=8,g.create({message:"Failed to RSVP. Please try again.",duration:2e3,color:"danger"});case 8:return r=e.v,e.n=9,r.present();case 9:return e.p=9,Te.value=!1,e.f(9);case 10:return e.a(2)}},t,null,[[2,7,9,10]])}))).apply(this,arguments)}function De(){return Le.apply(this,arguments)}function Le(){return(Le=o(e().m(function t(){var n,a,r,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(n=$.user)&&void 0!==n&&n.id&&ze.value){e.n=1;break}return e.a(2);case 1:return Te.value=!0,e.p=2,e.n=3,q.cancelRsvp(ze.value.id,$.user.id);case 3:return ze.value&&(ze.value.userAttending=!1,ze.value.attendeeCount=Math.max(0,(ze.value.attendeeCount||1)-1)),e.n=4,g.create({message:"RSVP canceled",duration:2e3,color:"medium"});case 4:return a=e.v,e.n=5,a.present();case 5:return e.n=6,Ae();case 6:e.n=9;break;case 7:return e.p=7,o=e.v,console.error("Error canceling RSVP:",o),e.n=8,g.create({message:"Failed to cancel RSVP. Please try again.",duration:2e3,color:"danger"});case 8:return r=e.v,e.n=9,r.present();case 9:return e.p=9,Te.value=!1,e.f(9);case 10:return e.a(2)}},t,null,[[2,7,9,10]])}))).apply(this,arguments)}function Ne(){return Ue.apply(this,arguments)}function Ue(){return(Ue=o(e().m(function t(){var n,a,r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ze.value){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,q.shareEvent(ze.value.id);case 2:if(n=e.v,!navigator.share){e.n=4;break}return e.n=3,navigator.share({title:ze.value.name,text:ze.value.description||"Check out this event: ".concat(ze.value.name),url:n});case 3:e.n=7;break;case 4:return e.n=5,navigator.clipboard.writeText(n);case 5:return e.n=6,g.create({message:"Event URL copied to clipboard!",duration:2e3,color:"success"});case 6:return a=e.v,e.n=7,a.present();case 7:e.n=9;break;case 8:e.p=8,r=e.v,console.error("Error sharing event:",r);case 9:return e.a(2)}},t,null,[[1,8]])}))).apply(this,arguments)}function Be(){return Me.apply(this,arguments)}function Me(){return(Me=o(e().m(function t(){var n,a,r,o,i;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(n=$.user)&&void 0!==n&&n.id&&ze.value){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,q.toggleSaveEvent(ze.value.id,$.user.id);case 2:return ze.value&&(ze.value.userSaved=!ze.value.userSaved),e.n=3,g.create({message:null!==(a=ze.value)&&void 0!==a&&a.userSaved?"Event saved!":"Event unsaved",duration:2e3,color:"success"});case 3:return r=e.v,e.n=4,r.present();case 4:e.n=7;break;case 5:return e.p=5,i=e.v,console.error("Error saving event:",i),e.n=6,g.create({message:"Failed to save event. Please try again.",duration:2e3,color:"danger"});case 6:return o=e.v,e.n=7,o.present();case 7:return e.a(2)}},t,null,[[1,5]])}))).apply(this,arguments)}function He(){ze.value&&a.push("/tabs/events/".concat(ze.value.id,"/edit"))}return u(function(){Ae()}),function(e,t){return Y(),s(v(p),null,{default:d(function(){return[m(v(E),null,{default:d(function(){return[m(v(x),null,{default:d(function(){return[m(v(b),{slot:"start"},{default:d(function(){return[m(v(h),{onClick:Fe},{default:d(function(){return[m(v(y),{icon:v(k)},null,8,["icon"])]}),_:1})]}),_:1}),m(v(w),null,{default:d(function(){return n(t[0]||(t[0]=[S("Event Details",-1)]))}),_:1}),m(v(b),{slot:"end"},{default:d(function(){return[ze.value?(Y(),s(v(h),{key:0,onClick:Ne},{default:d(function(){return[m(v(y),{icon:v(C)},null,8,["icon"])]}),_:1})):_("",!0)]}),_:1})]}),_:1})]}),_:1}),m(v(H),{fullscreen:!0,class:"event-detail-content"},{default:d(function(){return[je.value?(Y(),P("div",K,[m(v(j)),t[1]||(t[1]=z("p",null,"Loading event...",-1))])):ze.value?(Y(),P("div",Q,[ze.value.photo?(Y(),P("div",W,[z("img",{src:ze.value.photo,alt:ze.value.name,class:"event-photo"},null,8,X)])):_("",!0),z("div",Z,[z("h1",ee,T(ze.value.name),1),z("div",te,[z("div",ne,[m(v(y),{icon:v(O)},null,8,["icon"]),z("div",null,[z("div",ae,T((e=ze.value.startTime,new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),1),z("div",re,T(Ge(ze.value.startTime)),1),ze.value.endTime?(Y(),P("div",oe," - "+T(Ge(ze.value.endTime)),1)):_("",!0)])]),ze.value.location?(Y(),P("div",ie,[m(v(y),{icon:v(A)},null,8,["icon"]),z("span",null,T(ze.value.location),1)])):_("",!0)])]),z("div",le,[ze.value.userAttending?(Y(),s(v(h),{key:1,fill:"outline",expand:"block",class:"cancel-rsvp-button",onClick:De,disabled:Te.value},{default:d(function(){return[m(v(y),{icon:v(F),slot:"start"},null,8,["icon"]),t[3]||(t[3]=S(" Cancel RSVP ",-1))]}),_:1},8,["disabled"])):(Y(),s(v(h),{key:0,fill:"solid",expand:"block",class:"rsvp-button",onClick:Ve,disabled:Te.value},{default:d(function(){return[m(v(y),{icon:v(R),slot:"start"},null,8,["icon"]),t[2]||(t[2]=S(" RSVP ",-1))]}),_:1},8,["disabled"])),z("div",ce,[m(v(h),{fill:"clear",class:"icon-button",onClick:Be,color:ze.value.userSaved?"primary":"medium"},{default:d(function(){return[m(v(y),{icon:ze.value.userSaved?v(G):v(V)},null,8,["icon"])]}),_:1},8,["color"]),m(v(h),{fill:"clear",class:"icon-button",onClick:Ne},{default:d(function(){return[m(v(y),{icon:v(C)},null,8,["icon"])]}),_:1}),Oe.value?(Y(),s(v(h),{key:0,fill:"clear",class:"icon-button",onClick:He},{default:d(function(){return[m(v(y),{icon:v(I)},null,8,["icon"])]}),_:1})):_("",!0)])]),ze.value.description?(Y(),P("div",ue,[t[4]||(t[4]=z("h2",{class:"section-title"},"About this event",-1)),z("p",se,T(ze.value.description),1)])):_("",!0),z("div",de,[z("h2",ve,[t[5]||(t[5]=S(" Attendees ",-1)),z("span",pe,"("+T(ze.value.attendeeCount||0)+")",1)]),ze.value.attendees&&ze.value.attendees.length>0?(Y(),P("div",fe,[(Y(!0),P(D,null,L(ze.value.attendees,function(e){return Y(),P("div",{key:e.id,class:"attendee-item",onClick:function(t){return n=e.id,void a.push("/tabs/profile/".concat(n));var n}},[z("div",me,[e.profilePicture?(Y(),P("img",{key:0,src:e.profilePicture,alt:e.fullName},null,8,xe)):(Y(),P("div",be,T((t=e.fullName,n=t.split(" "),n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():t.substring(0,2).toUpperCase())),1))]),z("span",he,T(e.fullName),1)],8,ge);var t,n}),128))])):(Y(),P("div",ye,n(t[6]||(t[6]=[z("p",null,"No attendees yet. Be the first to RSVP!",-1)]))))]),z("div",ke,[t[10]||(t[10]=z("h2",{class:"section-title"},"Event Information",-1)),z("div",we,[z("div",Se,[m(v(y),{icon:v(N)},null,8,["icon"]),z("div",null,[t[7]||(t[7]=z("div",{class:"info-label"},"Attendees",-1)),z("div",_e,T(ze.value.attendeeCount||0)+" going",1)])]),ze.value.isPrivate?(Y(),P("div",Ce,[m(v(y),{icon:v(U)},null,8,["icon"]),t[8]||(t[8]=z("div",null,[z("div",{class:"info-label"},"Privacy"),z("div",{class:"info-value"},"Private Event")],-1))])):_("",!0),ze.value.createdBy?(Y(),P("div",Ee,[m(v(y),{icon:v(B)},null,8,["icon"]),t[9]||(t[9]=z("div",null,[z("div",{class:"info-label"},"Organized by"),z("div",{class:"info-value"},"Event Organizer")],-1))])):_("",!0)])])])):(Y(),P("div",Pe,[m(v(y),{icon:v(M),class:"error-icon"},null,8,["icon"]),t[12]||(t[12]=z("h2",null,"Event not found",-1)),t[13]||(t[13]=z("p",null,"The event you're looking for doesn't exist or has been removed.",-1)),m(v(h),{onClick:Fe},{default:d(function(){return n(t[11]||(t[11]=[S("Go Back",-1)]))}),_:1})]))];var e}),_:1})]}),_:1})}}});t("default",$(ze,[["__scopeId","data-v-e719e061"]]))}}})}();
