!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var o,r,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function s(e,n,a,i){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return t(u,"_invoke",function(e,t,n){var a,i,s,l=0,u=n||[],p=!1,d={p:0,n:0,v:o,a:f,f:f.bind(o,4),d:function(e,t){return a=e,i=0,s=o,d.n=t,c}};function f(e,t){for(i=e,s=t,r=0;!p&&l&&!n&&r<u.length;r++){var n,a=u[r],f=d.p,g=a[2];e>3?(n=g===t)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=o):a[0]<=f&&((n=e<2&&f<a[1])?(i=0,d.v=t,d.n=a[1]):f<g&&(n=e<3||a[0]>t||t>g)&&(a[4]=e,a[5]=t,d.n=g,i=0))}if(n||e>1)return c;throw p=!0,t}return function(n,u,g){if(l>1)throw TypeError("Generator is already running");for(p&&1===u&&f(u,g),i=u,s=g;(r=i<2?o:s)||!p;){a||(i?i<3?(i>1&&(d.n=-1),f(i,s)):d.n=s:d.v=s);try{if(l=2,a){if(i||(n="next"),r=a[n]){if(!(r=r.call(a,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+n+"' method"),i=1);a=o}else if((r=(p=d.n<0)?s:e.call(t,d))!==c)break}catch(r){a=o,i=1,s=r}finally{l=1}}return{value:r,done:p}}}(e,a,i),!0),u}var c={};function l(){}function u(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(t(r={},a,function(){return this}),r),f=p.prototype=l.prototype=Object.create(d);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,t(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=p,t(f,"constructor",p),t(p,"constructor",u),u.displayName="GeneratorFunction",t(p,i,"GeneratorFunction"),t(f),t(f,i,"Generator"),t(f,a,function(){return this}),t(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:g}})()}function t(e,o,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}t=function(e,o,r,n){function i(o,r){t(e,o,function(e){return this._invoke(o,r,e)})}o?a?a(e,o,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[o]=r:(i("next",0),i("throw",1),i("return",2))},t(e,o,r,n)}function o(e,t,o,r,n,a,i){try{var s=e[a](i),c=s.value}catch(e){return void o(e)}s.done?t(c):Promise.resolve(c).then(r,n)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,c,"next",e)}function c(e){o(i,n,a,s,c,"throw",e)}s(void 0)})}}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=Array(t);o<t;o++)r[o]=e[o];return r}System.register(["./index-legacy-D3_iwoP0.js","./group.service-legacy-CiCW_xct.js"],function(t,o){"use strict";var a,i,s,c,l,u,p,d,f,g,v,m,b,x,h,y,w,k,j,z,G,C,P,_,S,F,I,A,M,T,O,L,E,J,N,V,Y,D,U,$,R,W;return{setters:[function(e){a=e.F,i=e.a2,s=e.Y,c=e.aa,l=e.ab,u=e.R,p=e.ag,d=e.O,f=e.N,g=e.L,v=e.ah,m=e.a6,b=e.a8,x=e.aT,h=e.aU,y=e.ap,w=e.af,k=e.aV,j=e.aW,z=e.J,G=e.W,C=e.X,P=e.aX,_=e.a0,S=e.v,F=e.a1,I=e.r,A=e.a4,M=e.G,T=e.aY,O=e.I,L=e.M,E=e.$,J=e.a5,N=e.ao,V=e.aZ,Y=e.an,D=e.Z,U=e.Q,$=e.H,R=e.a3},function(e){W=e.groupService}],execute:function(){var o=document.createElement("style");o.textContent=".group-list[data-v-69cc8416]{display:flex;flex-direction:column;gap:10px}@media (min-width: 768px){.group-list[data-v-69cc8416]{gap:12px}}.group-item[data-v-69cc8416]{background:#fff;border-radius:12px;padding:12px;display:flex;align-items:flex-start;gap:12px;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px rgba(0,0,0,.08);border:1px solid #e5e7eb;position:relative}@media (min-width: 768px){.group-item[data-v-69cc8416]{border-radius:16px;padding:16px;gap:16px;box-shadow:0 2px 8px rgba(0,0,0,.04);border:2px solid transparent}}.group-item[data-v-69cc8416]:hover{box-shadow:0 4px 12px rgba(0,0,0,.08);transform:translateY(-2px);border-color:rgba(45,122,78,.2)}.notification-badge[data-v-69cc8416]{position:absolute;top:12px;left:12px;width:12px;height:12px;background:var(--color-primary);border-radius:50%;border:2px solid #ffffff;z-index:1}.group-image[data-v-69cc8416]{flex-shrink:0;position:relative}.group-logo[data-v-69cc8416]{width:56px;height:56px;border-radius:10px;object-fit:cover;border:2px solid #e5e7eb}.group-logo-placeholder[data-v-69cc8416]{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-secondary) 100%);display:flex;align-items:center;justify-content:center;border:2px solid #e5e7eb}@media (min-width: 768px){.group-logo[data-v-69cc8416],.group-logo-placeholder[data-v-69cc8416]{width:64px;height:64px;border-radius:12px}}.group-logo-placeholder ion-icon[data-v-69cc8416]{font-size:32px;color:#fff}.group-info[data-v-69cc8416]{flex:1;min-width:0}.group-header[data-v-69cc8416]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.group-name[data-v-69cc8416]{font-size:16px;font-weight:600;color:#1a1a1a;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;line-height:1.3}@media (min-width: 768px){.group-name[data-v-69cc8416]{font-size:18px}}.lock-icon[data-v-69cc8416]{color:#64748b;font-size:16px;flex-shrink:0}.group-message[data-v-69cc8416]{font-size:13px;color:#64748b;margin-bottom:4px;line-height:1.4;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}@media (min-width: 768px){.group-message[data-v-69cc8416]{font-size:14px;margin-bottom:6px}}.message-author[data-v-69cc8416]{color:#1a1a1a;font-weight:500}.message-separator[data-v-69cc8416]{color:#94a3b8}.message-text[data-v-69cc8416]{color:#64748b}.message-time[data-v-69cc8416]{color:#94a3b8;font-size:12px;margin-left:4px}.group-bio[data-v-69cc8416]{font-size:13px;color:#64748b;margin-bottom:4px;line-height:1.4;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}@media (min-width: 768px){.group-bio[data-v-69cc8416]{font-size:14px;margin-bottom:6px}}.group-meta[data-v-69cc8416]{display:flex;align-items:center;gap:12px;margin-top:8px}.member-avatars[data-v-69cc8416]{display:flex;align-items:center;gap:-8px;position:relative}.member-avatar[data-v-69cc8416]{width:20px;height:20px;border-radius:50%;object-fit:cover;border:2px solid #ffffff;margin-left:-6px;position:relative}.member-avatar[data-v-69cc8416]:first-child{margin-left:0}.extra-members[data-v-69cc8416]{width:20px;height:20px;border-radius:50%;background:#f1f5f9;border:2px solid #ffffff;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:600;color:#64748b;margin-left:-6px;position:relative}@media (min-width: 768px){.member-avatar[data-v-69cc8416]{width:24px;height:24px;margin-left:-8px}.extra-members[data-v-69cc8416]{width:24px;height:24px;font-size:10px;margin-left:-8px}}.member-count[data-v-69cc8416]{font-size:12px;color:#94a3b8;font-weight:500}.group-actions[data-v-69cc8416]{display:flex;align-items:center;gap:8px;flex-shrink:0}.favorite-icon[data-v-69cc8416]{display:flex;align-items:center;justify-content:center;cursor:pointer;padding:4px;transition:transform .2s ease}.favorite-icon[data-v-69cc8416]:hover{transform:scale(1.1)}.favorite-icon ion-icon[data-v-69cc8416]{font-size:20px;color:#cbd5e1;transition:color .2s ease}.favorite-icon .favorite-active[data-v-69cc8416]{color:var(--color-primary)}.join-button-wrapper[data-v-69cc8416]{display:flex;align-items:center}.join-button[data-v-69cc8416]{--border-color: var(--color-primary);--color: var(--color-primary);--border-radius: 8px;--padding-start: 16px;--padding-end: 16px;height:36px;font-weight:600;text-transform:none;font-size:13px;transition:all .2s ease}.join-button[data-v-69cc8416]:hover{--background: var(--color-primary);--color: white}.side-icons[data-v-69cc8416]{display:flex;align-items:center;color:#cbd5e1}.chevron-icon[data-v-69cc8416]{font-size:20px}@media (min-width: 1024px){.group-item[data-v-69cc8416]{padding:20px;gap:20px}.group-logo[data-v-69cc8416],.group-logo-placeholder[data-v-69cc8416]{width:72px;height:72px}.group-logo-placeholder ion-icon[data-v-69cc8416]{font-size:36px}.group-name[data-v-69cc8416]{font-size:20px}.group-message[data-v-69cc8416],.group-bio[data-v-69cc8416]{font-size:15px}}.groups-content[data-v-f16b822b]{--background: #f8fafc}@media (min-width: 768px){.groups-content[data-v-f16b822b]{padding-top:0}}.groups-container[data-v-f16b822b]{padding:16px;max-width:1200px;margin:0 auto}@media (min-width: 768px){.groups-container[data-v-f16b822b]{padding-top:24px}}.create-button[data-v-f16b822b]{--color: var(--color-primary);--border-color: var(--color-primary);font-weight:600;text-transform:none}.search-container[data-v-f16b822b]{display:flex;align-items:center;gap:8px;margin-bottom:24px}@media (min-width: 768px){.search-container[data-v-f16b822b]{margin-bottom:32px}}.create-button-inline[data-v-f16b822b]{--color: var(--color-primary);--padding-start: 8px;--padding-end: 8px;margin:0;flex-shrink:0}.create-button-inline ion-icon[data-v-f16b822b]{font-size:24px}.groups-search[data-v-f16b822b]{--background: #ffffff;--border-radius: 12px;--box-shadow: 0 2px 8px rgba(0, 0, 0, .04);--placeholder-color: #94a3b8;--icon-color: #64748b;padding:0}.section[data-v-f16b822b]{margin-bottom:32px}@media (min-width: 768px){.section[data-v-f16b822b]{margin-bottom:40px}}.section-header[data-v-f16b822b]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}@media (min-width: 768px){.section-header[data-v-f16b822b]{margin-bottom:16px}}.section-title[data-v-f16b822b]{font-size:20px;font-weight:700;color:#1a1a1a;margin:0;letter-spacing:-.5px}@media (min-width: 768px){.section-title[data-v-f16b822b]{font-size:22px}}.filter-button[data-v-f16b822b]{--color: #64748b;--padding-start: 8px;--padding-end: 8px}.empty-state[data-v-f16b822b]{text-align:center;padding:64px 16px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh}.empty-icon[data-v-f16b822b]{width:100px;height:100px;margin:0 auto 32px;background:linear-gradient(135deg,rgba(45,122,78,.1),rgba(29,185,138,.1));border-radius:24px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px rgba(45,122,78,.1)}.empty-icon ion-icon[data-v-f16b822b]{font-size:48px;color:var(--color-primary)}.empty-title[data-v-f16b822b]{font-size:24px;font-weight:700;color:#1a1a1a;margin:0 0 12px}.empty-description[data-v-f16b822b]{font-size:16px;color:#64748b;margin:0 0 32px;line-height:1.6;max-width:500px}.empty-action-button[data-v-f16b822b]{--border-color: var(--color-primary);--color: var(--color-primary);--border-radius: 12px;--padding-start: 32px;--padding-end: 32px;height:48px;font-weight:600;text-transform:none;font-size:15px;transition:all .2s ease}.empty-action-button[data-v-f16b822b]:hover{--background: var(--color-primary);--color: white;transform:translateY(-2px);box-shadow:0 4px 12px rgba(45,122,78,.3)}.loading-container[data-v-f16b822b]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 16px;color:#64748b}@media (min-width: 768px){.groups-container[data-v-f16b822b]{padding:24px}.section-title[data-v-f16b822b]{font-size:26px}.empty-state[data-v-f16b822b]{padding:96px 32px;min-height:70vh}.empty-icon[data-v-f16b822b]{width:120px;height:120px;margin-bottom:40px}.empty-icon ion-icon[data-v-f16b822b]{font-size:56px}.empty-title[data-v-f16b822b]{font-size:28px}.empty-description[data-v-f16b822b]{font-size:18px;max-width:600px}}@media (min-width: 1024px){.groups-container[data-v-f16b822b]{padding:32px}}\n",document.head.appendChild(o);var X={class:"group-list"},Z=["onClick"],q={key:0,class:"notification-badge"},B={class:"group-image"},H=["src","alt"],Q={key:1,class:"group-logo-placeholder"},K={class:"group-info"},ee={class:"group-header"},te={class:"group-name"},oe={key:0,class:"lock-icon"},re={key:0,class:"group-message"},ne={key:0,class:"message-author"},ae={class:"message-text"},ie={class:"message-time"},se={key:1,class:"group-bio"},ce={class:"group-meta"},le={key:0,class:"member-avatars"},ue=["src","alt"],pe={key:0,class:"extra-members"},de={key:1,class:"member-count"},fe={class:"group-actions"},ge=["onClick"],ve={key:1,class:"join-button-wrapper"},me={key:2,class:"side-icons"},be=a({__name:"GroupList",props:{groups:{},isJoined:{type:Boolean,default:!1},groupMessages:{default:function(){return[]}}},emits:["click","join","favorite"],setup:function(e,t){var o=t.emit,r=e,a=o;function _(e){return e.users&&0!==e.users.length?e.users.slice(0,3):[]}function S(e){return!e.users||e.users.length<=3?0:e.users.length-3}var F=i(function(){return r.groups});function I(e){return e.lastMessage||null}function A(e){return e.lastMessageAuthor||null}function M(e){return e.lastMessageTime?function(e){var t=new Date(e),o=(new Date).getTime()-t.getTime(),r=Math.floor(o/6e4),n=Math.floor(o/36e5),a=Math.floor(o/864e5),i=Math.floor(a/7);if(r<1)return"Just now";if(r<60)return"".concat(r,"m");if(n<24)return"".concat(n,"h");if(a<7)return"".concat(a,"d");if(i<52)return"".concat(i,"w");var s=Math.floor(i/52);return"".concat(s,"y")}(e.lastMessageTime):""}return function(t,o){return u(),s("div",X,[(u(!0),s(c,null,l(F.value,function(r){return u(),s("div",{key:r.id,class:"group-item",onClick:function(e){return t.$emit("click",r)}},[r.hasNotification?(u(),s("div",q)):p("",!0),d("div",B,[r.logoSmall||r.logo?(u(),s("img",{key:0,src:r.logoSmall||r.logo,alt:r.name,class:"group-logo"},null,8,H)):(u(),s("div",Q,[f(g(m),{icon:g(v)},null,8,["icon"])]))]),d("div",K,[d("div",ee,[d("h3",te,b(r.name),1),r.isPrivate?(u(),s("div",oe,[f(g(m),{icon:g(x)},null,8,["icon"])])):p("",!0)]),e.isJoined&&I(r)?(u(),s("div",re,[A(r)?(u(),s("span",ne,[d("strong",null,b(A(r)),1),o[0]||(o[0]=d("span",{class:"message-separator"}," â€¢ ",-1))])):p("",!0),d("span",ae,b(I(r)),1),d("span",ie,b(M(r)),1)])):(u(),s("div",se,b((i=r.bio||"No description",F=100,i.length<=F?i:i.substring(0,F)+"...")),1)),d("div",ce,[r.users&&r.users.length>0?(u(),s("div",le,[(u(!0),s(c,null,l(_(r),function(e,t){return u(),s("img",{key:e.id,src:e.profilePicture||"/assets/images/default-pro-pic.svg",alt:e.fullName,class:"member-avatar",style:h({zIndex:_(r).length-t})},null,12,ue)}),128)),S(r)>0?(u(),s("span",pe," +"+b(S(r)),1)):p("",!0)])):(u(),s("span",de,b((r.memberCount||0)+1)+" member"+b(0!==(r.memberCount||0)?"s":""),1))])]),d("div",fe,[e.isJoined?(u(),s("div",{key:0,class:"favorite-icon",onClick:y(function(e){return function(e){e.isFavorite=!e.isFavorite,a("favorite",e)}(r)},["stop"])},[f(g(m),{icon:r.isFavorite?g(k):g(j),class:w({"favorite-active":r.isFavorite})},null,8,["icon","class"])],8,ge)):p("",!0),e.isJoined||r.isPrivate?p("",!0):(u(),s("div",ve,[f(g(C),{fill:"outline",size:"small",class:"join-button",onClick:y(function(e){return t.$emit("join",r)},["stop"])},{default:z(function(){return n(o[1]||(o[1]=[G(" Join ",-1)]))}),_:1},8,["onClick"])])),e.isJoined?(u(),s("div",me,[f(g(m),{icon:g(P),class:"chevron-icon"},null,8,["icon"])])):p("",!0)])],8,Z);var i,F}),128))])}}}),xe=_(be,[["__scopeId","data-v-69cc8416"]]),he={class:"groups-container"},ye={class:"search-container"},we={key:0,class:"section"},ke={key:1,class:"section"},je={class:"section-header"},ze={key:2,class:"section"},Ge={class:"section-header"},Ce={class:"section-title"},Pe={key:3,class:"empty-state"},_e={class:"empty-icon"},Se={key:4,class:"loading-container"},Fe=a({__name:"GroupsPage",setup:function(t){var o=$(),a=R(),c=S(),l=F(),v=I(!1),x=I(""),h=I([]),y=I([]),w=I([]),k=I([]),j=i(function(){if(!x.value.trim())return h.value;var e=x.value.toLowerCase();return h.value.filter(function(t){var o;return t.name.toLowerCase().includes(e)||(null===(o=t.bio)||void 0===o?void 0:o.toLowerCase().includes(e))})}),P=i(function(){if(!x.value.trim())return y.value;var e=x.value.toLowerCase();return y.value.filter(function(t){var o;return t.name.toLowerCase().includes(e)||(null===(o=t.bio)||void 0===o?void 0:o.toLowerCase().includes(e))})});function _(){return l.currentCommunityId}function X(){return Z.apply(this,arguments)}function Z(){return(Z=r(e().m(function t(){var o,r,n,a,i,s,l,u,p,d,f,g;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(o=c.user)&&void 0!==o&&o.id){e.n=1;break}return console.warn("[GroupsPage] No user ID found, cannot load groups"),e.a(2);case 1:if(v.value=!0,e.p=2,r=_(),console.log("[GroupsPage] Loading groups for communityId:",r,"userId:",c.user.id),r){e.n=5;break}return console.warn("[GroupsPage] No community selected"),e.n=3,E.create({message:"Please select a community to view groups.",duration:3e3,color:"warning"});case 3:return n=e.v,e.n=4,n.present();case 4:return h.value=[],y.value=[],v.value=!1,e.a(2);case 5:return console.log("[GroupsPage] Calling groupService.getGroups..."),e.n=6,W.getGroups(r,c.user.id);case 6:if(a=e.v,console.log("[GroupsPage] Received groups:",(null==a?void 0:a.length)||0,a),a&&0!==a.length){e.n=7;break}return console.warn("[GroupsPage] No groups returned from API"),h.value=[],y.value=[],v.value=!1,e.a(2);case 7:i=a.filter(function(e){return!1!==e.isActive}),console.log("[GroupsPage] Active groups:",i.length),s=c.user.id,i.forEach(function(e){var t,o=(null===(t=e.members)||void 0===t?void 0:t.some(function(e){return e.id===s}))||e.leaderId===s;e.userFollows=o}),h.value=i.filter(function(e){return!0===e.userFollows}),y.value=i.filter(function(e){return!1===e.userFollows}),console.log("[GroupsPage] My groups:",h.value.length,"All groups:",y.value.length),e.n=14;break;case 8:if(e.p=8,g=e.v,console.error("[GroupsPage] Error loading groups:",g),console.error("[GroupsPage] Error details:",{message:g.message,response:null===(l=g.response)||void 0===l?void 0:l.data,status:null===(u=g.response)||void 0===u?void 0:u.status}),null===(p=g.message)||void 0===p||!p.includes("Community not found")){e.n=11;break}return e.n=9,E.create({message:"Unable to load groups. Please ensure you are part of a community.",duration:3e3,color:"warning"});case 9:return d=e.v,e.n=10,d.present();case 10:e.n=13;break;case 11:return e.n=12,E.create({message:g.message||"Failed to load groups. Please try again.",duration:3e3,color:"danger"});case 12:return f=e.v,e.n=13,f.present();case 13:h.value=[],y.value=[];case 14:return e.p=14,v.value=!1,e.f(14);case 15:return e.a(2)}},t,null,[[2,8,14,15]])}))).apply(this,arguments)}function q(e){x.value=e.target.value||""}function B(e){o.push(e)}function H(e){o.push("/tabs/groups/".concat(e.id))}function Q(e){return K.apply(this,arguments)}function K(){return(K=r(e().m(function t(o){var r,n,a,i,s,l,u;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null!==(r=c.user)&&void 0!==r&&r.id){e.n=3;break}return e.n=1,E.create({message:"You must be logged in to join a group",duration:2e3,color:"danger"});case 1:return n=e.v,e.n=2,n.present();case 2:case 10:return e.a(2);case 3:return e.p=3,e.n=4,W.joinGroup(c.user.id,o.id);case 4:return e.n=5,E.create({message:"Successfully joined ".concat(o.name,"!"),duration:2e3,color:"success"});case 5:return a=e.v,e.n=6,a.present();case 6:return y.value=y.value.filter(function(e){return e.id!==o.id}),o.userFollows=!0,h.value.push(o),e.n=7,X();case 7:e.n=10;break;case 8:return e.p=8,u=e.v,console.error("[GroupsPage] Error joining group:",u),s="Failed to join group. Please try again.",u.message&&"Request failed"!==u.message?s=u.message:null!==(i=u.response)&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&i.message&&(s=u.response.data.message),e.n=9,E.create({message:s,duration:3e3,color:"danger"});case 9:return l=e.v,e.n=10,l.present()}},t,null,[[3,8]])}))).apply(this,arguments)}function ee(e){console.log("Toggle favorite for group:",e.id,e.isFavorite)}function te(e,t){console.log("Show filter menu for",t)}function oe(){X()}return A(function(){return l.currentCommunityId},function(e){e&&"/tabs/groups"===a.path?X():e||(h.value=[],y.value=[])}),M(function(){X()}),T(function(e,t){(t.path.includes("/groups/new")||t.path.includes("/groups/")&&!t.path.includes("/groups/new"))&&X()}),function(e,t){return u(),O(g(L),{onIonViewDidEnter:oe},{default:z(function(){return[f(g(U),{fullscreen:!0,class:"groups-content"},{default:z(function(){return[d("div",he,[d("div",ye,[f(g(J),{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.value=e}),placeholder:"Find Groups",class:"groups-search",debounce:300,onIonInput:q},null,8,["modelValue"]),f(g(C),{fill:"clear",class:"create-button-inline",onClick:t[1]||(t[1]=function(e){return B("/tabs/groups/new")})},{default:z(function(){return[f(g(m),{icon:g(N)},null,8,["icon"])]}),_:1})]),w.value.length>0?(u(),s("div",we,[t[5]||(t[5]=d("div",{class:"section-header"},[d("h2",{class:"section-title"},"Suggested Groups")],-1)),f(xe,{groups:w.value,"is-joined":!1,onJoin:Q,onClick:H},null,8,["groups"])])):p("",!0),h.value.length>0?(u(),s("div",ke,[d("div",je,[t[6]||(t[6]=d("h2",{class:"section-title"},"My Groups",-1)),f(g(C),{fill:"clear",size:"small",class:"filter-button",onClick:t[2]||(t[2]=function(e){return te(0,"mine")})},{default:z(function(){return[f(g(m),{icon:g(V)},null,8,["icon"])]}),_:1})]),f(xe,{groups:j.value,"is-joined":!0,"group-messages":k.value,onClick:H,onFavorite:ee},null,8,["groups","group-messages"])])):p("",!0),y.value.length>0?(u(),s("div",ze,[d("div",Ge,[d("h2",Ce,b(h.value.length>0?"All Groups":"Groups"),1),f(g(C),{fill:"clear",size:"small",class:"filter-button",onClick:t[3]||(t[3]=function(e){return te(0,"all")})},{default:z(function(){return[f(g(m),{icon:g(V)},null,8,["icon"])]}),_:1})]),f(xe,{groups:P.value,"is-joined":!1,onJoin:Q,onClick:H},null,8,["groups"])])):p("",!0),v.value||0!==h.value.length||0!==y.value.length||0!==w.value.length?p("",!0):(u(),s("div",Pe,[d("div",_e,[f(g(m),{icon:g(Y)},null,8,["icon"])]),t[8]||(t[8]=d("h3",{class:"empty-title"},"Let's get your first group created!",-1)),f(g(C),{fill:"outline",class:"empty-action-button",onClick:t[4]||(t[4]=function(e){return B("/tabs/groups/new")})},{default:z(function(){return n(t[7]||(t[7]=[G(" Add Groups ",-1)]))}),_:1})])),v.value?(u(),s("div",Se,[f(g(D)),t[9]||(t[9]=d("p",null,"Loading groups...",-1))])):p("",!0)])]}),_:1})]}),_:1})}}});t("default",_(Fe,[["__scopeId","data-v-f16b822b"]]))}}})}();
